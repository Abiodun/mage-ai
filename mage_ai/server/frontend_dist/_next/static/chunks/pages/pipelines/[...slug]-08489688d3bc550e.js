(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8778],{7432:function(e,n,t){var r={"./Active4D.json":[266,266],"./All Hallows Eve.json":[4450,4450],"./Amy.json":[88849,8849],"./Birds of Paradise.json":[78097,8097],"./Blackboard.json":[88018,6115],"./Brilliance Black.json":[73835,3835],"./Brilliance Dull.json":[6507,6507],"./Chrome DevTools.json":[22508,2508],"./Clouds Midnight.json":[49566,9566],"./Clouds.json":[57951,7951],"./Cobalt.json":[80826,826],"./Cobalt2.json":[98256,8256],"./Dawn.json":[76958,6958],"./Dominion Day.json":[89307,9307],"./Dracula.json":[33453,3453],"./Dreamweaver.json":[19363,9363],"./Eiffel.json":[82481,2481],"./Espresso Libre.json":[44776,4776],"./GitHub.json":[10739,739],"./IDLE.json":[67947,7947],"./Katzenmilch.json":[81240,1240],"./Kuroir Theme.json":[4388,4388],"./LAZY.json":[25164,5164],"./MagicWB (Amiga).json":[76443,6443],"./Merbivore Soft.json":[99361,9361],"./Merbivore.json":[86042,6042],"./Monokai Bright.json":[14883,4883],"./Monokai.json":[34454,4454],"./Night Owl.json":[60261,261],"./Nord.json":[59785,9785],"./Oceanic Next.json":[58920,8920],"./Pastels on Dark.json":[38901,8901],"./Slush and Poppies.json":[26434,6434],"./Solarized-dark.json":[36116,6116],"./Solarized-light.json":[5008,5008],"./SpaceCadet.json":[20440,440],"./Sunburst.json":[68018,8018],"./Textmate (Mac Classic).json":[15824,5824],"./Tomorrow-Night-Blue.json":[81150,1150],"./Tomorrow-Night-Bright.json":[8762,8762],"./Tomorrow-Night-Eighties.json":[82545,2545],"./Tomorrow-Night.json":[99855,9855],"./Tomorrow.json":[34092,4092],"./Twilight.json":[93898,3898],"./Upstream Sunburst.json":[98807,8807],"./Vibrant Ink.json":[89927,9927],"./Xcode_default.json":[64042,4042],"./Zenburnesque.json":[33467,3467],"./iPlastic.json":[88277,8277],"./idleFingers.json":[5104,5104],"./krTheme.json":[9633,9633],"./monoindustrial.json":[15729,5729],"./themelist.json":[79437,9437]};function o(e){if(!t.o(r,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=r[e],o=n[0];return t.e(n[1]).then((function(){return t.t(o,19)}))}o.keys=function(){return Object.keys(r)},o.id=7432,e.exports=o},32141:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return $c}});var r,o,i,c=t(77837),l=t(12757),u=t(82394),a=t(38860),s=t.n(a),d=t(56085),f=t(82684),p=t(83455),h=t(34376);!function(e){e.CHART="chart",e.DATA_EXPORTER="data_exporter",e.DATA_LOADER="data_loader",e.SCRATCHPAD="scratchpad",e.TRANSFORMER="transformer"}(i||(i={}));var m,v=[i.CHART,i.DATA_EXPORTER,i.DATA_LOADER,i.SCRATCHPAD,i.TRANSFORMER],g=[i.CHART,i.SCRATCHPAD];!function(e){e.EXECUTED="executed",e.FAILED="failed",e.NOT_EXECUTED="not_executed",e.UPDATED="updated"}(m||(m={}));var b=(r={},(0,u.Z)(r,i.DATA_EXPORTER,"Data exporter"),(0,u.Z)(r,i.DATA_LOADER,"Data loader"),(0,u.Z)(r,i.SCRATCHPAD,"Scratchpad"),(0,u.Z)(r,i.TRANSFORMER,"Transformer"),r),x=[i.DATA_EXPORTER,i.DATA_LOADER,i.TRANSFORMER],y=(o={},(0,u.Z)(o,i.DATA_EXPORTER,"DE"),(0,u.Z)(o,i.DATA_LOADER,"DL"),(0,u.Z)(o,i.SCRATCHPAD,"SP"),(0,u.Z)(o,i.TRANSFORMER,"TF"),t(60328)),j=t(67971),k=t(46313),O=t(19711),C=t(1132),w=t(73942),Z=t(28598),_=(0,k.css)(["min-width:18px;padding-left:2px;padding-right:2px;"," "," "," "," "," ",""],(function(e){return!e.disabled&&"\n    background-color: ".concat((e.theme.content||C.Z.content).inverted,";\n  ")}),(function(e){return e.disabled&&"\n    // background-color: ".concat((e.theme.monotone||C.Z.monotone).grey400," !important;\n  ")}),(function(e){return e.mutedDisabled&&"\n    opacity: 0.3;\n  "}),(function(e){return!e.borderless&&"\n    box-shadow: ".concat((e.theme.shadow||C.Z.shadow).tiny,";\n    padding-bottom: 3px;\n    padding-top: 3px;\n  ")}),(function(e){return e.borderless&&"\n    border-radius: ".concat(w.BG,"px;\n    padding-bottom: 4px;\n    padding-top: 4px;\n  ")}),(function(e){return e.spacingLeft&&"\n    margin-left: ".concat(e.spacingLeft,"px;\n  ")})),S=k.default.kbd.withConfig({displayName:"KeyboardText__KbdStyle",componentId:"sc-18540m4-0"})(["",""],_),P=k.default.div.withConfig({displayName:"KeyboardText__DivStyle",componentId:"sc-18540m4-1"})(["",""],_);var E=function(e){var n=e.borderless,t=e.disabled,r=e.inline,o=e.keyText,i=e.monospace,c=e.mutedDisabled,l=e.spacingLeft,u=r?P:S,a=(0,f.useContext)(k.ThemeContext),s={};if(!n){var d,p;if(t)s.borderColor=null===(d=(null===a||void 0===a?void 0:a.monotone)||C.Z.monotone)||void 0===d?void 0:d.grey400;else s.borderColor=null===(p=(null===a||void 0===a?void 0:a.content)||C.Z.content)||void 0===p?void 0:p.active;s.borderRadius=w.BG,s.borderStyle="solid",s.borderWidth=1,s.overflow="hidden"}return(0,Z.jsx)(O.ZP,{center:!0,inline:!0,monospace:i,muted:t||c,style:s,xsmall:!0,children:(0,Z.jsx)(u,{borderless:n,disabled:t,mutedDisabled:c,spacingLeft:l,children:o})})},T=t(49125),I=k.default.div.withConfig({displayName:"KeyboardTextGroup__SpacingStyle",componentId:"sc-1bx41p7-0"})([""," "," ",""],(function(e){return e.small&&"\n    margin-left: ".concat(.25*T.iI,"px;\n  ")}),(function(e){return!e.small&&"\n    margin-left: ".concat(.25*T.iI,"px;\n  ")}),(function(e){return e.marginRight&&"\n    margin-right: ".concat(.25*T.iI,"px;\n  ")}));var A=function(e){var n=e.borderless,t=e.disabled,r=e.keyTextGroups,o=e.inline,i=e.monospace,c=e.mutedDisabled,l=e.small,u=e.uuidForKey,a=[],s=[];return r.forEach((function(e,r){var o=[];e.forEach((function(e,r){s.push(e),r>=1&&o.push((0,Z.jsx)(I,{small:l},"spacing-".concat(e))),o.push((0,Z.jsx)(E,{borderless:n,disabled:t,inline:!0,keyText:e,monospace:i,mutedDisabled:c},"key-".concat(s.join("-"),"-").concat(u)))})),r>=1&&a.push((0,Z.jsx)(I,{marginRight:!0,children:(0,Z.jsx)(O.ZP,{monospace:i,muted:!0,small:!l,xsmall:l,children:"then"})},"then-".concat(r))),a.push.apply(a,o)})),(0,Z.jsx)(j.Z,{alignItems:"center",inline:o,children:a})},R=t(10512),D=34*T.iI,B=20*T.iI,N=k.default.div.withConfig({displayName:"indexstyle__FlyoutMenuContainerStyle",componentId:"sc-1o7k6f4-0"})(["position:absolute;max-height:","px;"," "," "," ",""],58*T.iI,(function(e){return!e.compact&&"\n    min-width: ".concat(D,"px;\n  ")}),(function(e){return e.compact&&"\n    min-width: ".concat(B,"px;\n  ")}),(function(e){return e.width&&"\n    min-width: 0px;\n    width: ".concat(e.width,"px;\n  ")}),(function(e){return"\n    box-shadow: ".concat((e.theme.shadow||C.Z.shadow).popup,";\n\n    &:hover {\n      background-color: ").concat((e.theme.interactive||C.Z.interactive).hoverBackground,";\n    }\n  ")})),M=k.default.div.withConfig({displayName:"indexstyle__TitleContainerStyle",componentId:"sc-1o7k6f4-1"})(["padding:","px;padding-bottom:0;",""],T.iI,(function(e){return"\n    background-color: ".concat((e.theme.background||C.Z.background).popup,";\n  ")})),L=k.default.div.withConfig({displayName:"indexstyle__LinkStyle",componentId:"sc-1o7k6f4-2"})(["align-items:center;display:flex;justify-content:space-between;padding:","px;&:hover{cursor:default;}"," "," ",""],T.iI,(function(e){return"\n    background-color: ".concat((e.theme.background||C.Z.background).popup,";\n\n    &:hover {\n      background-color: ").concat((e.theme.interactive||C.Z.interactive).hoverBackground,";\n    }\n  ")}),(function(e){return e.indent&&"\n    padding-left: ".concat(2*T.iI,"px;\n  ")}),(function(e){return e.highlighted&&"\n    background-color: ".concat((e.theme.interactive||C.Z.interactive).hoverBackground,";\n  ")})),F=t(16115);function H(e){return e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1,!1}var U=t(41150);function z(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function W(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?z(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):z(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var G=function(e){var n,t,r=e.compact,o=e.items,i=e.left,c=e.onClickCallback,l=e.open,a=e.parentRef,s=e.topOffset,d=void 0===s?0:s,p=e.uuid,h=e.width,m=(0,f.useState)([]),v=m[0],g=m[1],b=(0,f.useState)({}),x=b[0],y=b[1],k=(0,f.useState)(0),C=k[0],w=k[1],_=((null===a||void 0===a||null===(n=a.current)||void 0===n||null===(t=n.getBoundingClientRect)||void 0===t?void 0:t.call(n))||{}).height,S=(0,f.useRef)({}),P=(0,U.y)(),E=P.registerOnKeyDown,T=P.unregisterOnKeyDown;return(0,f.useEffect)((function(){return function(){T(p)}}),[T,p]),E(p,(function(e,n,t){if(l){var r=v[0];if(n[F.kD])H(e),"undefined"===typeof r||r===o.length-1?g([0]):g([r+1]);else if(n[F.Bu])H(e),g("undefined"===typeof r||0===r?[o.length-1]:[r-1]);else if(n[F.Uq]&&"undefined"!==typeof r){var i,u;null===(i=o[r])||void 0===i||null===(u=i.onClick)||void 0===u||u.call(i),null===c||void 0===c||c()}else o.forEach((function(e){var r=e.keyboardShortcutValidation;null===r||void 0===r||r({keyHistory:t,keyMapping:n})}))}}),[v,o,c,l,g]),(0,f.useEffect)((function(){l||g([])}),[l]),o?function e(n,t,o){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4?arguments[4]:void 0;return l+=1,(0,Z.jsx)(N,{compact:r,style:{display:o||x[t]?null:"none",left:1===l?i||0:r?(l-1)*B:(l-1)*D,top:1===l?(_||0)+d:C||0},width:h,children:null===n||void 0===n?void 0:n.map((function(n,t){var r=n.items,o=n.indent,i=n.isGroupingTitle,s=n.keyTextGroups,d=n.label,p=n.onClick,h=n.uuid;return a.current[h]=(0,f.createRef)(),i?(0,Z.jsx)(M,{children:(0,Z.jsx)(O.ZP,{bold:!0,muted:!0,children:d()},h)}):(0,Z.jsxs)(L,{highlighted:v[0]===t,indent:o,onClick:function(e){e.preventDefault(),null===p||void 0===p||p(),null===c||void 0===c||c()},onMouseEnter:function(){var e,n;(y((function(e){return W(W({},e),{},(0,u.Z)({},h,!0))})),1===l)&&w((null===(e=a.current[h])||void 0===e||null===(n=e.current)||void 0===n?void 0:n.offsetTop)||0)},onMouseLeave:function(){y((function(e){return W(W({},e),{},(0,u.Z)({},h,!1))}))},ref:a.current[h],children:[(0,Z.jsxs)(j.Z,{alignItems:"center",fullWidth:!0,justifyContent:"space-between",children:[(0,Z.jsx)(O.ZP,{children:d()}),r&&(0,Z.jsx)(R.ol,{})]}),s&&(0,Z.jsx)(A,{keyTextGroups:s}),r&&e(r,h,!1,l,a)]},h)}))})}(o,void 0,l,0,S):null},Q=t(26304),V=t(93461),K=["children"];function X(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function q(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?X(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):X(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Y=k.default.div.withConfig({displayName:"Circle__CircleStyle",componentId:"sc-1o70504-0"})([""," "," "," "," "," "," ",""],(function(e){return!e.square&&"\n    border-radius: 50%;\n  "}),(function(e){return e.square&&"\n    border-radius: ".concat(w.BG,"px;\n  ")}),(function(e){return!e.color&&!(e.borderSize||e.borderColor)&&"\n    background-color: ".concat((e.theme.content||C.Z.content).muted,";\n  ")}),(function(e){return(e.borderSize||e.borderColor)&&"\n    border: ".concat(e.borderSize||1,"px solid ").concat(e.borderColor||(e.theme.content||C.Z.content).active,";\n  ")}),(function(e){return e.color&&"\n    background-color: ".concat(e.color,";\n  ")}),(function(e){return e.size&&"\n    height: ".concat(e.size,"px;\n    width: ").concat(e.size,"px;\n  ")}),(function(e){return e.danger&&"\n    background-color: ".concat((e.theme.borders||C.Z.borders).danger,";\n  ")}));var J,$,ee=function(e){var n=e.children,t=(0,Q.Z)(e,K);return(0,Z.jsx)(Y,q(q({},t),{},{children:(0,Z.jsx)(j.Z,{alignItems:"center",fullHeight:!0,fullWidth:!0,justifyContent:"center",children:n&&(0,Z.jsx)(V.Z,{children:n})})}))};!function(e){e.PY="py",e.TXT="txt",e.YAML="yaml",e.YML="yml"}($||($={}));var ne,te,re=[$.TXT,$.YAML,$.YML],oe=new RegExp(re.map((function(e){return".".concat(e,"$")})).join("|")),ie="charts",ce="pipelines",le=(J={},(0,u.Z)(J,$.PY,"python"),(0,u.Z)(J,$.TXT,"text"),(0,u.Z)(J,$.YAML,"yaml"),(0,u.Z)(J,$.YML,"yaml"),J),ue=1.5*T.iI,ae=1*ue+T.iI/2,se=k.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-uvd91-0"})([".row:hover{","}"],(function(e){return"\n      background-color: ".concat((e.theme.interactive||C.Z.interactive).hoverBackground,";\n    ")})),de=function(e){return e.at(-1)},fe=function(e){return e.at(-2).slice(0,-1)},pe=function(e){return de(e).slice(0,-3)};!function(e){e.DATA_LOADERS="data_loaders",e.DATA_EXPORTERS="data_exporters",e.GLOBAL_VARIABLES="global_variables",e.PIPELINES="pipelines",e.SCRATCHPADS="scratchpads",e.TRANSFORMERS="transformers"}(ne||(ne={})),function(e){e.INIT_PY="__init__.py"}(te||(te={}));var he,me,ve="sideview";!function(e){e.CHARTS="charts",e.DATA="data",e.GRAPHS="graphs",e.REPORTS="reports",e.TREE="tree",e.VARIABLES="variables"}(me||(me={}));var ge=[me.CHARTS,me.DATA,me.REPORTS,me.TREE],be=[me.DATA,me.REPORTS,me.GRAPHS],xe=[{key:me.TREE,label:"Tree"},{key:me.CHARTS,label:"Charts"},{key:me.VARIABLES,label:"Variables"},{key:me.DATA,label:"Data"}],ye=(he={},(0,u.Z)(he,me.CHARTS,R.er),(0,u.Z)(he,me.DATA,R.t1),(0,u.Z)(he,me.GRAPHS,R.er),(0,u.Z)(he,me.REPORTS,R.Do),(0,u.Z)(he,me.TREE,R.BJ),(0,u.Z)(he,me.VARIABLES,R.KJ),he),je=t(91427),ke=t(90880);function Oe(e,n){var t=(n.theme.borders||C.Z.borders).light,r=(n.theme.monotone||C.Z.monotone).grey500,o=n||{},c=o.isSelected,l=o.theme;return c?t=(l.content||C.Z.content).active:i.TRANSFORMER===e?(t=(l.accent||C.Z.accent).purple,r=(l.accent||C.Z.accent).purpleLight):i.DATA_EXPORTER===e?(t=(l.accent||C.Z.accent).yellow,r=(l.accent||C.Z.accent).yellowLight):i.DATA_LOADER===e?(t=(l.accent||C.Z.accent).blue,r=(l.accent||C.Z.accent).blueLight):i.SCRATCHPAD===e&&(t=(l.content||C.Z.content).default,r=(l.accent||C.Z.accent).contentDefaultTransparent),{accent:t,accentLight:r}}var Ce=(0,k.css)([""," "," "," ",""],(0,ke.eR)(),(function(e){return!e.selected&&!e.hasError&&"\n    border-color: ".concat(Oe(e.blockType,e).accentLight,";\n  ")}),(function(e){return e.selected&&!e.hasError&&"\n    border-color: ".concat(Oe(e.blockType,e).accent,";\n  ")}),(function(e){return e.selected&&e.hasError&&"\n    border-color: ".concat((e.theme.borders||C.Z.borders).danger,";\n  ")})),we=k.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-s5rj34-0"})(["border-radius:","px;overflow:hidden;position:relative;"],w.n_),Ze=k.default.div.withConfig({displayName:"indexstyle__CodeContainerStyle",componentId:"sc-s5rj34-1"})([""," border-left-style:solid;border-left-width:2px;border-right-style:solid;border-right-width:2px;border-top-left-radius:","px;border-top-right-radius:","px;border-top-style:solid;border-top-width:2px;padding-bottom:","px;padding-top:","px;"," "," .line-numbers{opacity:0;}&.selected{.line-numbers{opacity:1 !important;}}"],Ce,w.n_,w.n_,T.iI,T.iI,(function(e){return"\n    background-color: ".concat((e.theme.background||C.Z.background).codeTextarea,";\n  ")}),(function(e){return!e.hasOutput&&"\n    border-bottom-left-radius: ".concat(w.n_,"px;\n    border-bottom-right-radius: ").concat(w.n_,"px;\n    border-bottom-style: solid;\n    border-bottom-width: 2px;\n  ")})),_e=k.default.div.withConfig({displayName:"indexstyle__BlockDivider",componentId:"sc-s5rj34-2"})(["align-items:center;display:flex;height:","px;justify-content:center;position:relative;z-index:10;&:hover{.block-divider-inner{","}}"],2*T.iI,(function(e){return"\n        background-color: ".concat((e.theme.text||C.Z.text).fileBrowser,";\n      ")})),Se=k.default.div.withConfig({displayName:"indexstyle__BlockDividerInner",componentId:"sc-s5rj34-3"})(["height 1px;width:100%;position:absolute;z-index:-1;"]),Pe=k.default.div.withConfig({displayName:"indexstyle__CodeHelperStyle",componentId:"sc-s5rj34-4"})(["margin-bottom:","px;padding-bottom:","px;padding-left:","px;",""],T.cd*T.iI,T.iI,68,(function(e){return"\n    border-bottom: 1px solid ".concat((e.theme.borders||C.Z.borders).medium,";\n  ")})),Ee=t(29817);function Te(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=n||(null===e||void 0===e?void 0:e.name);return null!==e&&void 0!==e&&e.parent?Te(e.parent,"".concat(e.parent.name,"/").concat(t)):t}function Ie(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=Te(e,n).split("/"),r=(0,Ee.C5)(t[1]),o=t[t.length-1],i=new RegExp(".".concat($.PY,"$"));if(v.includes(r)&&o.match(i))return{type:r,uuid:o.replace(i,"")}}var Ae=t(24224);function Re(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function De(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Re(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Re(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Be,Ne=function e(n){var t,r=n.file,o=n.level,c=n.onSelectBlockFile,l=n.openFile,u=n.openPipeline,a=n.openSidekickView,s=n.setContextItem,d=n.theme,p=r.children,h=r.disabled,m=r.name,g=r.parent,b=h||"__init__.py"===m||!!m.match(/^\./),x=(null===g||void 0===g?void 0:g.name)===ce,y=(0,f.useMemo)((function(){return x?null:p?(0,Ae.YC)(p,(function(e){var n=e.children,t=e.name;return m===ce?t:n?0:1})):p}),[p,x]),j="".concat(o,"/").concat(m),k=(0,f.useState)((0,je.U2)(j,!1)),C=k[0],w=k[1],_=R.iU;x&&!b?_=R.B_:m===ie?_=R.er:y&&(_=R.gt),y&&v.includes((0,Ee.C5)(m))&&(0,Ee.C5)(m)!==i.CHART&&(t=Oe((0,Ee.C5)(m),{theme:d}).accent);var S=(0,f.useMemo)((function(){return null===y||void 0===y?void 0:y.map((function(n){return(0,Z.jsx)(e,{file:De(De({},n),{},{parent:r}),level:o+1,onSelectBlockFile:c,openFile:l,openPipeline:u,openSidekickView:a,setContextItem:s,theme:d},"".concat(j,"/").concat(n.name))}))}),[y,l,u]);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("div",{className:"row",onClick:function(e){if(e.preventDefault(),!b){if((null===g||void 0===g?void 0:g.name)===ie){a(me.CHARTS);var n=Ie(r);n&&c(n.uuid,n.type,Te(r).split("/").slice(1).join("/"))}if(x)u(m);else if(y)w((function(e){return(0,je.t8)(j,!e),!e}));else if(m.match(oe))l(Te(r).split("/").slice(1).join("/"));else{var t=Ie(r);t&&c(t.uuid,t.type,Te(r).split("/").slice(1).join("/"))}}},onContextMenu:function(e){e.preventDefault();var n={data:{block:Ie(r)}};b?s(De({type:Be.DISABLED},n)):x?s(De({type:Be.PIPELINE},n)):y?s(De({type:Be.FOLDER},n)):m.match(oe)||m===te.INIT_PY?s(De({type:Be.FILE},n)):s(De({type:Be.BLOCK_FILE},n))},style:{alignItems:"center",cursor:"default",display:"flex",minWidth:o*ae+r.name.length*T.Fo+2*T.iI,paddingBottom:T.iI/4,paddingLeft:T.iI/4+ae*o,paddingRight:T.iI/4,paddingTop:T.iI/4},children:[y&&!C&&(0,Z.jsx)(R._M,{muted:!0,size:ue}),y&&C&&(0,Z.jsx)(R._Q,{muted:!0,size:ue}),!y&&(0,Z.jsx)("div",{style:{width:ue}}),(0,Z.jsxs)("div",{style:{marginLeft:T.iI/2,marginRight:T.iI/2},children:[!t&&(0,Z.jsx)(_,{disabled:b,size:ue}),t&&(0,Z.jsx)(ee,{color:t,size:ue,square:!0})]}),(0,Z.jsx)(O.ZP,{color:t,default:!t&&!b,disabled:b,monospace:!0,small:!0,children:m})]}),(0,Z.jsx)("div",{style:{display:C?"none":"block"},children:S})]})},Me=["files"];function Le(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Fe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Le(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Le(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function He(e,n){var t=e.files,r=(0,Q.Z)(e,Me),o=(0,f.useContext)(k.ThemeContext);return(0,Z.jsx)(se,{ref:n,children:null===t||void 0===t?void 0:t.map((function(e){return(0,f.createElement)(Ne,Fe(Fe({},r),{},{file:e,key:e.name,level:0,theme:o}))}))})}!function(e){e.BLOCK_FILE="block_file",e.DISABLED="disabled",e.FILE="file",e.FOLDER="folder",e.PIPELINE="pipeline"}(Be||(Be={}));var Ue,ze=f.forwardRef(He),We=t(86585);!function(e){e.FILE_BROWSER="file_browser"}(Ue||(Ue={}));var Ge=k.default.div.withConfig({displayName:"ContextMenu__ContainerStyle",componentId:"sc-b9ha7f-0"})(["position:fixed;z-index:",";"," "," "," "," "," "," ",""],We.bf+100,(function(e){return"undefined"!==typeof e.left&&"\n    left: ".concat(e.left+5,"px;\n  ")}),(function(e){return"undefined"!==typeof e.right&&"\n    right: ".concat(e.right,"px;\n  ")}),(function(e){return"undefined"!==typeof e.top&&"\n    top: ".concat(e.top,"px;\n  ")}),(function(e){return"undefined"!==typeof e.bottom&&"\n    bottom: ".concat(e.bottom,"px;\n  ")}),(function(e){return"undefined"===typeof e.top&&"undefined"===typeof e.bottom&&"\n    top: ".concat(We.Mz-1*T.iI,"px;\n  ")}),(function(e){return e.width&&"\n    width: ".concat(e.width,"px;\n  ")}),(function(e){return!e.width&&"\n    min-width: ".concat(33*T.iI,"px;\n  ")}));var Qe=function(e){var n=e.areaRef,t=e.children,r=e.deleteBlockFile,o=e.enableContextItem,i=e.type,c=(0,f.useState)({x:0,y:0}),l=c[0],a=c[1],s=(0,f.useState)({}),d=s[0],p=s[1],h=(0,f.useState)(!1),m=h[0],v=h[1];(0,f.useEffect)((function(){return document.addEventListener("click",g),document.addEventListener("contextmenu",b),function(){document.addEventListener("click",g),document.removeEventListener("contextmenu",b)}}),[]);var g=(0,f.useCallback)((function(e){e.preventDefault(),v(!1)}),[v]),b=(0,f.useCallback)((function(e){n.current.contains(e.target)?(o||e.preventDefault(),a({x:e.pageX,y:e.pageY}),v(!0)):v(!1)}),[n,o,a,v]),x=(0,u.Z)({},Be.BLOCK_FILE,[{label:function(){return"Delete"},onClick:function(){return r(d.data.block)},uuid:"delete block file"}]);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(Ge,{left:l.x,top:l.y,children:(0,Z.jsx)(G,{compact:!0,items:x[o?d.type:i],open:m,parentRef:void 0,uuid:"ContextMenu"})}),f.Children.map(t,(function(e){return f.cloneElement(e,{setContextItem:p})}))]})},Ve=t(85202),Ke=t(38789),Xe=t(66166),qe="twilight",Ye=t(2005),Je=t(31012),$e=k.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-w2hta3-0"})([""]),en=k.default.div.withConfig({displayName:"indexstyle__PlaceholderStyle",componentId:"sc-w2hta3-1"})(["padding-left:67px;position:absolute;z-index:1;"]);var nn={"all-hallows-eve":"All Hallows Eve","birds-of-paradise":"Birds of Paradise","brilliance-black":"Brilliance Black","brilliance-dull":"Brilliance Dull","chrome-devtools":"Chrome DevTools","clouds-midnight":"Clouds Midnight","espresso-libre":"Espresso Libre","kuroir-theme":"Kuroir Theme","magicwb--amiga-":"MagicWB (Amiga)","merbivore-soft":"Merbivore Soft","monokai-bright":"Monokai Bright","night-owl":"Night Owl","oceanic-next":"Oceanic Next","pastels-on-dark":"Pastels on Dark","slush-and-poppies":"Slush and Poppies","solarized-dark":"Solarized-dark","solarized-light":"Solarized-light","textmate--mac-classic-":"Textmate (Mac Classic)","tomorrow-night":"Tomorrow-Night","tomorrow-night-blue":"Tomorrow-Night-Blue","tomorrow-night-bright":"Tomorrow-Night-Bright","tomorrow-night-eighties":"Tomorrow-Night-Eighties","upstream-sunburst":"Upstream Sunburst","vibrant-ink":"Vibrant Ink","xcode-default":"Xcode_default",active4d:"Active4D",amy:"Amy",blackboard:"Blackboard",clouds:"Clouds",cobalt:"Cobalt",dawn:"Dawn",dreamweaver:"Dreamweaver",eiffel:"Eiffel",github:"GitHub",idle:"IDLE",idlefingers:"idleFingers",iplastic:"iPlastic",katzenmilch:"Katzenmilch",krtheme:"krTheme",lazy:"LAZY",merbivore:"Merbivore",monoindustrial:"monoindustrial",monokai:"Monokai",spacecadet:"SpaceCadet",sunburst:"Sunburst",tomorrow:"Tomorrow",twilight:"Twilight",zenburnesque:"Zenburnesque"};var tn=function(e){var n=e.autoHeight,r=e.autoSave,o=e.fontSize,i=void 0===o?Je.i3:o,c=e.height,u=e.language,a=e.onChange,s=e.onDidChangeCursorPosition,d=e.onSave,p=e.placeholder,h=e.selected,m=e.setSelected,v=e.setTextareaFocused,g=e.shortcuts,b=e.showLineNumbers,x=void 0===b||b,y=e.textareaFocused,j=e.theme,k=e.value,C=e.width,w=void 0===C?"100%":C,_=(0,f.useRef)(null),S=(0,f.useRef)(null),P=(0,f.useRef)(null),E=(0,f.useState)(!1),T=E[0],I=E[1],A=(0,f.useState)(c),R=(A[0],A[1],(0,f.useState)(j||qe)),D=R[0],B=R[1],N=(0,f.useCallback)((function(e){e.languages.typescript.javascriptDefaults.setEagerModelSync(!0)}),[]),M=(0,f.useCallback)((function(e,t){_.current=e,S.current=t;var r=[];null===g||void 0===g||g.forEach((function(n){r.push(n(t,e))})),d&&r.push(function(e,n){return{contextMenuGroupId:"navigation",contextMenuOrder:1.5,id:"saveCode",keybindingContext:null,keybindings:[e.KeyMod.CtrlCmd|e.KeyCode.KeyS],label:"Save",precondition:null,run:function(e){n()}}}(t,(function(){d(e.getValue())}))),function(e,n,t){t.forEach((function(e){n.addAction(e)}))}(0,e,r),e.getModel().updateOptions({tabSize:4}),n&&!c&&(e._domElement.style.height="".concat(21*((k||"").split("\n").length+2),"px")),e.onDidFocusEditorWidget((function(){null===m||void 0===m||m(!0),null===v||void 0===v||v(!0)})),e.onDidContentSizeChange((function(t){var r=t.contentHeight,o=t.contentHeightChanged;n&&o&&(e._domElement.style.height="".concat(r+42,"px"))})),h&&y&&setTimeout((function(){e.focus()}),1),s&&e.onDidChangeCursorPosition((function(n){var t=n.position.lineNumber,r=e._domElement.getBoundingClientRect(),o=r.height,i=r.top;s({editorRect:{height:Number(o),top:Number(i)},position:{lineNumber:Number(t)}})})),I(!0)}),[n,c,s,d,P.current,h,I,m,v,g,y,k]);(0,f.useEffect)((function(){(function(e){return new Promise((function(n){Promise.all([Ke._m.init(),t(7432)("./".concat(nn[e],".json"))]).then((function(t){var r=(0,l.Z)(t,2),o=r[0],i=r[1];i.colors["editor.background"]="#000000",i.colors["editor.foreground"]="#FFFFFF",o.editor.defineTheme(e,i),n()}))}))})(qe).then((function(){B(qe)}))}),[]),(0,f.useEffect)((function(){var e;return r&&d&&(e=setInterval((function(){d(_.current.getValue())}),5e3)),function(){r&&e&&clearInterval(e)}}),[r,_,d]);var L=(0,Xe.Z)(h),F=(0,Xe.Z)(y);return(0,f.useEffect)((function(){null!==_&&void 0!==_&&_.current&&(h&&y?setTimeout((function(){_.current.focus()}),1):Ve.findDOMNode(_.current._domElement).getElementsByClassName("inputarea")[0].blur())}),[_,h,L,y,F]),(0,Z.jsxs)($e,{style:{display:T?null:"none"},children:[p&&!(null!==k&&void 0!==k&&k.length)&&(0,Z.jsx)(en,{children:(0,Z.jsx)(O.ZP,{monospace:!0,muted:!0,children:p})}),(0,Z.jsx)(Ke.ZP,{beforeMount:N,height:c,language:u||"python",onChange:function(e){null===a||void 0===a||a(e)},onMount:M,options:{fontFamily:Ye.Vp,fontLigatures:!0,fontSize:i,hideCursorInOverviewRuler:!0,lineNumbers:x,minimap:{enabled:!1},overviewRulerBorder:!1,renderLineHighlightOnlyWhenFocus:!0,scrollBeyondLastLine:!1,scrollbar:{alwaysConsumeMouseWheel:!1,vertical:"hidden"},wordBasedSuggestions:!1},theme:D,value:k,width:w}),(0,Z.jsx)("div",{ref:P})]})},rn=t(12691),on=t.n(rn),cn=t(39421),ln=t(56663),un=t.n(ln),an=t(66757),sn=t.n(an),dn=t(55361);var fn="current_group_id",pn="current_group",hn="current_user";function mn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(e){var n=un()(e),t=n.current_group_id;return{id:t}}var r=sn().get(pn),o=cn.Z.get(fn,dn.Hu);if(r&&o)return r}function vn(){return sn().get(hn)}function gn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function bn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?gn(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):gn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function xn(){var e,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return bn(bn({},t),{},{groupId:null===(e=mn())||void 0===e?void 0:e.id,id:null===(n=vn())||void 0===n?void 0:n.id})}var yn=t(86954);function jn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function kn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?jn(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):jn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function On(){return[[yn.go,"initialAsPath"],[yn.iT,"initialPathname"],[yn.FT,"notificationTemplate"],[yn.Ll,"notificationUUID"],[yn.$m,"referringURL"]].reduce((function(e,n){var t=(0,l.Z)(n,2),r=t[0],o=t[1];return kn(kn({},e),{},(0,u.Z)({},o,cn.Z.get(r,yn.vZ)))}),{})}var Cn=t(36283);function wn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Zn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?wn(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):wn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var _n="click",Sn="button";function Pn(e){var n,t,r=e.actionName,o=e.actionType,i=e.componentName,c=e.componentType,l=e.properties,u=e.screenName,a=(n=r||o,t=i||c,"".concat(u,".").concat(n,"_").concat(t)),s=function(){var e,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=On(),o=(null!==t&&void 0!==t&&t.width,window.innerWidth);return Zn(Zn(Zn({},t),r),{},{groupId:null===(e=mn())||void 0===e?void 0:e.id,partner_id:"Mage",screenSize:(0,Cn.Z3)(o),userId:null===(n=vn())||void 0===n?void 0:n.id})}(Zn({actionType:o,componentType:c},l));return{eventProperties:s,eventType:a,userProperties:xn()}}function En(e,n){null===e||void 0===e||e(n)}var Tn=function(e){var n=e.children;return e.eventProperties,e.userProperties,n((function(e){return!1}))};function In(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function An(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?In(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):In(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Rn,Dn,Bn=function(e){var n,t=e.buildChildren,r=e.disabled,o=e.eventActionName,i=void 0===o?_n:o,c=e.eventComponentName,l=void 0===c?Sn:c,u=e.eventProperties,a=void 0===u?{}:u,s=e.eventScreenName,d=void 0===s?"generic":s,p=e.keyboardShortcutValidation,m=e.linkProps,v=e.onClick,g=e.openNewTab,b=e.requireKeyUp,x=e.uuid,y=(0,h.useRouter)(),j=(0,U.y)(),k=j.registerOnKeyDown,O=j.registerOnKeyUp,C=j.unregisterOnKeyDown,w=j.unregisterOnKeyUp;(0,f.useEffect)((function(){return function(){var e=b?w:C;null===e||void 0===e||e(x)}}),[b,C,w,x]),r||!v&&!m||(n=function(e){null===v||void 0===v||v(e),m&&(g?(window.open(m.as||m.href),e.preventDefault()):y.push(m.href,m.as))});var _=Pn({actionName:i,actionType:_n,componentName:l,componentType:Sn,properties:a,screenName:d}),S=_.eventType,P=_.eventProperties,E=_.userProperties;return(0,Z.jsx)(Tn,{eventProperties:P,userProperties:E,children:function(e){var r=e.logEvent;p&&n&&(b?O:k)(x,(function(e,t,o){p({keyHistory:o,keyMapping:t})&&(En(r,S,{eventProperties:An(An({},P),{},{usedKeyboardShortcut:!0}),userProperties:E}),n(e))}),[P,S,r,n,E]);return t({eventProperties:P,eventType:S,logEvent:r,onClick:n,userProperties:E})}})},Nn={chatBubbleProps:null,graphicButtonProps:null,logoProps:null,mageImageUrl:null,mascotImageUrls:{base:null,castingSpell:null,chargingUp:null,thinking:null},sharedProps:null},Mn=f.createContext(Nn),Ln=Mn,Fn=t(86673),Hn=t(54283),Un=t(10919),zn=["Icon","afterElement","beforeElement","bold","borderless","centerText","children","compact","disabled","fitContentWidth","inverted","keyTextGroups","keyTextsPosition","linkProps","loading","mutedDisabled","noHover","onClick","type","useModelTheme"];function Wn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Gn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Wn(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Wn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}!function(e){e.LEFT="left",e.RIGHT="right"}(Rn||(Rn={})),function(e){e.BUTTON="button",e.SUBMIT="submit"}(Dn||(Dn={}));var Qn=(0,k.css)([""," align-items:center;border:none;display:flex;flex-direction:row;position:relative;text-align:left;z-index:0;"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ",""],(0,ke.eR)(),(function(e){return!e.large1&&!e.large2&&"\n    ".concat(Je.iD,"\n  ")}),(function(e){return e.small&&"\n    ".concat(Je.HC,"\n  ")}),(function(e){return e.large1&&"\n    ".concat(Je.ln,"\n  ")}),(function(e){return e.large2&&"\n    ".concat(Je.QU,"\n  ")}),(function(e){return!e.inline&&"\n    width: 100%;\n  "}),(function(e){return e.shortWidth&&"\n    min-width: ".concat(28*T.iI,"px;\n  ")}),(function(e){return!e.wrapText&&"\n    white-space: nowrap;\n  "}),(function(e){return!e.secondary&&"\n    font-family: ".concat(Ye.ry,";\n    justify-content: space-between;\n  ")}),(function(e){return e.center&&"\n    justify-content: center;\n  "}),(function(e){return!e.noPadding&&!e.spacious&&!e.compact&&"\n    padding: ".concat(1.25*T.iI,"px ").concat(1.5*T.iI,"px;\n  ")}),(function(e){return e.compact&&"\n    padding: ".concat(.5*T.iI,"px ").concat(.75*T.iI,"px;\n  ")}),(function(e){return!e.noPadding&&!e.spacious&&e.halfPaddingTop&&"\n    padding-top: ".concat(.625*T.iI,"px;\n  ")}),(function(e){return!e.noPadding&&!e.spacious&&e.halfPaddingBottom&&"\n    padding-bottom: ".concat(.625*T.iI,"px;\n  ")}),(function(e){return!e.noPadding&&!e.spacious&&e.halfPaddingRight&&"\n    padding-right: ".concat(.75*T.iI,"px;\n  ")}),(function(e){return!e.noPadding&&!e.spacious&&e.halfPaddingLeft&&"\n    padding-left: ".concat(.75*T.iI,"px;\n  ")}),(function(e){return!e.noPadding&&e.spacious&&!e.marketing&&"\n    padding: ".concat(2.25*T.iI,"px ").concat(3*T.iI,"px;\n  ")}),(function(e){return!e.noPadding&&e.spacious&&e.marketing&&"\n    padding: ".concat(2.25*T.iI-2,"px ").concat(3*T.iI-2,"px;\n  ")}),(function(e){return!e.noPadding&&e.spacious&&e.halfPaddingTop&&"\n    padding-top: ".concat(1.125*T.iI,"px;\n  ")}),(function(e){return!e.noPadding&&e.spacious&&e.halfPaddingBottom&&"\n    padding-bottom: ".concat(1.125*T.iI,"px;\n  ")}),(function(e){return!e.noPadding&&e.spacious&&e.halfPaddingRight&&"\n    padding-right: ".concat(1.5*T.iI,"px;\n  ")}),(function(e){return!e.noPadding&&e.spacious&&e.halfPaddingLeft&&"\n    padding-left: ".concat(1.5*T.iI,"px;\n  ")}),(function(e){return e.secondary&&"\n    flex-basis: content;\n    font-family: ".concat(Ye.nF,";\n    padding: 0;\n  ")}),(function(e){return e.noPadding&&"\n    padding: 0;\n  "}),(function(e){return e.bold&&"\n    font-family: ".concat(Ye.nF,";\n  ")}),(function(e){return!e.muted&&!e.inverted&&"\n    color: ".concat((e.theme.content||C.Z.content).active,";\n  ")}),(function(e){return!e.muted&&e.inverted&&"\n    color: ".concat((e.theme.content||C.Z.content).inverted,";\n  ")}),(function(e){return e.muted&&"\n    color: ".concat((e.theme.monotone||C.Z.monotone).grey300,";\n  ")}),(function(e){return e.warning&&"\n    color: ".concat((e.theme.brand||C.Z.brand).energy400,";\n  ")}),(function(e){return e.noHover&&"\n    &:hover {\n      cursor: default;\n    }\n  "}),(function(e){return e.blackBorder&&"\n    border: ".concat(w.YF,"px ").concat(w.M8," ").concat((e.theme.monotone||C.Z.monotone).black,";\n  ")}),(function(e){return!e.pill&&!e.borderless&&!e.compact&&"\n    border-radius: ".concat(w.n_,"px;\n  ")}),(function(e){return e.compact&&"\n    border-radius: ".concat(w.BG,"px;\n  ")}),(function(e){return!e.borderRadiusLeft&&!e.borderRadiusRight&&e.pill&&!e.spacious&&"\n    border-radius: ".concat(5*T.iI,"px;\n  ")}),(function(e){return e.borderRadiusLeft&&e.pill&&!e.spacious&&"\n    border-bottom-left-radius: ".concat(5*T.iI,"px;\n    border-top-left-radius: ").concat(5*T.iI,"px;\n  ")}),(function(e){return e.borderRadiusRight&&e.pill&&!e.spacious&&"\n    border-bottom-right-radius: ".concat(5*T.iI,"px;\n    border-top-right-radius: ").concat(5*T.iI,"px;\n  ")}),(function(e){return e.borderRadiusLeft&&e.pill&&e.spacious&&"\n    border-bottom-left-radius: ".concat(8*T.iI,"px;\n    border-top-left-radius: ").concat(8*T.iI,"px;\n  ")}),(function(e){return e.borderRadiusRight&&e.pill&&e.spacious&&"\n    border-bottom-right-radius: ".concat(8*T.iI,"px;\n    border-top-right-radius: ").concat(8*T.iI,"px;\n  ")}),(function(e){return!e.noBackground&&e.backgroundColor&&"\n    background-color: ".concat(e.backgroundColor,";\n  ")}),(function(e){return e.inverted&&!e.noBackground&&!e.backgroundColor&&"\n    background-color: ".concat((e.theme.monotone||C.Z.monotone).black,";\n  ")}),(function(e){return!e.inverted&&!e.noBackground&&"\n    background-color: ".concat((e.theme.interactive||C.Z.interactive).defaultBackground,";\n\n    &:hover {\n      background-color: ").concat((e.theme.interactive||C.Z.interactive).hoverBackground,";\n    }\n  ")}),(function(e){return e.noBackground&&"\n    background-color: transparent !important;\n  "}),(function(e){return e.disabled&&e.inverted&&"\n    color: ".concat((e.theme.monotone||C.Z.monotone).grey400," !important;\n  ")}),(function(e){return e.disabled&&!e.inverted&&"\n    color: ".concat((e.theme.monotone||C.Z.monotone).grey300," !important;\n  ")}),(function(e){return e.disabled&&"\n    &:hover {\n      cursor: not-allowed;\n    }\n  "}),(function(e){return e.selected&&"\n    background-color: ".concat((e.theme.monotone||C.Z.monotone).black,";\n    color: ").concat((e.theme.monotone||C.Z.monotone).white,";\n  ")}),(function(e){return e.selected&&e.grey300&&"\n    background-color: ".concat((e.theme.monotone||C.Z.monotone).grey300,";\n  ")}),(function(e){return(e.selected||e.useModelTheme)&&e.fire&&"\n    background-color: ".concat((e.theme.brand||C.Z.brand).fire400,";\n  ")}),(function(e){return e.useModelTheme&&"\n    color: ".concat((e.theme.monotone||C.Z.monotone).white,";\n  ")}),(function(e){return(e.selected||e.useModelTheme)&&e.earth&&"\n    background-color: ".concat((e.theme.brand||C.Z.brand).earth400,";\n  ")}),(function(e){return e.primaryEnergy&&"\n    background-color: ".concat((e.theme.brand||C.Z.brand).energy400,";\n    border: none;\n    font-family: ").concat(Ye.nF,";\n  ")}),(function(e){return(e.selected||e.useModelTheme)&&e.wind&&"\n    background-color: ".concat((e.theme.brand||C.Z.brand).wind400,";\n  ")}),(function(e){return(e.selected||e.useModelTheme)&&e.water&&"\n    background-color: ".concat((e.theme.brand||C.Z.brand).water400,";\n  ")}),(function(e){return e.withIcon&&"\n    padding: ".concat(1.25*T.iI-1,"px !important;\n  ")}),(function(e){return e.shadow&&"\n    box-shadow: ".concat((e.theme.shadow||C.Z.shadow).large,";\n  ")})),Vn=k.default.button.withConfig({displayName:"KeyboardShortcutButton__ButtonStyle",componentId:"sc-10tm4pj-0"})(["",""],Qn),Kn=k.default.a.withConfig({displayName:"KeyboardShortcutButton__AnchorStyle",componentId:"sc-10tm4pj-1"})([""," ",""],Qn,Un.R),Xn=k.default.span.withConfig({displayName:"KeyboardShortcutButton__SpanStyle",componentId:"sc-10tm4pj-2"})(["margin-right:","px;"],1*T.iI);var qn=function(e){var n=e.Icon,t=e.afterElement,r=e.beforeElement,o=e.bold,i=e.borderless,c=e.centerText,l=e.children,a=e.compact,s=e.disabled,d=e.fitContentWidth,p=e.inverted,h=e.keyTextGroups,m=e.keyTextsPosition,v=void 0===m?Rn.RIGHT:m,g=e.linkProps,b=e.loading,x=e.mutedDisabled,y=e.noHover,j=e.onClick,k=e.type,O=void 0===k?Dn.BUTTON:k,C=e.useModelTheme,w=(0,Q.Z)(e,zn),_=g||{},S=_.as,P=_.href,E=S||P?Kn:Vn,I=(0,f.useMemo)((function(){if(!h)return null;var e=(0,u.Z)({},v===Rn.RIGHT?"ml":"mr",l?1:0);return(0,Z.jsx)(Fn.Z,Gn(Gn({},e),{},{children:(0,Z.jsx)(A,{borderless:p,disabled:s,keyTextGroups:h,mutedDisabled:x})}))}),[l,s,p,h,v,x]),R=((0,f.useContext)(Ln)||{}).sharedProps;return(0,Z.jsx)(Bn,Gn(Gn({},w),{},{buildChildren:function(e){var u=e.eventProperties,f=e.eventType,h=e.logEvent,m=e.onClick,j=e.userProperties,k=(0,Z.jsxs)(E,Gn(Gn(Gn({},w),C?R:{}),{},{bold:C||o,borderless:C||i,center:c,compact:a,disabled:s||x,fitContentWidth:d,inverted:p,noHover:(!m||y)&&!(S||P)&&O===Dn.BUTTON,onClick:function(e){En(h,f,{eventProperties:u,userProperties:j}),null===m||void 0===m||m(e)},type:S||P?null:O,useModelTheme:C,withIcon:!!n,children:[r&&!b&&(0,Z.jsxs)(Z.Fragment,{children:[r,(0,Z.jsx)(Fn.Z,{mr:1})]}),v===Rn.LEFT&&I,(0,Z.jsxs)(V.Z,{alignItems:"center",children:[n&&(0,Z.jsx)(n,{inverted:!p,muted:s||x,size:2.5*T.iI}),n&&l&&(0,Z.jsx)(Fn.Z,{mr:1}),b&&(0,Z.jsx)(Xn,{children:(0,Z.jsx)(Hn.Z,{inverted:!p})}),!b&&l]}),v===Rn.RIGHT&&I&&(0,Z.jsx)(Fn.Z,{ml:1,children:I}),t&&!b&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(Fn.Z,{ml:t?1:0}),t]})]}));return!S&&!P||s||x?k:(0,Z.jsx)(on(),Gn(Gn({},g),{},{passHref:!0,children:k}))},disabled:s||x,linkProps:g,onClick:j}))},Yn=t(41374),Jn=t(96510);function $n(e,n){var t=e.map((function(e){return String(e)})),r=e.includes(F.PQ),o=e.includes(F.zX),i=e.includes(F.XR),c=F.xU.map((function(e){return String(e)})),u=F.vk.map((function(e){return String(e)})),a=F.Tr.map((function(e){return String(e)})),s=Object.entries(n).find((function(e){var n=(0,l.Z)(e,2),s=n[0];return n[1]&&!t.includes(String(s))&&(!o||!u.includes(String(s)))&&(!r||!c.includes(String(s)))&&(!i||!a.includes(String(s)))}));return e.every((function(e){return n[e]}))&&!s}function et(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function nt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?et(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):et(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var tt=function(e){var n=e.addNewBlock,t=e.filePath,r=(e.pipeline,e.setFilesTouched),o=(0,f.useState)(null),c=o[0],a=o[1],s=Yn.ZP.file_contents.detail(t).data;(0,f.useEffect)((function(){null!==s&&void 0!==s&&s.file_content&&a(s.file_content)}),[s]);var d=(0,f.useState)(null===c||void 0===c?void 0:c.content),h=d[0],m=d[1],v=(0,f.useState)(!1),g=v[0],b=v[1],x=(0,p.Db)(Yn.ZP.file_contents.useUpdate(null===c||void 0===c?void 0:c.path),{onSuccess:function(e){return(0,Jn.wD)(e,{callback:function(){return!0},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),y=(0,l.Z)(x,1)[0],j=function(e,n){y({file_content:nt(nt({},n),{},{content:e})}),r((function(e){return nt(nt({},e),{},(0,u.Z)({},null===n||void 0===n?void 0:n.path,!1))})),b(!1)},k=(0,f.useMemo)((function(){return new RegExp(Object.keys(le).map((function(e){return".(".concat(e,")$")})).join("|"))}),[]),O=(0,f.useMemo)((function(){var e;return null===c||void 0===c||null===(e=c.path.match(k)[0])||void 0===e?void 0:e.split(".")[1]}),[k,c]),C=(0,f.useMemo)((function(){if(null!==c&&void 0!==c&&c.path)return(0,Z.jsx)(tn,{autoHeight:!0,language:le[O],onSave:function(e){j(e,c)},onChange:function(e){m(e),r((function(e){return nt(nt({},e),{},(0,u.Z)({},null===c||void 0===c?void 0:c.path,!0))})),b(!0)},selected:!0,textareaFocused:!0,value:null===c||void 0===c?void 0:c.content,width:"100%"})}),[c,O,j,r]),w=O===$.PY&&fe(c.path.split("/"))!==i.SCRATCHPAD&&(0,Z.jsx)(Fn.Z,{p:2,children:(0,Z.jsx)(qn,{inline:!0,onClick:function(){return n({type:fe(c.path.split("/")),uuid:pe(c.path.split("/"))})},uuid:"FileEditor/AddToCurrentPipeline",children:"Add to current pipeline"})}),_="FileEditor/".concat(null===c||void 0===c?void 0:c.path),S=(0,U.y)(),P=S.registerOnKeyDown,E=S.unregisterOnKeyDown;return(0,f.useEffect)((function(){return function(){E(_)}}),[E,_]),P(_,(function(e,n,t){if($n([F.zX,F.Um],n))e.preventDefault(),j(h,c);else if(g&&$n([F.zX,F.hS],n)){e.preventDefault();var r="".concat(c.path," has changes that are unsaved. ")+"Click cancel and save your changes before reloading page.";"undefined"!==typeof location&&window.confirm(r)&&location.reload()}}),[h,c,j,g]),(0,Z.jsxs)(Z.Fragment,{children:[C,w]})},rt=t(47999),ot=k.default.div.withConfig({displayName:"indexstyle__LinkStyle",componentId:"sc-y3uzxv-0"})(["padding:","px;&:hover{cursor:pointer;","}",""],T.iI,(function(e){return"\n      background-color: ".concat((e.theme.interactive||C.Z.interactive).hoverBackground,";\n    ")}),(function(e){return e.highlighted&&"\n    background-color: ".concat((e.theme.interactive||C.Z.interactive).hoverBackground,";\n  ")}));function it(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ct(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?it(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):it(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var lt=function(e){var n=e.fetchFileTree,t=e.interruptKernel,r=e.restartKernel,o=e.savePipelineContent,i=e.setMessages,c=(0,h.useRouter)(),a=(0,f.useState)(null),s=a[0],d=a[1],m=(0,f.useRef)(null),v=(0,f.useRef)(null),g=(0,p.Db)(Yn.ZP.pipelines.useCreate(),{onSuccess:function(e){return(0,Jn.wD)(e,{callback:function(e){var t=e.pipeline.uuid;c.push("/pipelines/[...slug]","/pipelines/".concat(t)),n()},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),b=(0,l.Z)(g,1)[0],x=[{label:function(){return"New pipeline"},onClick:function(){return b({pipeline:{name:(0,Ee.Y6)()}})},uuid:"new pipeline"},{label:function(){return"Save pipeline"},keyTextGroups:[[F.RJ,F.SS]],onClick:function(){return o()},uuid:"save pipeline"}],y=[{label:function(){return"Interrupt kernel"},keyTextGroups:[[F.kA],[F.kA]],onClick:function(){return t()},uuid:"Interrupt kernel"},{label:function(){return"Restart kernel"},keyTextGroups:[[F.t_[F.OC]],[F.t_[F.OC]]],onClick:function(){return r()},uuid:"Restart kernel"},{label:function(){return"Clear all outputs"},onClick:function(){return i((function(e){return Object.keys(e).reduce((function(e,n){return ct(ct({},e),{},(0,u.Z)({},n,[]))}),{})}))},uuid:"Clear all outputs"}],k="FileHeaderMenu/index",C=(0,U.y)(),w=C.registerOnKeyDown,_=C.unregisterOnKeyDown;return(0,f.useEffect)((function(){return function(){_(k)}}),[_,k]),w(k,(function(e,n,t){null!==s&&(n[F.QK]?d((function(e){return 0===e?1:e-1})):n[F.DY]&&d((function(e){return 1===e?0:e+1})))}),[s,d]),(0,Z.jsx)(rt.Z,{onClickOutside:function(){return d(null)},open:!0,style:{position:"relative"},children:(0,Z.jsxs)(j.Z,{children:[(0,Z.jsxs)("div",{style:{position:"relative"},children:[(0,Z.jsx)(ot,{highlighted:0===s,onClick:function(){return d((function(e){return 0===e?null:0}))},onMouseEnter:function(){return d((function(e){return null!==e?0:null}))},ref:m,children:(0,Z.jsx)(O.ZP,{children:"File"})}),(0,Z.jsx)(G,{items:x,onClickCallback:function(){return d(null)},open:0===s,parentRef:m,uuid:"FileHeaderMenu/file_items"})]}),(0,Z.jsxs)("div",{style:{position:"relative"},children:[(0,Z.jsx)(ot,{highlighted:1===s,onClick:function(){return d((function(e){return 1===e?null:1}))},onMouseEnter:function(){return d((function(e){return null!==e?1:null}))},ref:v,children:(0,Z.jsx)(O.ZP,{children:"Run"})}),(0,Z.jsx)(G,{items:y,onClickCallback:function(){return d(null)},open:1===s,parentRef:v,uuid:"FileHeaderMenu/run_items"})]})]})})},ut=t(57384),at=t(82944),st=(0,k.css)(["position:relative;",""],(function(e){return e.size&&"\n    height: ".concat(e.size,"px;\n  ")})),dt=k.default.div.withConfig({displayName:"TooltipWrapper__ContainerStyle",componentId:"sc-1dd57l8-0"})(["",""],st),ft=k.default.span.withConfig({displayName:"TooltipWrapper__ContainerSpanStyle",componentId:"sc-1dd57l8-1"})(["",""],st),pt=k.default.a.withConfig({displayName:"TooltipWrapper__HoverStyle",componentId:"sc-1dd57l8-2"})([""," "," border-radius:50%;"," "," &:active,&:focus{outline:none;}",""],(0,ke.eR)(),(function(e){return e.size&&"\n    height: ".concat(e.size,"px;\n    width: ").concat(e.size,"px;\n  ")}),(function(e){return!e.block&&"\n    display: inline-block;\n  "}),(function(e){return e.block&&"\n    display: block;\n  "}),(function(e){return!e.noHoverOutline&&"\n    &:hover {\n      cursor: pointer;\n\n      box-shadow:\n        0 0 0 ".concat(w.PV,"px ").concat((0,y.W)(e),",\n        0 0 0 ").concat(w.PV+w.q2,"px ").concat((e.theme.interactive||C.Z.interactive).hoverOverlay,";\n    }\n  ")})),ht=k.default.span.withConfig({displayName:"TooltipWrapper__BasicStyle",componentId:"sc-1dd57l8-3"})([""]),mt=k.default.div.withConfig({displayName:"TooltipWrapper__ContentStyle",componentId:"sc-1dd57l8-4"})(["position:absolute;z-index:3;"," "," "," "," "," "," "," "," ",""],(function(e){return"\n    box-shadow: ".concat((e.theme.shadow||C.Z.shadow).base,";\n  ")}),(function(e){return e.appearAbove&&!e.size&&"\n    bottom: 0;\n  "}),(function(e){return e.appearAbove&&e.size&&"\n    bottom: ".concat(e.size+w.PV+w.q2,"px;\n  ")}),(function(e){return e.appearBefore&&"\n    right: 0;\n  "}),(function(e){return e.leftPosition&&"\n    left: ".concat(e.leftPosition,"px;\n  ")}),(function(e){return!e.leftPosition&&e.rightPosition&&"\n    right: 0px;\n  "}),(function(e){return e.minWidth&&"\n    min-width: ".concat(e.minWidth,"px;\n  ")}),(function(e){return e.widthFitContent&&"\n    width: max-content;\n  "}),(function(e){return e.topOffset&&"\n    top: ".concat(e.topOffset,"px;\n  ")}));var vt=function(e){var n=e.alignLeft,t=e.appearAbove,r=e.appearBefore,o=e.autoWidth,i=e.basic,c=e.block,l=e.center,u=e.children,a=e.content,s=e.inline,d=e.minWidth,p=e.noHoverOutline,h=e.size,m=void 0===h?2*T.iI:h,v=e.topOffset,g=e.widthFitContent,b=(0,f.useState)(!1),x=b[0],y=b[1],j=(0,f.useState)(!1),k=j[0],O=j[1],C=(d-m)/-2,w=s?ft:dt,_=i?ht:pt,S=(0,Z.jsx)(_,{block:c,href:"#",noHoverOutline:p,onClick:function(e){return e.preventDefault()},onMouseEnter:function(){return y(!0)},size:m,children:u});return(0,f.useEffect)((function(){var e=setInterval((function(){return O(!0)}),1e3);return x||clearInterval(e),function(){return clearInterval(e)}}),[O,x]),(0,Z.jsxs)(w,{onMouseLeave:function(){y(!1),O(!1)},size:m,children:[S,k&&(0,Z.jsx)(mt,{appearAbove:t,appearBefore:r,leftPosition:l?C:null,minWidth:o?d:null,rightPosition:n,size:m,topOffset:v,widthFitContent:g,children:a})]})},gt=["autoWidth","children","default","description","inverted","keyboardShortcuts","label","maxWidth","muted","size","warning","widthFitContent"];function bt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function xt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?bt(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):bt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var yt=42*T.iI,jt=((0,k.css)(["position:relative;",""],(function(e){return e.size&&"\n    height: ".concat(e.size,"px;\n  ")})),(0,k.css)(["border-radius:","px;"," "," ",""],w.BG,(function(e){return"\n    box-shadow: ".concat((e.theme.shadow||C.Z.shadow).popup,";\n\n    background-color: ").concat((e.theme.background||C.Z.background).popup,";\n  ")}),(function(e){return e.width&&!(e.widthFitContent||e.autoWidth)&&"\n    width: ".concat(e.width,"px;\n  ")}),(function(e){return!e.width&&!(e.widthFitContent||e.autoWidth)&&"\n    width: ".concat(yt,"px;\n  ")}))),kt=k.default.div.withConfig({displayName:"Tooltip__LabelStyle",componentId:"sc-allmdq-0"})([""," padding:","px ","px;"],jt,.75*T.iI,1*T.iI),Ot=k.default.div.withConfig({displayName:"Tooltip__DescriptionStyle",componentId:"sc-allmdq-1"})([""," padding:","px ","px;"],jt,1.5*T.iI,2*T.iI);var Ct=function(e){var n=e.autoWidth,t=e.children,r=e.default,o=e.description,i=e.inverted,c=e.keyboardShortcuts,l=e.label,u=e.maxWidth,a=e.muted,s=e.size,d=void 0===s?2*T.iI:s,p=e.warning,h=e.widthFitContent,m=(0,Q.Z)(e,gt),v=o||l||"",g=o?Ot:kt,b=Math.min(u||yt,v.length*T.Fo),x=[];null===c||void 0===c||c.forEach((function(e,n){n>=1&&x.push((0,Z.jsx)(O.ZP,{default:!0,children:"+"})),x.push(e)}));var y=x.map((function(e,n){var t="keyboard-shortcut-".concat(n);return"string"===typeof e?(0,Z.jsx)("span",{children:e},t):f.cloneElement(e,{key:t})}));return(0,Z.jsx)(vt,xt(xt({},m),{},{autoWidth:n,content:(0,Z.jsx)(g,{autoWidth:n,width:u,widthFitContent:h,children:(0,Z.jsxs)(j.Z,{alignItems:"center",children:[(0,Z.jsx)(O.ZP,{whiteSpaceNormal:!0,children:v}),y.length>=1&&(0,Z.jsx)(O.ZP,{muted:!0,children:"\xa0\xa0\xa0\u2022\xa0\xa0\xa0"}),y.length>=1&&y]})}),minWidth:b,noHoverOutline:!!t,size:d,widthFitContent:h,children:t||(0,Z.jsx)(R.kI,{default:r,inverted:i,muted:a,size:d,warning:p})}))},wt=["bold","defaultColor","description","disableWordBreak","inputValue","inputWidth","invertedTheme","label","menuOpen","monospace","muted","onClick","notRequired","selectedTextProps","small","stacked","tooltipProps","value"];function Zt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _t(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Zt(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Zt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var St=k.default.div.withConfig({displayName:"LabelWithValueClicker__LabelStyle",componentId:"sc-1hzpn4h-0"})(["margin-bottom:","px;"],.25*T.iI),Pt=k.default.div.withConfig({displayName:"LabelWithValueClicker__DescriptionStyle",componentId:"sc-1hzpn4h-1"})([""]);var Et=function(e){var n=e.bold,t=void 0===n||n,r=e.defaultColor,o=e.description,i=e.disableWordBreak,c=e.inputValue,l=e.inputWidth,u=e.invertedTheme,a=e.label,s=e.menuOpen,d=void 0!==s&&s,p=e.monospace,h=e.muted,m=e.onClick,v=e.notRequired,g=e.selectedTextProps,b=e.small,x=e.stacked,y=e.tooltipProps,k=e.value,C=(0,Q.Z)(e,wt),w=(0,f.useRef)(null),_=(0,f.useState)(!1),S=_[0],P=_[1],E=(0,f.useState)(!1),T=E[0],I=E[1],A=a&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(O.ZP,{bold:t,inverted:u,lineHeight:20,monospace:p,muted:h,small:b,children:a}),y&&(0,Z.jsx)(Fn.Z,{ml:1,children:(0,Z.jsx)(Ct,_t({muted:!0},y))})]}),R=(0,Z.jsxs)(Z.Fragment,{children:[k&&(0,Z.jsx)(Un.Z,{block:!0,danger:null===g||void 0===g?void 0:g.danger,fullWidth:!0,muted:h,onClick:function(){m(),w.current&&w.current.focus(),P(!0)},preventDefault:!0,sameColorAsText:h||!(null!==g&&void 0!==g&&g.primary)&&!(null!==g&&void 0!==g&&g.danger)&&!(null!==g&&void 0!==g&&g.warning),underline:null===g||void 0===g?void 0:g.underline,warning:null===g||void 0===g?void 0:g.warning,children:(0,Z.jsx)(O.ZP,_t(_t({inverted:u,muted:h},g),{},{disableWordBreak:i,monospace:p,small:b,width:l,children:k}))}),(0,Z.jsx)(at.Z,_t(_t({},C),{},{basic:!0,defaultColor:r,invertedTheme:u,monospace:p,onBlur:function(e){P(!1),C.onBlur&&C.onBlur(e),T||I(!0)},onFocus:function(e){P(!0),C.onFocus&&C.onFocus(e)},ref:w,small:b,value:c,visible:!k}))]}),D=o&&(0,Z.jsx)(Pt,{children:(0,Z.jsx)(O.ZP,{dangerouslySetInnerHTML:{__html:o},monospace:p,muted:!0,small:b})});return(0,Z.jsxs)(Z.Fragment,{children:[x&&(0,Z.jsxs)(Z.Fragment,{children:[A&&(0,Z.jsxs)(St,{children:[(0,Z.jsx)(j.Z,{alignItems:"center",fullHeight:!1,fullWidth:!0,children:A}),D]}),R]}),!x&&(0,Z.jsxs)(j.Z,{alignItems:"center",fullWidth:!0,children:[A&&(0,Z.jsxs)(Z.Fragment,{children:[A,(0,Z.jsx)(Fn.Z,{ml:1})]}),(0,Z.jsx)(V.Z,{flex:"1",children:R})]}),T&&!S&&!k&&!d&&!v&&(0,Z.jsx)(O.ZP,{danger:!0,small:b,children:"This field is required."})]})},Tt=t(37391),It=64*T.iI,At=3*T.cd*T.iI,Rt=At,Dt=35*T.iI,Bt=.5*T.iI,Nt=13*T.iI,Mt=3*T.cd*T.iI,Lt=6*T.iI,Ft=(k.default.div.withConfig({displayName:"indexstyle__HeaderStyle",componentId:"sc-1lxpneo-0"})(["position:fixed;z-index:2;"," "," ",""],(function(e){return"\n    border-bottom: 1px solid ".concat((e.theme.monotone||C.Z.monotone).grey200,";\n  ")}),(function(e){return!e.beforeVisible&&"\n    width: 100%;\n  "}),(function(e){return e.beforeVisible&&"\n    left: ".concat(Dt,"px;\n    width: calc(100% - ").concat(Dt,"px);\n  ")})),k.default.div.withConfig({displayName:"indexstyle__TabStyle",componentId:"sc-1lxpneo-1"})(["border-top-left-radius:","px;border-top-right-radius:","px;padding:","px ","px;position:relative;top:1px;"," "," ",""],w.n_,w.n_,1*T.iI,2*T.iI,(function(e){return"\n    border-left: 1px solid ".concat((e.theme.monotone||C.Z.monotone).grey200,";\n    border-right: 1px solid ").concat((e.theme.monotone||C.Z.monotone).grey200,";\n    border-top: 1px solid ").concat((e.theme.monotone||C.Z.monotone).grey200,";\n  ")}),(function(e){return!e.first&&"\n    margin-left: ".concat(1*T.iI,"px;\n  ")}),(function(e){return e.selected&&"\n    border-bottom: 1px solid ".concat((e.theme.monotone||C.Z.monotone).white,";\n  ")})),(0,k.css)(["height:calc(100% - ","px);position:fixed;top:","px;z-index:2;",""],Mt,Mt,(function(e){return"\n    background-color: ".concat((e.theme.background||C.Z.background).sidePanel,";\n  ")}))),Ht=(0,k.css)([""," height:100%;overflow:auto;position:relative;z-index:2;"],Tt.w5),Ut=(0,k.css)(["height:calc(100% + ","px);position:absolute;top:-","px;width:","px;z-index:6;&:hover{","}"," ",""],Mt,Mt,Bt,(function(e){return!e.disabled&&"\n      border-color: ".concat((e.theme.text||C.Z.text).fileBrowser," !important;\n    ")}),(function(e){return!e.disabled&&"\n    cursor: col-resize;\n  "}),(function(e){return e.active&&!e.disabled&&"\n    border-color: ".concat((e.theme.text||C.Z.text).fileBrowser," !important;\n  ")})),zt=k.default.div.withConfig({displayName:"indexstyle__AsideHeaderStyle",componentId:"sc-1lxpneo-2"})(["border-bottom:1px solid transparent;height:","px;position:fixed;top:0;z-index:4;"," "," ",""],Mt,(0,Tt.y$)(),(function(e){return"\n    background-color: ".concat((e.theme.background||C.Z.background).sidePanel,";\n  ")}),(function(e){return!e.visible&&"\n    border-color: ".concat((e.theme.borders||C.Z.borders).medium," !important;\n  ")})),Wt=k.default.div.withConfig({displayName:"indexstyle__AsideSubheaderStyle",componentId:"sc-1lxpneo-3"})(["border-bottom:1px solid transparent;height:","px;overflow-x:auto;"," "," ",""],Mt,(0,Tt.y$)(),(function(e){return"\n    background-color: ".concat((e.theme.background||C.Z.background).table,";\n  ")}),(function(e){return!e.visible&&"\n    border-color: ".concat((e.theme.borders||C.Z.borders).medium," !important;\n  ")})),Gt=k.default.aside.withConfig({displayName:"indexstyle__BeforeStyle",componentId:"sc-1lxpneo-4"})([""," left:0;"],Ft),Qt=k.default.div.withConfig({displayName:"indexstyle__BeforeInnerStyle",componentId:"sc-1lxpneo-5"})([""," overflow:hidden;&:hover{overflow:auto;}"],Ht),Vt=k.default.aside.withConfig({displayName:"indexstyle__AfterStyle",componentId:"sc-1lxpneo-6"})([""," right:0;"],Ft),Kt=k.default.div.withConfig({displayName:"indexstyle__AfterInnerStyle",componentId:"sc-1lxpneo-7"})(["",""],Ht),Xt=k.default.div.withConfig({displayName:"indexstyle__DraggableStyle",componentId:"sc-1lxpneo-8"})([""," "," ",""],Ut,(function(e){return"undefined"!==typeof e.left&&"\n    border-left: 1px solid transparent;\n    left: ".concat(e.left,"px;\n  ")}),(function(e){return"undefined"!==typeof e.right&&"\n    border-right: 1px solid transparent;\n    right: ".concat(e.right,"px;\n  ")})),qt=k.default.div.withConfig({displayName:"indexstyle__MainWrapper",componentId:"sc-1lxpneo-9"})(["height:100%;position:fixed;z-index:1;",""],(function(e){return"\n    background-color: ".concat((e.theme.background||C.Z.background).codeArea,";\n  ")})),Yt=k.default.div.withConfig({displayName:"indexstyle__MainContentStyle",componentId:"sc-1lxpneo-10"})(["position:fixed;z-index:2;",""],(function(e){return"\n    height: calc(100% - ".concat(e.headerOffset||0,"px);\n    top: ").concat(e.headerOffset||0,"px;\n  ")})),Jt=k.default.div.withConfig({displayName:"indexstyle__MainContentInnerStyle",componentId:"sc-1lxpneo-11"})([""," height:100%;overflow:auto;"],Tt.w5),$t=300,er=k.default.div.withConfig({displayName:"indexstyle__PipelineContainerStyle",componentId:"sc-1sv9513-0"})([".pipeline-detail-enter-active{opacity:1;transition:opacity ","ms linear;}.pipeline-detail-enter-done{opacity:0;transition:opacity ","ms linear;}"],$t,$t),nr=k.default.div.withConfig({displayName:"indexstyle__OverlayStyle",componentId:"sc-1sv9513-1"})(["height:100vh;opacity:1;position:fixed;width:100vw;z-index:9999;",""],(function(e){return"\n    background-color: ".concat((e.theme.background||C.Z.background).codeArea,";\n  ")})),tr=k.default.div.withConfig({displayName:"indexstyle__PipelineHeaderStyle",componentId:"sc-1sv9513-2"})(["height:","px;position:sticky;top:0;width:100%;z-index:5;",""],Mt,(function(e){return"\n    background-color: ".concat((e.theme.background||C.Z.background).codeArea,";\n    border-bottom: 1px solid ").concat((e.theme.borders||C.Z.borders).light,";\n  ")})),rr=k.default.div.withConfig({displayName:"indexstyle__FileTabStyle",componentId:"sc-1sv9513-3"})(["border-left:1px solid transparent;height:100%;padding:","px ","px;"," "," ",""],T.iI,T.cd*T.iI,(function(e){return"\n    &:hover {\n      cursor: default;\n\n      p {\n        color: ".concat((e.theme.content||C.Z.content).active," !important;\n        cursor: default;\n      }\n    }\n  ")}),(function(e){return e.selected&&"\n    background-color: ".concat((e.theme.interactive||C.Z.interactive).hoverBackground,";\n  ")}),(function(e){return!e.selected&&"\n    border-color: ".concat((e.theme.borders||C.Z.borders).light," !important;\n  ")})),or=t(33766);var ir,cr,lr=function(e){var n=e.filePaths,t=e.filesTouched,r=e.isBusy,o=e.isPipelineUpdating,i=e.kernel,c=e.pipeline,l=e.pipelineContentTouched,u=e.pipelineLastSaved,a=(e.restartKernel,e.selectedFilePath),s=e.updatePipelineName,d=(0,f.useContext)(k.ThemeContext),p=i||{},h=p.alive,m=p.name,v=(0,f.useState)(!1),g=v[0],b=v[1],x=(0,f.useState)(""),y=x[0],w=x[1];(0,f.useEffect)((function(){null!==c&&void 0!==c&&c.uuid&&w(c.uuid)}),[null===c||void 0===c?void 0:c.uuid]);var _,S=(0,f.useMemo)((function(){return n.map((function(e){return decodeURIComponent(e)}))}),[n]);_=l?"Unsaved changes":o?"Saving changes...":u?"Last saved ".concat((0,Ee.JX)(Number(u)/1e3)):"All changes saved";var P=(0,f.useMemo)((function(){return(0,Z.jsx)(Et,{bold:!1,inputValue:y,notRequired:!0,onBlur:function(){return setTimeout((function(){return b(!1)}),300)},onChange:function(e){w(e.target.value),e.preventDefault()},onClick:function(){return b(!0)},onFocus:function(){return b(!0)},stacked:!0,value:g?null:(null===c||void 0===c?void 0:c.uuid)||""})}),[g,y,c]),E=(0,f.useMemo)((function(){return(0,Z.jsxs)(V.Z,{alignItems:"center",children:[(0,Z.jsx)(ee,{color:r?(d||C.Z).borders.info:h?(d||C.Z).borders.success:(d||C.Z).borders.danger,size:T.iI}),(0,Z.jsx)(Fn.Z,{mr:1}),(0,Z.jsxs)(j.Z,{alignItems:"center",children:[(0,Z.jsxs)(O.ZP,{children:["Pipeline:\xa0",a&&(null===c||void 0===c?void 0:c.uuid)]}),!a&&P]}),(0,Z.jsx)(Fn.Z,{mr:3})]})}),[h,r,c,P,a,d]);return(0,Z.jsx)(tr,{children:(0,Z.jsxs)(j.Z,{alignItems:"center",fullHeight:!0,justifyContent:"space-between",children:[(0,Z.jsxs)(j.Z,{alignItems:"center",fullHeight:!0,justifyContent:"flex-start",children:[(0,Z.jsxs)(Fn.Z,{px:T.cd,children:[a&&(0,Z.jsx)(Un.Z,{noHoverUnderline:!0,noOutline:!0,onClick:a?function(){return(0,or.u)({file_path:null})}:null,preventDefault:!0,children:E}),!a&&(0,Z.jsxs)(j.Z,{alignItems:"center",children:[(0,Z.jsx)(Ct,{block:!0,label:h?"".concat(m," kernel is ").concat(r?"busy":"alive"):"Kernel is dead",size:null,widthFitContent:!0,children:E}),g&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(Fn.Z,{ml:1}),(0,Z.jsx)(Un.Z,{onClick:function(){s(y),b(!1)},preventDefault:!0,sameColorAsText:!0,small:!0,children:"Update name"})]})]})]}),null===S||void 0===S?void 0:S.map((function(e){var n=a===encodeURIComponent(e);return(0,Z.jsx)(j.Z,{flexDirection:"column",fullHeight:!0,justifyContent:"flex-end",onClick:function(t){t.preventDefault(),n||(0,or.u)({file_path:encodeURIComponent(e)})},children:(0,Z.jsx)(rr,{selected:n,children:(0,Z.jsxs)(j.Z,{alignItems:"center",fullHeight:!0,children:[!t[e]&&(0,Z.jsx)(R.iU,{muted:!n,size:1.5*T.iI}),t[e]&&(0,Z.jsx)(Ct,{label:"Unsaved changes",size:null,widthFitContent:!0,children:(0,Z.jsx)("div",{style:{padding:1},children:(0,Z.jsx)(ee,{borderColor:(d||C.Z).borders.danger,size:1.25*T.iI})})}),(0,Z.jsx)(Fn.Z,{mr:1}),(0,Z.jsx)(O.ZP,{muted:!n,children:e}),(0,Z.jsx)(Fn.Z,{mr:2}),n&&(0,Z.jsx)(Ct,{label:"Close",size:null,widthFitContent:!0,children:(0,Z.jsx)(Un.Z,{autoHeight:!0,block:!0,noHoverUnderline:!0,noOutline:!0,onClick:function(){var n=(0,Ae.Od)(S,(function(n){return n===e})).map((function(e){return encodeURIComponent(e)}));(0,or.u)({file_path:n[n.length-1]||null,"file_paths[]":n},{pushHistory:!0})},preventDefault:!0,children:(0,Z.jsx)(R.x8,{size:1.25*T.iI})})}),!n&&(0,Z.jsx)("div",{style:{width:1.25*T.iI}})]})})},e)}))]}),!a&&(0,Z.jsx)(Fn.Z,{px:T.cd,children:(0,Z.jsx)(O.ZP,{muted:!0,children:_})})]})})};!function(e){e.BUSY="busy",e.IDLE="idle",e.QUEUED="queued"}(ir||(ir={})),function(e){e.IMAGE_PNG="image/png",e.TABLE="table",e.TEXT="text",e.TEXT_PLAIN="text/plain"}(cr||(cr={}));var ur,ar=[cr.TEXT,cr.TEXT_PLAIN];!function(e){e.STATUS="status",e.STREAM="stream",e.STREAM_PIPELINE="stream_pipeline"}(ur||(ur={}));var sr=t(16910),dr=t(77555);var fr,pr,hr,mr,vr,gr,br=function(e){var n=e.children,t=e.compact,r=e.items,o=e.open,i=e.onClickCallback,c=e.onClickOutside,l=e.parentRef,u=e.uuid,a=(0,Z.jsxs)("div",{style:{position:"relative",zIndex:c?3:2},children:[(0,Z.jsx)("div",{ref:l,children:n}),(0,Z.jsx)(G,{compact:t,items:r,onClickCallback:i,open:o,parentRef:l,uuid:u})]});return c?(0,Z.jsx)(rt.Z,{onClickOutside:c,open:!0,children:a}):a},xr=t(80906),yr=(xr.Q0.AVERAGE,xr.Q0.CLEAN_COLUMN_NAME,xr.Q0.COUNT,xr.Q0.COUNT_DISTINCT,xr.Q0.CUSTOM,xr.Q0.DIFF,xr.Q0.FIRST,xr.Q0.FIX_SYNTAX_ERRORS,xr.Q0.IMPUTE,xr.Q0.LAST,xr.Q0.MAX,xr.Q0.MEDIAN,xr.Q0.MIN,xr.Q0.REFORMAT,xr.Q0.REMOVE,xr.Q0.REMOVE_OUTLIERS,xr.Q0.SELECT,xr.Q0.SHIFT_DOWN,xr.Q0.SHIFT_UP,xr.Q0.SUM,[xr.Q0.CUSTOM,xr.Q0.DROP_DUPLICATE,xr.Q0.FILTER,xr.Q0.SORT,xr.Q0.REMOVE]);!function(e){e.AGGREGATE="Aggregate",e.FORMATTING="Formatting",e.COLUMN_REMOVAL="Column removal",e.SHIFT_ROWS="Shift rows in a column",e.MISC="Miscellaneous"}(gr||(gr={}));var jr,kr,Or=(pr={},(0,u.Z)(pr,xr.qs.COLUMN,(fr={},(0,u.Z)(fr,gr.AGGREGATE,[xr.Q0.AVERAGE,xr.Q0.COUNT,xr.Q0.COUNT_DISTINCT,xr.Q0.FIRST,xr.Q0.LAST,xr.Q0.MAX,xr.Q0.MEDIAN,xr.Q0.MIN,xr.Q0.SUM]),(0,u.Z)(fr,gr.FORMATTING,[xr.Q0.CLEAN_COLUMN_NAME,xr.Q0.FIX_SYNTAX_ERRORS,xr.Q0.REFORMAT]),(0,u.Z)(fr,gr.COLUMN_REMOVAL,[xr.Q0.REMOVE,xr.Q0.SELECT]),(0,u.Z)(fr,gr.SHIFT_ROWS,[xr.Q0.SHIFT_DOWN,xr.Q0.SHIFT_UP]),(0,u.Z)(fr,gr.MISC,[xr.Q0.CUSTOM,xr.Q0.DIFF,xr.Q0.IMPUTE,xr.Q0.REMOVE_OUTLIERS]),fr)),(0,u.Z)(pr,xr.qs.ROW,(0,u.Z)({},gr.MISC,[].concat(yr))),pr),Cr=Object.keys(Or[xr.qs.COLUMN]),wr=[gr.MISC],Zr=(vr={},(0,u.Z)(vr,xr.qs.COLUMN,(hr={},(0,u.Z)(hr,xr.Q0.ADD,"Add column"),(0,u.Z)(hr,xr.Q0.AVERAGE,"Aggregate by average value"),(0,u.Z)(hr,xr.Q0.CLEAN_COLUMN_NAME,"Clean column name"),(0,u.Z)(hr,xr.Q0.COUNT_DISTINCT,"Aggregate by distinct count"),(0,u.Z)(hr,xr.Q0.COUNT,"Aggregate by total count"),(0,u.Z)(hr,xr.Q0.CUSTOM,"Custom code column action"),(0,u.Z)(hr,xr.Q0.DIFF,"Difference"),(0,u.Z)(hr,xr.Q0.FIRST,"Aggregate by first value"),(0,u.Z)(hr,xr.Q0.FIX_SYNTAX_ERRORS,"Fix syntax errors"),(0,u.Z)(hr,xr.Q0.IMPUTE,"Fill in missing values"),(0,u.Z)(hr,xr.Q0.LAST,"Aggregate by last value"),(0,u.Z)(hr,xr.Q0.MAX,"Aggregate by maximum value"),(0,u.Z)(hr,xr.Q0.MEDIAN,"Aggregate by median value"),(0,u.Z)(hr,xr.Q0.MIN,"Aggregate by mininum value"),(0,u.Z)(hr,xr.Q0.REFORMAT,"Reformat"),(0,u.Z)(hr,xr.Q0.REMOVE_OUTLIERS,"Remove outliers"),(0,u.Z)(hr,xr.Q0.REMOVE,"Remove column(s)"),(0,u.Z)(hr,xr.Q0.SELECT,"Keep columns"),(0,u.Z)(hr,xr.Q0.SHIFT_DOWN,"Shift rows down in a column"),(0,u.Z)(hr,xr.Q0.SHIFT_UP,"Shift rows up in a column"),(0,u.Z)(hr,xr.Q0.SUM,"Aggregate by sum of values"),hr)),(0,u.Z)(vr,xr.qs.ROW,(mr={},(0,u.Z)(mr,xr.Q0.CUSTOM,"Custom code row action"),(0,u.Z)(mr,xr.Q0.DROP_DUPLICATE,"Drop duplicates"),(0,u.Z)(mr,xr.Q0.FILTER,"Filter"),(0,u.Z)(mr,xr.Q0.SORT,"Sort"),(0,u.Z)(mr,xr.Q0.REMOVE,"Remove rows"),mr)),vr);!function(e){e.BIGQUERY="bigquery",e.FILE="file",e.GENERIC="generic",e.POSTGRES="postgres",e.REDSHIFT="redshift",e.S3="s3",e.SNOWFLAKE="snowflake"}(kr||(kr={}));var _r=(jr={},(0,u.Z)(jr,kr.BIGQUERY,"Google BigQuery"),(0,u.Z)(jr,kr.FILE,"Local file"),(0,u.Z)(jr,kr.GENERIC,"Generic (no template)"),(0,u.Z)(jr,kr.POSTGRES,"PostgreSQL"),(0,u.Z)(jr,kr.REDSHIFT,"Amazon Redshift"),(0,u.Z)(jr,kr.S3,"Amazon S3"),(0,u.Z)(jr,kr.SNOWFLAKE,"Snowflake"),jr),Sr=[kr.GENERIC,kr.FILE,kr.BIGQUERY,kr.POSTGRES,kr.REDSHIFT,kr.S3,kr.SNOWFLAKE],Pr=T.cd*T.iI,Er=k.default.div.withConfig({displayName:"indexstyle__IconContainerStyle",componentId:"sc-oyfjzc-0"})(["align-items:center;border-radius:","px;border:1px solid transparent;display:flex;justify-content:center;"," "," "," "," "," ",""],w.BG,(function(e){return e.border&&"\n    border: 1px dotted ".concat((e.theme.content||C.Z.content).active,";\n  ")}),(function(e){return e.blue&&"\n    background-color: ".concat(Oe(i.DATA_LOADER,e).accent,";\n  ")}),(function(e){return e.purple&&"\n    background-color: ".concat(Oe(i.TRANSFORMER,e).accent,";\n  ")}),(function(e){return e.yellow&&"\n    background-color: ".concat(Oe(i.DATA_EXPORTER,e).accent,";\n  ")}),(function(e){return!e.compact&&"\n    height: ".concat(Pr+T.iI/2,"px;\n    width: ").concat(Pr+T.iI/2,"px;\n  ")}),(function(e){return e.compact&&"\n    height: ".concat(Pr/2+T.iI,"px;\n    width: ").concat(Pr/2+T.iI,"px;\n  ")}));function Tr(e,n,t){return e.map((function(e){return{indent:!0,label:function(){return Zr[n][e]},onClick:function(){t({config:{action_type:e,axis:n},type:i.TRANSFORMER})},uuid:"".concat(n,"_").concat(e)}})).sort((function(e,n){return e.label().localeCompare(n.label())}))}function Ir(e,n,t){var r=[];return e.forEach((function(e){if(e!==gr.MISC)r.push({indent:!0,items:Tr(Or[n][e],n,t),label:function(){return e},uuid:"".concat(n,"_grouping_").concat((0,Ee.RA)(e))});else{var o=Tr(Or[n][e],n,t);r.push.apply(r,(0,dr.Z)(o))}})),r}function Ar(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Rr(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ar(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ar(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Dr=function(e){var n=e.addNewBlock,t=e.compact,r=(0,f.useState)(null),o=r[0],c=r[1],l=(0,f.useRef)(null),u=(0,f.useRef)(null),a={compact:t,inline:!0},s=Sr.map((function(e){return{label:function(){return _r[e]},onClick:function(){n({config:{data_source:e===kr.GENERIC?null:e},type:i.DATA_LOADER})},uuid:e}})),d=Ir(Cr,xr.qs.COLUMN,n),p=Ir(wr,xr.qs.ROW,n),h=[{label:function(){return"Generic (no template)"},onClick:function(){n({type:i.TRANSFORMER})},uuid:"generic_transformer_action"},{isGroupingTitle:!0,label:function(){return"Column actions"},uuid:"column_actions_grouping"}].concat((0,dr.Z)(d),[{isGroupingTitle:!0,label:function(){return"Row actions"},uuid:"row_actions_grouping"}],(0,dr.Z)(p)),m=(0,f.useCallback)((function(){return c(null)}),[]);return(0,Z.jsxs)(j.Z,{inline:!0,children:[(0,Z.jsx)(rt.Z,{onClickOutside:m,open:!0,children:(0,Z.jsxs)(j.Z,{children:[(0,Z.jsx)(br,{items:h,onClickCallback:m,open:0===o,parentRef:u,uuid:"transformer_button",children:(0,Z.jsx)(qn,Rr(Rr({},a),{},{beforeElement:(0,Z.jsx)(Er,{compact:t,purple:!0,children:(0,Z.jsx)(R.mm,{size:t?Pr/2:Pr})}),onClick:function(e){e.preventDefault(),c((function(e){return 0===e?null:0}))},uuid:"AddNewBlocks/Transformer",children:"Transformer"}))}),(0,Z.jsx)(Fn.Z,{ml:1}),(0,Z.jsx)(br,{items:s,onClickCallback:m,open:1===o,parentRef:l,uuid:"data_loader_button",children:(0,Z.jsx)(qn,Rr(Rr({},a),{},{beforeElement:(0,Z.jsx)(Er,{blue:!0,compact:t,children:(0,Z.jsx)(R.mm,{size:t?Pr/2:Pr})}),onClick:function(e){e.preventDefault(),c((function(e){return 1===e?null:1}))},uuid:"AddNewBlocks/Data_loader",children:"Data loader"}))})]})}),(0,Z.jsx)(Fn.Z,{ml:1}),(0,Z.jsx)(qn,Rr(Rr({},a),{},{beforeElement:(0,Z.jsx)(Er,{compact:t,yellow:!0,children:(0,Z.jsx)(R.mm,{inverted:!0,size:t?Pr/2:Pr})}),onClick:function(e){e.preventDefault(),n({type:i.DATA_EXPORTER})},uuid:"AddNewBlocks/Data_exporter",children:"Data exporter"})),(0,Z.jsx)(Fn.Z,{ml:1}),(0,Z.jsx)(qn,Rr(Rr({},a),{},{beforeElement:(0,Z.jsx)(Er,{border:!0,compact:t,children:(0,Z.jsx)(R.mm,{size:t?Pr/2:Pr})}),onClick:function(e){e.preventDefault(),n({type:i.SCRATCHPAD})},uuid:"AddNewBlocks/Scratchpad",children:"Scratchpad"}))]})},Br=t(89565),Nr=t.n(Br),Mr=t(62976),Lr=k.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-n38rkq-0"})([""," border-left-style:solid;border-left-width:2px;border-right-style:solid;border-right-width:2px;overflow:hidden;"," ",""],Ce,(function(e){return"\n    background-color: ".concat((e.theme.background||C.Z.background).table,";\n  ")}),(function(e){return!e.executedAndIdle&&"\n    border-bottom-left-radius: ".concat(w.n_,"px;\n    border-bottom-right-radius: ").concat(w.n_,"px;\n    border-bottom-style: solid;\n    border-bottom-width: 2px;\n  ")})),Fr=k.default.div.withConfig({displayName:"indexstyle__OutputRowStyle",componentId:"sc-n38rkq-1"})([""," "," ",""],(function(e){return e.first&&"\n    padding-top: ".concat(T.iI*T.cd,"px;\n  ")}),(function(e){return e.last&&"\n    padding-bottom: ".concat(T.iI*T.cd,"px;\n  ")}),(function(e){return e.contained&&"\n    padding-left: ".concat(68,"px;\n    padding-right: ").concat(T.iI*T.cd,"px;\n  ")})),Hr=k.default.div.withConfig({displayName:"indexstyle__ExtraInfoStyle",componentId:"sc-n38rkq-2"})([""," border-bottom-style:solid;border-bottom-width:2px;border-left-style:solid;border-left-width:2px;border-right-style:solid;border-right-width:2px;",""],Ce,(function(e){return"\n    background-color: ".concat((e.theme.borders||C.Z.borders).light,";\n    border-bottom-left-radius: ").concat(w.n_,"px;\n    border-bottom-right-radius: ").concat(w.n_,"px;\n  ")})),Ur=k.default.div.withConfig({displayName:"indexstyle__ExtraInfoContentStyle",componentId:"sc-n38rkq-3"})(["padding-bottom:","px;padding-left:","px;padding-right:","px;padding-top:","px;"],T.iI,68,T.iI*T.cd,T.iI),zr=k.default.div.withConfig({displayName:"indexstyle__ExtraInfoBorderStyle",componentId:"sc-n38rkq-4"})(["height:1px;width:100%;",""],(function(e){return"\n    border-top: 1px solid ".concat((e.theme.borders||C.Z.borders).medium,";\n  ")}));function Wr(e){var n={},t={};return e.forEach((function(e){var r=e.content,o=e.outputs,i=e.uuid;o.length>=1&&(n[i]=o.map((function(e){var n=e||{},t=n.sample_data,r=n.text_data,o=n.type;return t?{data:t,type:o}:r&&(0,Ee.Pb)(r)?JSON.parse(r):r}))),t[i]=r})),{content:t,messages:n}}function Gr(e){return"".concat(e,"/").concat(je.kP)}function Qr(e){return(0,je.U2)(Gr(e),[])}function Vr(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Kr(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Vr(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Vr(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Xr,qr=function(e){var n=e.block,t=e.collapsed,r=e.contained,o=void 0===r||r,i=e.hasError,c=e.hideExtraInfo,l=e.isInProgress,u=e.mainContainerWidth,a=e.messages,s=e.pipeline,d=e.runCount,p=e.runEndTime,h=e.runStartTime,v=e.selected,b=e.setActiveSidekickView,x=e.setCollapsed,k=e.setOutputBlocks,C=e.setSelectedOutputBlock,w=n.status,_=n.type,S=(0,f.useMemo)((function(){return(null===a||void 0===a?void 0:a.length)||0}),[a]),P=m.EXECUTED===w||!l&&0===d&&S>=1||!l&&d>=1&&p>=h,E=/\[__internal_output__\]/,I=function(e){return Array.isArray(e)?e.join("\n"):e},A=(0,f.useMemo)((function(){return a.reduce((function(e,n){var t=e.at(-1);return ar.includes(null===t||void 0===t?void 0:t.type)&&(null===t||void 0===t?void 0:t.type)===n.type&&!I(null===n||void 0===n?void 0:n.data).match(E)?t.data+=I(n.data):ar.includes(null===n||void 0===n?void 0:n.type)&&!I(null===n||void 0===n?void 0:n.data).match(E)?e.push(Kr(Kr({},n),{},{data:I(n.data)})):e.push(Kr({},n)),e}),[])}),[a]),D=(0,f.useMemo)((function(){var e=function(e,n){var t=e.columns,r=e.index,o=e.rows,i=e.shape,c=n.selected;return o.length>=1&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(Mr.Z,{columns:t,disableScrolling:!c,index:r,maxHeight:49.5*T.iI,noBorderBottom:!0,noBorderLeft:!0,noBorderRight:!0,noBorderTop:!0,rows:o,width:u-(2+T.cd*T.iI*2+2+Tt.nn)}),i&&(0,Z.jsx)(Fn.Z,{ml:1,my:1,children:(0,Z.jsx)(O.ZP,{children:"".concat(i[0]," rows x ").concat(i[1]," columns")})})]})},n=!1,t=null===A||void 0===A?void 0:A.map((function(t,r){var i=t.data,c=t.type;if(i&&0!==(null===i||void 0===i?void 0:i.length)){var l=[],u=(l=(l=Array.isArray(i)?i:[i]).filter((function(e){return e}))).length,a=[];return l.forEach((function(t,i){var l,s={contained:o,first:0===r&&0===i,last:r===S-1&&i===u-1};if("string"===typeof t&&t.match(E)){var d=t.replace(E,"");if((0,Ee.Pb)(d)){var f=JSON.parse(d),p=f.data,h=f.type;cr.TABLE===h&&(l=e(p,{selected:v}),n=!0)}}else c===cr.TABLE?(l=e((0,Ee.Pb)(t)?JSON.parse(t):t,{selected:v}),n=!0):ar.includes(c)?l=(0,Z.jsx)(Fr,Kr(Kr({},s),{},{children:(0,Z.jsx)(O.ZP,{monospace:!0,preWrap:!0,children:(0,Z.jsx)(Nr(),{children:t})})})):c===cr.IMAGE_PNG&&(l=(0,Z.jsx)("div",{style:{backgroundColor:"white"},children:(0,Z.jsx)("img",{alt:"Image ".concat(r," from code output"),src:"data:image/png;base64, ".concat(t)})}));a.push((0,Z.jsx)("div",{children:l},"code-output-".concat(r,"-").concat(i)))})),a}}));return n?t[t.length-1]:t}),[A,o,u,v]);return(0,Z.jsxs)(Z.Fragment,{children:[o&&(0,Z.jsx)(Lr,{blockType:_,executedAndIdle:P,hasError:i,selected:v,children:!t&&D}),!o&&D,P&&!c&&(0,Z.jsxs)(Hr,{blockType:_,hasError:i,selected:v,children:[(0,Z.jsx)(zr,{}),(0,Z.jsxs)(j.Z,{justifyContent:"space-between",children:[x&&(0,Z.jsx)(V.Z,{alignItems:"center",px:1,children:(0,Z.jsx)(y.Z,{basic:!0,iconOnly:!0,noPadding:!0,onClick:function(){return x(!t)},transparent:!0,children:t?(0,Z.jsxs)(j.Z,{alignItems:"center",children:[(0,Z.jsx)(R._M,{muted:!0,size:2*T.iI}),"\xa0",(0,Z.jsx)(O.ZP,{default:!0,children:"Expand output"})]}):(0,Z.jsx)(R.Kh,{muted:!0,size:2*T.iI})})}),(0,Z.jsx)(Ur,{children:(0,Z.jsxs)(j.Z,{alignItems:"center",fullWidth:!0,justifyContent:"flex-end",children:[(0,Z.jsx)(Ct,{appearAbove:!0,appearBefore:!0,block:!0,label:d>=1&&h?"Last run at ".concat(new Date(h.valueOf()).toLocaleString()):i?"Block executed with errors":"Block executed successfully",size:null,widthFitContent:!0,children:(0,Z.jsxs)(j.Z,{alignItems:"center",children:[d>=1&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(O.ZP,{small:!0,children:[(Number(p)-Number(h))/1e3,"s"]}),(0,Z.jsx)(Fn.Z,{mr:1})]}),!i&&(0,Z.jsx)(R.Jr,{size:2*T.iI,success:!0}),i&&(0,Z.jsx)(ee,{danger:!0,size:2*T.iI,children:(0,Z.jsx)(O.ZP,{bold:!0,monospace:!0,small:!0,children:"!"})})]})}),!i&&!g.includes(_)&&(0,Z.jsx)(Fn.Z,{pl:1,children:(0,Z.jsx)(y.Z,{afterIcon:(0,Z.jsx)(R.M0,{muted:!0,size:1.75*T.iI}),basic:!0,noPadding:!0,onClick:function(){!function(e,n){var t=Qr(e);t.includes(n)||(0,je.t8)(Gr(e),[].concat((0,dr.Z)(t),[n]))}(null===s||void 0===s?void 0:s.uuid,n.uuid),b(me.DATA),k((function(e){return e.find((function(e){return e.uuid===n.uuid}))?e:(C(n),e.concat(n))}))},transparent:!0,children:(0,Z.jsx)(O.ZP,{default:!0,children:"Expand table"})})})]})})]})]})]})},Yr="buckets",Jr="chart_style",$r="group_by",eo="height",no="index",to="legend_labels",ro="limit",oo="metrics",io="time_interval",co="width_percentage",lo="x",uo="y",ao="y_sort_order",so=[lo,uo];!function(e){e.BAR_CHART="bar chart",e.HISTOGRAM="histogram",e.LINE_CHART="line chart",e.PIE_CHART="pie chart",e.TABLE="table",e.TIME_SERIES_BAR_CHART="time series bar chart",e.TIME_SERIES_LINE_CHART="time series line chart"}(Xr||(Xr={}));var fo,po,ho=[Xr.BAR_CHART,Xr.HISTOGRAM,Xr.LINE_CHART,Xr.PIE_CHART,Xr.TABLE,Xr.TIME_SERIES_BAR_CHART,Xr.TIME_SERIES_LINE_CHART];!function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(fo||(fo={})),function(e){e.AVERAGE="average",e.COUNT="count",e.COUNT_DISTINCT="count_distinct",e.MAX="max",e.MEDIAN="median",e.MIN="min",e.MODE="mode",e.SUM="sum"}(po||(po={}));var mo,vo,go=[po.AVERAGE,po.COUNT,po.COUNT_DISTINCT,po.MAX,po.MEDIAN,po.MIN,po.MODE,po.SUM];!function(e){e.ASCENDING="ascending",e.DESCENDING="descending"}(mo||(mo={})),function(e){e.DAY="day",e.HOUR="hour",e.MINUTE="minute",e.MONTH="month",e.ORIGINAL="original",e.SECOND="second",e.WEEK="week",e.YEAR="year"}(vo||(vo={}));var bo,xo,yo,jo,ko,Oo,Co,wo=k.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-knskck-0"})(["border-radius:","px;margin-top:","px;padding:","px;position:absolute;right:-","px;z-index:11;",""],w.BG,1.5*T.iI,T.iI,T.iI/2,(function(e){return"\n    background-color: ".concat((e.theme.interactive||C.Z.interactive).defaultBackground,";\n  ")}));!function(e){e.COLUMNS="columns",e.METRICS="metrics",e.NUMBER="number"}(Co||(Co={}));var Zo={noCode:[{label:function(){return"time column"},settings:{maxValues:1},type:Co.COLUMNS,uuid:$r},{label:function(){return"time interval"},options:[vo.ORIGINAL,vo.SECOND,vo.MINUTE,vo.HOUR,vo.DAY,vo.WEEK,vo.MONTH,vo.YEAR],uuid:io},{label:function(){return"metrics"},type:Co.METRICS,uuid:oo}]},_o=(bo={},(0,u.Z)(bo,Xr.BAR_CHART,{noCode:[{label:function(){return"group by columns"},type:Co.COLUMNS,uuid:$r},{label:function(){return"metrics"},type:Co.METRICS,uuid:oo},{autoRun:!0,label:function(){return"chart style"},options:[fo.HORIZONTAL,fo.VERTICAL],uuid:Jr},{autoRun:!0,label:function(){return"sort direction"},options:[null,mo.ASCENDING,mo.DESCENDING],uuid:ao}],code:[{label:function(){return"variable name of x-axis values"},monospace:!0,uuid:lo},{label:function(){return"variable name of y-axis values"},monospace:!0,uuid:uo}]}),(0,u.Z)(bo,Xr.HISTOGRAM,{noCode:[{label:function(){return"number column for chart"},settings:{maxValues:1},type:Co.COLUMNS,uuid:$r},{autoRun:!0,label:function(){return"Number of buckets"},type:Co.NUMBER,uuid:Yr}],code:[{label:function(){return"variable name of values"},monospace:!0,uuid:lo}]}),(0,u.Z)(bo,Xr.LINE_CHART,{noCode:[{label:function(){return"group by columns"},settings:{maxValues:1},type:Co.COLUMNS,uuid:$r},{label:function(){return"metrics"},type:Co.METRICS,uuid:oo}],code:[{label:function(){return"variable name of x-axis values"},monospace:!0,uuid:lo},{label:function(){return"variable name of y-axis values"},monospace:!0,uuid:uo},{label:function(){return"labels of lines in chart (comma separated)"},uuid:to}]}),(0,u.Z)(bo,Xr.PIE_CHART,{noCode:[{label:function(){return"column for chart"},settings:{maxValues:1},type:Co.COLUMNS,uuid:$r},{autoRun:!0,label:function(){return"Number of slices"},type:Co.NUMBER,uuid:Yr}],code:[{label:function(){return"variable name of values"},monospace:!0,uuid:lo}]}),(0,u.Z)(bo,Xr.TABLE,{noCode:[{label:function(){return"columns"},type:Co.COLUMNS,uuid:$r},{label:function(){return"max number of rows"},type:Co.NUMBER,uuid:ro}],code:[{label:function(){return"variable name of columns"},monospace:!0,uuid:lo},{label:function(){return"variable name of rows"},monospace:!0,uuid:uo}]}),(0,u.Z)(bo,Xr.TIME_SERIES_BAR_CHART,Zo),(0,u.Z)(bo,Xr.TIME_SERIES_LINE_CHART,Zo),bo),So=(xo={},(0,u.Z)(xo,Xr.BAR_CHART,{configuration:function(e){var n;return n={},(0,u.Z)(n,lo,"x"),(0,u.Z)(n,uo,"y"),(0,u.Z)(n,Jr,fo.VERTICAL),n},content:function(e){return"columns = df_1.columns\nx = df_1.columns[:7]\ny = [len(df_1[col].unique()) for col in x]\n"}}),(0,u.Z)(xo,Xr.HISTOGRAM,{configuration:function(e){var n;return n={},(0,u.Z)(n,Yr,10),(0,u.Z)(n,lo,"x"),n},content:function(e){return"columns = df_1.columns\ncol = list(filter(lambda x: df_1[x].dtype == float or df_1[x].dtype == int, columns))[0]\nx = df_1[col]\n"}}),(0,u.Z)(xo,Xr.LINE_CHART,{configuration:function(e){var n;return n={},(0,u.Z)(n,lo,"x"),(0,u.Z)(n,uo,"y"),n},content:function(e){return"columns = df_1.columns\ncols = list(filter(lambda x: df_1[x].dtype == float or df_1[x].dtype == int, columns))\nx = df_1[cols[0]]\ny = [df_1[cols[1]]]\n"}}),(0,u.Z)(xo,Xr.PIE_CHART,{configuration:function(e){var n;return n={},(0,u.Z)(n,Yr,7),(0,u.Z)(n,lo,"x"),n},content:function(e){return"x = df_1[df_1.columns[0]]"}}),(0,u.Z)(xo,Xr.TABLE,{configuration:function(e){var n;return n={},(0,u.Z)(n,ro,10),(0,u.Z)(n,lo,"x"),(0,u.Z)(n,uo,"y"),n},content:function(e){return"x = df_1.columns\ny = df_1.to_numpy()"}}),(0,u.Z)(xo,Xr.TIME_SERIES_BAR_CHART,{configuration:function(e){return(0,u.Z)({},io,vo.ORIGINAL)}}),(0,u.Z)(xo,Xr.TIME_SERIES_LINE_CHART,{configuration:function(e){return(0,u.Z)({},io,vo.ORIGINAL)}}),xo),Po=(Oo={},(0,u.Z)(Oo,Xr.BAR_CHART,(yo={},(0,u.Z)(yo,lo,(function(){return"must be a list of booleans, dates, integers, floats, or strings."})),(0,u.Z)(yo,uo,(function(){return"must be a list of lists containing integers or floats."})),yo)),(0,u.Z)(Oo,Xr.HISTOGRAM,(0,u.Z)({},lo,(function(){return"must be a list of integers or floats."}))),(0,u.Z)(Oo,Xr.LINE_CHART,(jo={},(0,u.Z)(jo,lo,(function(){return"must be a list of integers or floats."})),(0,u.Z)(jo,uo,(function(){return"must be a list of lists containing integers or floats. Each list is a single line in the chart."})),jo)),(0,u.Z)(Oo,Xr.PIE_CHART,(0,u.Z)({},lo,(function(){return"must be a list of booleans, dates, integers, floats, or strings."}))),(0,u.Z)(Oo,Xr.TABLE,(ko={},(0,u.Z)(ko,lo,(function(){return"must be a list of strings."})),(0,u.Z)(ko,uo,(function(){return"must be a list of lists containing booleans, dates, integers, floats, or strings."})),ko)),Oo),Eo=[{label:function(){return"% of missing values"},widgetTemplate:function(){var e;return{configuration:(e={},(0,u.Z)(e,lo,"columns_with_mising_values"),(0,u.Z)(e,uo,"percentage_of_missing_values"),(0,u.Z)(e,Jr,fo.HORIZONTAL),(0,u.Z)(e,ao,mo.DESCENDING),(0,u.Z)(e,"chart_type",Xr.BAR_CHART),e),content:"number_of_rows = len(df_1.index)\ncolumns_with_mising_values = []\npercentage_of_missing_values = []\nfor col in df_1.columns:\n    missing = df_1[col].isna().sum()\n    if missing > 0:\n        columns_with_mising_values.append(col)\n        percentage_of_missing_values.append(100 * missing / number_of_rows)\n"}}},{label:function(){return"Unique values"},widgetTemplate:function(){var e;return{configuration:(e={},(0,u.Z)(e,lo,"columns"),(0,u.Z)(e,uo,"number_of_unique_values"),(0,u.Z)(e,Jr,fo.HORIZONTAL),(0,u.Z)(e,ao,mo.DESCENDING),(0,u.Z)(e,"chart_type",Xr.BAR_CHART),e),content:"columns = df_1.columns\nnumber_of_unique_values = [len(df_1[col].dropna().unique()) for col in columns]\n"}}},{label:function(){return"Most frequent values"},widgetTemplate:function(){var e;return{configuration:(e={},(0,u.Z)(e,eo,3e3),(0,u.Z)(e,no,"column_index"),(0,u.Z)(e,lo,"columns"),(0,u.Z)(e,uo,"rows"),(0,u.Z)(e,"chart_type",Xr.TABLE),e),content:"columns = ['mode value', 'frequency', '% of values']\n\ncolumn_index = []\nrows = []\nfor col in df_1.columns:\n    value, column_value = sorted(\n      [(v, k) for k, v in df_1[col].value_counts().items()],\n      reverse=True,\n    )[0]\n    number_of_rows = len(df_1[col].dropna())\n    column_index.append(col)\n    rows.append([\n        column_value,\n        f'{round(100 * value / number_of_rows, 2)}%',\n        value,\n      ])\n"}}},{label:function(){return"Summary overview"},widgetTemplate:function(){var e;return{configuration:(e={},(0,u.Z)(e,eo,3e3),(0,u.Z)(e,no,"stats"),(0,u.Z)(e,lo,"headers"),(0,u.Z)(e,uo,"rows"),(0,u.Z)(e,"chart_type",Xr.TABLE),e),content:"from mage_ai.data_cleaner.column_types.column_type_detector import infer_column_types\n\n\nheaders = ['value']\nstats = ['Columns', 'Rows']\nrows = [[len(df_1.columns)], [len(df_1.index)]]\n\ncol_counts = {}\nfor col, col_type in infer_column_types(df_1).items():\n    col_type_name = col_type.value\n    if not col_counts.get(col_type_name):\n        col_counts[col_type_name] = 0\n    col_counts[col_type_name] += 1\n\nfor col_type, count in sorted(col_counts.items()):\n    stats.append(f'# of {col_type}')\n    rows.append([count])\n"}}},{label:function(){return"Feature profiles"},widgetTemplate:function(){var e;return{configuration:(e={},(0,u.Z)(e,eo,3e3),(0,u.Z)(e,no,"stats"),(0,u.Z)(e,lo,"columns"),(0,u.Z)(e,uo,"rows"),(0,u.Z)(e,"chart_type",Xr.TABLE),e),content:"from mage_ai.data_cleaner.column_types.column_type_detector import infer_column_types\nimport statistics\n\n\ncolumns_and_types = infer_column_types(df_1).items()\ncolumns = [t[0] for t in columns_and_types]\nstats = ['Type', 'Missing values', 'Unique values', 'Min', 'Max', 'Mean', 'Median', 'Mode', 'STD dev']\nrows = [[] for _ in stats]\n\nfor col, col_type in columns_and_types:\n    series = df_1[col]\n    min_value = None\n    max_value = None\n    mean = None\n    median = None\n    std_dev = None\n\n    not_null = series[series.notnull()]\n\n    if col_type.value in ['number', 'number_with_decimals']:\n        count = len(not_null.index)\n        if count >= 1:\n            mean = round(not_null.sum() / count, 2)\n            median = sorted(not_null)[int(count / 2)]\n        min_value = round(series.min(), 2)\n        max_value = round(series.max(), 2)\n        std_dev = statistics.stdev(not_null.values)\n    else:\n        min_value = not_null.astype(str).min()\n        max_value = not_null.astype(str).max()\n\n    _, mode = sorted(\n      [(v, k) for k, v in not_null.value_counts().items()],\n      reverse=True,\n    )[0]\n\n    for idx, value in enumerate([\n        col_type.value,\n        len(series[series.isna()].index),\n        len(series.unique()),\n        min_value,\n        max_value,\n        mean,\n        median,\n        mode,\n        std_dev,\n    ]):\n      rows[idx].append(value)\n"}}}];function To(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Io(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?To(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):To(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Ao=function(e){var n=e.addWidget,t=e.block,r=e.deleteBlock,o=e.executionState,c=e.interruptKernel,l=e.runBlock,u=t.all_upstream_blocks_executed,a=void 0===u||u,s=t.type,d=t.uuid,p=(0,f.useRef)(null),h=(0,f.useRef)(null),v=(0,f.useRef)(null),g=(0,f.useState)(!1),b=g[0],x=g[1],w=(0,f.useState)(!1),_=w[0],S=w[1],P=(0,f.useState)(!1),E=P[0],I=P[1],D=(0,f.useContext)(k.ThemeContext),B=ir.IDLE!==o,N=Oe(s,{theme:D}).accent,M=(0,f.useMemo)((function(){return ho.map((function(e){var r,o,c={configuration:{chart_type:e},type:i.CHART,upstream_blocks:[t.uuid]},u=So[e],a=(null===u||void 0===u||null===(r=u.configuration)||void 0===r?void 0:r.call(u,c))||{},s=(null===u||void 0===u||null===(o=u.content)||void 0===o?void 0:o.call(u,c))||null;return{label:function(){return(0,Ee.vg)(e)},onClick:function(){return n(Io(Io({},c),{},{configuration:Io(Io({},c.configuration),a),content:s}),{onCreateCallback:function(e){[m.EXECUTED,m.UPDATED].includes(t.status)?l({block:e,code:s,disableReset:!0}):l({block:t,runDownstream:!0})}})},uuid:e}}))}),[ho,t,l]),L=(0,f.useMemo)((function(){return Eo.map((function(e){var r=e.label,o=Io(Io({},(0,e.widgetTemplate)()),{},{type:i.CHART,upstream_blocks:[t.uuid]});return{label:r,onClick:function(){return n(o,{onCreateCallback:function(e){[m.EXECUTED,m.UPDATED].includes(t.status)?l({block:e,code:e.content,disableReset:!0}):l({block:t,runDownstream:!0})}})},uuid:r()}}))}),[Eo,t,l]);return(0,Z.jsx)(wo,{children:(0,Z.jsxs)(j.Z,{alignItems:"center",flexDirection:"column",children:[ir.QUEUED===o&&(0,Z.jsx)(Hn.Z,{color:(D||C.Z).content.active,type:"cylon"}),ir.BUSY===o&&(0,Z.jsx)(Hn.Z,{color:(D||C.Z).content.active}),!B&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(Ct,{appearAbove:!0,appearBefore:!0,default:!0,label:(0,Z.jsxs)(O.ZP,{children:["Run block \xa0 \xa0",(0,Z.jsx)(A,{inline:!0,keyTextGroups:[[F.RJ,F.Lz]],monospace:!0,uuidForKey:d})]}),size:3*T.iI,widthFitContent:!0,children:(0,Z.jsx)(y.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){a?l({block:t}):S(!0)},children:(0,Z.jsx)(ee,{color:N,size:3*T.iI,children:(0,Z.jsx)(R.Py,{black:!0,size:1.5*T.iI})})})}),(0,Z.jsx)(rt.Z,{disableEscape:!0,onClickOutside:function(){return S(!1)},open:_,children:(0,Z.jsx)(G,{items:[{label:function(){return"Execute block"},onClick:function(){return l({block:t})},uuid:"execute_block"},{label:function(){return"Execute with upstream blocks"},onClick:function(){return l({block:t,runUpstream:!0})},uuid:"execute_upstream"}],left:25*-T.iI,onClickCallback:function(){return S(!1)},open:_,parentRef:h,topOffset:2*-T.iI,uuid:"execute_actions",width:25*T.iI})})]}),[i.DATA_LOADER,i.TRANSFORMER].includes(t.type)&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(Fn.Z,{mt:T.cd,ref:p,children:(0,Z.jsx)(Ct,{appearBefore:!0,default:!0,label:"Add chart",size:2.25*T.iI,widthFitContent:!0,children:(0,Z.jsx)(y.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){return x(!0)},children:(0,Z.jsx)(R.er,{size:2.25*T.iI})})})}),(0,Z.jsx)(rt.Z,{disableEscape:!0,onClickOutside:function(){return x(!1)},open:b,children:(0,Z.jsx)(G,{items:[{isGroupingTitle:!0,label:function(){return"Custom charts"},uuid:"custom_charts"}].concat((0,dr.Z)(M),[{isGroupingTitle:!0,label:function(){return"Templates"},uuid:"chart_templates"}],(0,dr.Z)(L)),left:25*-T.iI,onClickCallback:function(){return x(!1)},open:b,parentRef:p,topOffset:6*T.iI,uuid:"CommandButtons/add_charts",width:25*T.iI})})]}),(0,Z.jsx)(Fn.Z,{mt:T.cd,children:(0,Z.jsx)(Ct,{appearBefore:!0,default:!0,label:(0,Z.jsxs)(O.ZP,{children:["Delete block and file \xa0 \xa0",(0,Z.jsx)(A,{inline:!0,monospace:!0,keyTextGroups:[[F.jW],[F.jW]],uuidForKey:d})]}),size:2.5*T.iI,widthFitContent:!0,children:(0,Z.jsx)(y.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){return r(t)},children:(0,Z.jsx)(R.rF,{size:2.5*T.iI})})})}),B&&(0,Z.jsx)(Fn.Z,{mt:T.cd,children:(0,Z.jsx)(Ct,{appearAbove:!0,appearBefore:!0,default:!0,label:(0,Z.jsxs)(O.ZP,{children:["Interrupt kernel \xa0 \xa0",(0,Z.jsx)(A,{inline:!0,monospace:!0,keyTextGroups:[[F.kA],[F.kA]],uuidForKey:d})]}),size:2.5*T.iI,widthFitContent:!0,children:(0,Z.jsx)(y.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){return c()},children:(0,Z.jsx)(ee,{borderSize:1.5,size:2.5*T.iI,children:(0,Z.jsx)(R.x8,{size:1*T.iI})})})})}),(0,Z.jsx)("div",{ref:v,children:(0,Z.jsx)(Fn.Z,{mt:T.cd,children:(0,Z.jsx)(Ct,{appearBefore:!0,default:!0,label:(0,Z.jsx)(O.ZP,{children:"More actions"}),size:2.5*T.iI,widthFitContent:!0,children:(0,Z.jsx)(y.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){return I(!E)},children:(0,Z.jsx)(ee,{borderSize:1.5,size:2.5*T.iI,children:(0,Z.jsx)(R.mH,{size:T.iI})})})})})}),(0,Z.jsx)(rt.Z,{disableEscape:!0,onClickOutside:function(){return I(!1)},open:E,children:(0,Z.jsx)(G,{items:[{label:function(){return"Execute with upstream blocks"},onClick:function(){return l({block:t,runUpstream:!0})},uuid:"execute_upstream"}],left:25*-T.iI,onClickCallback:function(){return I(!1)},open:E,parentRef:v,topOffset:6*T.iI,uuid:"FileHeaderMenu/file_items",width:25*T.iI})})]})})};function Ro(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Do(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ro(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ro(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Bo(e,n){var t,r=e.addNewBlock,o=e.addWidget,c=e.block,a=e.blockRefs,s=e.blocks,d=e.defaultValue,h=void 0===d?"":d,m=e.deleteBlock,v=e.executionState,g=e.fetchFileTree,C=e.fetchPipeline,w=e.height,_=e.interruptKernel,S=e.mainContainerRef,P=e.mainContainerWidth,E=e.messages,I=void 0===E?[]:E,A=e.noDivider,D=e.onChange,B=e.pipeline,N=e.runBlock,M=e.runningBlocks,L=e.selected,H=e.setActiveSidekickView,z=e.setAnyInputFocused,W=e.setEditingBlock,G=e.setOutputBlocks,Q=e.setSelected,K=e.setSelectedOutputBlock,X=e.setTextareaFocused,q=e.textareaFocused,Y=e.widgets,J=(0,f.useContext)(k.ThemeContext),$=(0,f.useState)(!1),ne=$[0],te=$[1],re=(0,f.useState)(!1),oe=re[0],ie=re[1],ce=(0,f.useState)(!1),le=ce[0],ue=ce[1],ae=(0,f.useState)(h),se=ae[0],de=ae[1],fe=(0,f.useState)(null),pe=fe[0],he=fe[1],me=(0,f.useState)(!1),ve=me[0],ge=me[1],be=(0,f.useState)(c.uuid),xe=be[0],ye=be[1],ke=(0,f.useState)(!1),Ce=ke[0],Te=ke[1],Ie=(0,f.useState)(0),Re=Ie[0],De=Ie[1],Be=(0,f.useState)(null),Ne=Be[0],Me=Be[1],Le=(0,f.useState)(null),Fe=Le[0],He=Le[1],Ue=(0,f.useMemo)((function(){return"".concat(null===B||void 0===B?void 0:B.uuid,"/").concat(c.uuid,"/codeCollapsed")}),[null===B||void 0===B?void 0:B.uuid,c.uuid]),ze=(0,f.useMemo)((function(){return"".concat(null===B||void 0===B?void 0:B.uuid,"/").concat(c.uuid,"/outputCollapsed")}),[null===B||void 0===B?void 0:B.uuid,c.uuid]);(0,f.useEffect)((function(){ue((0,je.U2)(Ue,!1)),Te((0,je.U2)(ze,!1))}),[]);var We=(0,f.useRef)(null),Ge=(0,f.useMemo)((function(){return(0,Ae.HK)(s,(function(e){return e.uuid}))}),[s]),Qe=(0,f.useMemo)((function(){return!!Y.find((function(e){return e.upstream_blocks.includes(c.uuid)}))}),[c,Y]),Ve=(0,f.useCallback)((function(e){var n=e||{},t=n.block,r=n.code,o=n.disableReset,i=n.runDownstream,c=n.runUpstream;N({block:t,code:r||se,runDownstream:i||Qe,runUpstream:c||!1}),o||(De(1+Number(Re)),Me(null),Te(!1))}),[se,Qe,Re,N,De,Me]),Ke=(0,Xe.Z)(I);(0,f.useEffect)((function(){(null===Ke||void 0===Ke||!Ke.length)&&(null===I||void 0===I?void 0:I.length)>=1&&He(Number(new Date))}),[I,Ke,He]);var qe=!!M.find((function(e){return e.uuid===c.uuid}))||(null===I||void 0===I?void 0:I.length)>=1&&v!==ir.IDLE,Ye=(0,Xe.Z)(v);(0,f.useEffect)((function(){v===ir.IDLE&&v!==Ye&&Me(Number(new Date))}),[v,Ye,Me]);var Je=(0,f.useCallback)((function(e){var n=e.editorRect,t=(n.height,n.top),r=e.position.lineNumber;if(null!==S&&void 0!==S&&S.current){var o=S.current.getBoundingClientRect().height,i=21*r;if(t+i>o){var c=S.current.scrollTop+(i-o+t);S.current.scrollTo(0,c)}else if(i+t<21){var l=S.current.scrollTop+(i+t-21);S.current.scrollTo(0,l)}}}),[S]),$e=(0,f.useMemo)((function(){return(null===pe||void 0===pe?void 0:pe.length)>=0?pe.map((function(e){return{data:e,execution_state:ir.IDLE,type:cr.TEXT_PLAIN}})):I.filter((function(e){return null===e||void 0===e?void 0:e.type}))}),[pe,I]),en=!!$e.find((function(e){return e.error})),nn=Oe(c.type,{theme:J}).accent,rn=(null===c||void 0===c||null===(t=c.upstream_blocks)||void 0===t?void 0:t.length)||0,on=(0,f.useMemo)((function(){return{blockType:c.type,hasError:en,selected:L}}),[c.type,en,L]),cn=$e.length>=1,ln=(0,f.useCallback)((function(){L||(z(!1),Q(!0))}),[z,Q]),un=(0,p.Db)(Yn.ZP.blocks.pipelines.useUpdate(null===B||void 0===B?void 0:B.uuid,c.uuid),{onSuccess:function(e){return(0,Jn.wD)(e,{callback:function(e){var n=e.block.content;ge(!1),C(),g(),de(n)},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})},onError:function(e){var n=(0,Jn.qQ)(e).messages;he(n)}}),an=(0,l.Z)(un,1)[0],sn="CodeBlock/".concat(c.uuid),dn=(0,U.y)(),fn=dn.registerOnKeyDown,pn=dn.unregisterOnKeyDown;(0,f.useEffect)((function(){return function(){pn(sn)}}),[pn,sn]),fn(sn,(function(e,n,t){ve&&String(t[0])===String(F.Uq)&&String(t[1])!==String(F.zX)?an({block:Do(Do({},c),{},{name:xe})}):L&&($n([F.zX,F.Uq],n)||$n([F.PQ,F.Uq],n)?Ve({block:c}):$n([F.XR,F.Uq],n)&&(e.preventDefault(),r({type:c.type}).then((function(){Ve({block:c})}))))}),[r,c,ve,xe,Ve,L,an]);var hn,mn=(0,f.useMemo)((function(){return(0,Z.jsx)(tn,{autoHeight:!0,height:w,onChange:function(e){de(e),null===D||void 0===D||D(e)},onDidChangeCursorPosition:Je,placeholder:"Start typing here...",selected:L,setSelected:Q,setTextareaFocused:X,shortcuts:[function(e,n){return function(e,n){return{contextMenuGroupId:"navigation",contextMenuOrder:1.5,id:"executeCode",keybindingContext:null,keybindings:[e.KeyMod.CtrlCmd|e.KeyCode.Enter],label:"Run selected block",precondition:null,run:function(){return n()}}}(e,(function(){Ve({block:c,code:n.getValue()})}))}],textareaFocused:q,value:se,width:"100%"})}),[se,w,L,q]),vn=(0,f.useMemo)((function(){return(0,Z.jsx)(qr,Do(Do({},on),{},{block:c,collapsed:Ce,isInProgress:qe,mainContainerWidth:P,messages:$e,pipeline:B,runCount:Re,runEndTime:Ne,runStartTime:Fe,selected:L,setActiveSidekickView:H,setCollapsed:function(e){Te((function(){return(0,je.t8)(ze,e),e}))},setOutputBlocks:G,setSelectedOutputBlock:K}))}),[c,on,qe,P,$e,Ce,Re,Ne,Fe,L]),gn=(0,f.useCallback)((function(){return ie(!1)}),[]);return(0,Z.jsxs)("div",{ref:n,style:{position:"relative"},children:[(0,Z.jsxs)(j.Z,{alignItems:"center",justifyContent:"space-between",style:{marginBottom:T.iI/2},children:[(0,Z.jsxs)(V.Z,{alignItems:"center",flex:1,children:[(0,Z.jsxs)(j.Z,{alignItems:"center",children:[(0,Z.jsx)(ee,{color:nn,size:1.5*T.iI,square:!0}),(0,Z.jsx)(Fn.Z,{mr:1}),(0,Z.jsx)(br,{compact:!0,items:(hn=c,(0,u.Z)({},i.SCRATCHPAD,[{items:x.map((function(e){return{label:function(){return b[e]},onClick:function(){return an({block:Do(Do({},hn),{},{type:e})})},uuid:"block_menu/scratchpad/convert_to/".concat(e)}})),label:function(){return"Convert to"},uuid:"block_menu/scratchpad/convert_to"}])[hn.type]),onClickCallback:gn,onClickOutside:gn,open:oe,parentRef:We,uuid:"CodeBlock/block_menu",children:(0,Z.jsxs)(O.ZP,{color:nn,monospace:!0,children:[i.DATA_EXPORTER===c.type&&(0,Z.jsx)(Z.Fragment,{children:"DATA EXPORTER"}),i.DATA_LOADER===c.type&&(0,Z.jsx)(Z.Fragment,{children:"DATA LOADER\xa0"}),i.SCRATCHPAD===c.type&&(0,Z.jsx)(Z.Fragment,{children:"SCRATCHPAD\xa0"}),i.TRANSFORMER===c.type&&(0,Z.jsx)(Z.Fragment,{children:"TRANSFORMER\xa0"})]})}),i.SCRATCHPAD===c.type&&(0,Z.jsx)(y.Z,{basic:!0,iconOnly:!0,noPadding:!0,onClick:function(){return ie(!0)},transparent:!0,children:(0,Z.jsx)(R.K5,{muted:!0})}),(0,Z.jsx)(Fn.Z,{mr:1})]}),(0,Z.jsx)(Fn.Z,{mr:T.cd}),(0,Z.jsx)(R.iU,{size:1.5*T.iI}),(0,Z.jsx)(Fn.Z,{mr:1}),(0,Z.jsxs)(j.Z,{alignItems:"center",children:[(0,Z.jsx)(Et,{bold:!1,inputValue:xe,monospace:!0,muted:!0,notRequired:!0,onBlur:function(){return setTimeout((function(){return ge(!1)}),300)},onChange:function(e){ye(e.target.value),e.preventDefault()},onClick:function(){z(!0),ge(!0)},onFocus:function(){z(!0),ge(!0)},stacked:!0,value:!ve&&c.uuid}),ve&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(Fn.Z,{ml:1}),(0,Z.jsx)(Un.Z,{onClick:function(){return an({block:Do(Do({},c),{},{name:xe})})},preventDefault:!0,sameColorAsText:!0,small:!0,children:"Update name"})]})]})]}),i.SCRATCHPAD!==c.type&&(0,Z.jsx)(j.Z,{alignItems:"center",children:(0,Z.jsx)(Ct,{appearBefore:!0,block:!0,label:"\n                ".concat((0,Ee._6)("parent block",rn),". ").concat(0===rn?"Click to select 1 or more blocks to depend on.":"Edit parent blocks.","\n              "),size:null,widthFitContent:!0,children:(0,Z.jsx)(y.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){var e;Q(!0),W({upstreamBlocks:{block:c,values:null===(e=c.upstream_blocks)||void 0===e?void 0:e.map((function(e){return{uuid:e}}))}})},children:(0,Z.jsxs)(j.Z,{alignItems:"center",children:[(0,Z.jsxs)(O.ZP,{monospace:rn>=1,underline:0===rn,children:[0===rn&&"Click to set parent blocks",rn>=1&&(0,Ee._6)("parent block",rn)]}),(0,Z.jsx)(Fn.Z,{mr:1}),(0,Z.jsx)(R.Kq,{size:2*T.iI})]})})})}),(0,Z.jsx)(Fn.Z,{mr:1}),(0,Z.jsx)(Fn.Z,{px:1,children:(0,Z.jsx)(y.Z,{basic:!0,iconOnly:!0,noPadding:!0,onClick:function(){ue((function(e){return(0,je.t8)(Ue,!e),!e})),le||Te((function(){return(0,je.t8)(ze,!0),!0}))},transparent:!0,children:le?(0,Z.jsx)(R._M,{muted:!0,size:2*T.iI}):(0,Z.jsx)(R.Kh,{muted:!0,size:2*T.iI})})})]}),(L||qe)&&(0,Z.jsx)(Ao,{addWidget:o,block:c,deleteBlock:m,executionState:v,interruptKernel:_,runBlock:Ve}),(0,Z.jsxs)(we,{onClick:function(){return ln()},children:[(0,Z.jsxs)(Ze,Do(Do({},on),{},{className:L&&q?"selected":null,hasOutput:cn,children:[c.upstream_blocks.length>=1&&!le&&(0,Z.jsxs)(Pe,{children:[(0,Z.jsx)(O.ZP,{small:!0,children:"Positional arguments for decorated function:"}),(0,Z.jsxs)(Fn.Z,{mt:1,children:[(0,Z.jsxs)(O.ZP,{monospace:!0,muted:!0,small:!0,children:[i.DATA_EXPORTER===c.type&&"@data_exporter",i.DATA_LOADER===c.type&&"@data_loader",i.TRANSFORMER===c.type&&"@transformer"]}),(0,Z.jsxs)(O.ZP,{monospace:!0,muted:!0,small:!0,children:["def ",(i.DATA_EXPORTER===c.type?"export_data":i.DATA_LOADER===c.type&&"load_data")||i.TRANSFORMER===c.type&&"transform_df","(",c.upstream_blocks.map((function(e,n){return"df_".concat(n+1)})).join(", "),"):"]}),c.upstream_blocks.map((function(e,n){var t=Ge[e],r=Oe(null===t||void 0===t?void 0:t.type,{theme:J}).accent;return(0,Z.jsxs)("div",{children:[(0,Z.jsxs)(O.ZP,{inline:!0,monospace:!0,muted:!0,small:!0,children:["\xa0\xa0\xa0\xa0df_",n+1]})," ",(0,Z.jsx)(O.ZP,{inline:!0,monospace:!0,muted:!0,small:!0,children:"\u2192"})," ",(0,Z.jsx)(Un.Z,{color:r,onClick:function(){var e,n,r=null===a||void 0===a||null===(e=a.current)||void 0===e?void 0:e["".concat(null===t||void 0===t?void 0:t.type,"s/").concat(null===t||void 0===t?void 0:t.uuid,".py")];null===r||void 0===r||null===(n=r.current)||void 0===n||n.scrollIntoView()},preventDefault:!0,small:!0,children:(0,Z.jsx)(O.ZP,{color:r,inline:!0,monospace:!0,small:!0,children:e})})]},e)}))]})]}),le?(0,Z.jsx)(Fn.Z,{px:1,children:(0,Z.jsxs)(O.ZP,{monospace:!0,muted:!0,children:["(",(0,Ee._6)("line",null===se||void 0===se?void 0:se.split(/\r\n|\r|\n/).length)," collapsed)"]})}):mn]})),cn&&vn]}),!A&&(0,Z.jsxs)(_e,{onMouseEnter:function(){return te(!0)},onMouseLeave:function(){return te(!1)},children:[ne&&(0,Z.jsx)(Dr,{addNewBlock:function(e){var n=e.content,t=e.upstream_blocks||[];return i.CHART!==c.type&&i.SCRATCHPAD!==c.type&&i.CHART!==e.type&&i.SCRATCHPAD!==e.type&&t.push(c.uuid),i.CHART!==c.type&&i.SCRATCHPAD!==c.type&&i.SCRATCHPAD===e.type&&(n="from mage_ai.data_preparation.variable_manager import get_variable\n\n\ndf = get_variable('".concat(B.uuid,"', '").concat(c.uuid,"', 'df')\n")),r(Do(Do({},e),{},{content:n,upstream_blocks:t}))},compact:!0}),(0,Z.jsx)(Se,{className:"block-divider-inner"})]})]})}var No=f.forwardRef(Bo);function Mo(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Lo(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Mo(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Mo(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Fo=function(e){var n=e.addNewBlockAtIndex,t=e.addWidget,r=e.blockRefs,o=e.blocks,c=void 0===o?[]:o,l=e.deleteBlock,a=e.fetchFileTree,s=e.fetchPipeline,d=e.interruptKernel,p=(e.isPipelineUpdating,e.kernel,e.mainContainerRef),h=e.mainContainerWidth,m=e.messages,v=e.onChangeCodeBlock,g=e.pipeline,b=e.pipelineContentTouched,x=(e.pipelineLastSaved,e.restartKernel),y=e.runBlock,j=e.runningBlocks,k=void 0===j?[]:j,O=e.savePipelineContent,C=e.selectedBlock,w=e.setEditingBlock,_=(e.setMessages,e.setActiveSidekickView),S=e.setOutputBlocks,P=e.setPipelineContentTouched,E=(e.setRunningBlocks,e.setSelectedBlock),I=e.setSelectedOutputBlock,A=e.setTextareaFocused,R=e.textareaFocused,D=e.widgets,B=(0,f.useState)(!1),N=B[0],M=B[1],L=(0,f.useState)(!1),H=L[0],z=L[1],W=(0,f.useState)(!0),G=W[0],Q=W[1],V=(0,f.useMemo)((function(){return k.reduce((function(e,n,t){return Lo(Lo({},e),{},(0,u.Z)({},n.uuid,Lo(Lo({},n),{},{priority:t})))}),{})}),[k]),K=(0,Xe.Z)(C),X=(0,f.useMemo)((function(){return c.length}),[c]),q="PipelineDetail/index",Y=(0,U.y)(),J=Y.registerOnKeyDown,$=Y.unregisterOnKeyDown;return(0,f.useEffect)((function(){return function(){$(q)}}),[$,q]),J(q,(function(e,t,r){if(b&&$n([F.zX,F.hS],t)){e.preventDefault();"undefined"!==typeof location&&window.confirm("You have changes that are unsaved. Click cancel and save your changes before reloading page.")&&location.reload()}else if($n([F.zX,F.Um],t))e.preventDefault(),O();else if(R)t[F.vP]?A(!1):b||F.Z1.find((function(e){return t[e]}))||P(!0);else{if(C){var o=c.findIndex((function(e){var n=e.uuid;return C.uuid===n}));t[F.vP]?E(null):r[0]===F.xD&&r[1]===F.xD?d():r[0]===F.l1&&r[1]===F.l1&&-1!==o?(l(C),setTimeout((function(){o===c.length-1?E(c[o-1]):c.length>=0?E(c[o+1]):E(null)}),100)):t[F.Bu]&&o>=1?E(c[o-1]):t[F.kD]&&o<=X-2?E(c[o+1]):$n([F.Uq],t)?A(!0):!N&&$n([F.zH],t)?n({type:i.SCRATCHPAD},o,E):!N&&$n([F.Fv],t)&&n({type:i.SCRATCHPAD},o+1,E)}else K&&t[F.Uq]&&E(K);r[0]===F.OC&&r[1]===F.OC&&x()}}),[n,N,c,d,X,b,x,O,C,K,P,E,A,R]),(0,f.useEffect)((function(){var e=setInterval((function(){b&&O()}),5e3);return function(){clearInterval(e)}}),[b,O]),(0,f.useEffect)((function(){setTimeout((function(){return z(!0)}),600)}),[g]),(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(er,{children:G&&(0,Z.jsx)(sr.Z,{classNames:"pipeline-detail",in:H,onEntered:function(){return setTimeout((function(){return Q(!1)}),$t)},timeout:1,children:(0,Z.jsx)(nr,{})})}),(0,Z.jsxs)(Fn.Z,{mt:1,px:T.cd,children:[c.map((function(e,o){var i=e.type,u=e.uuid,b=(null===C||void 0===C?void 0:C.uuid)===u,x=V[u],j=x?0===x.priority?ir.BUSY:ir.QUEUED:ir.IDLE,O="".concat(i,"s/").concat(u,".py");return r.current[O]=(0,f.createRef)(),(0,Z.jsx)(No,{addNewBlock:function(e){return A(!0),n(e,o+1,E)},addWidget:t,block:e,blockRefs:r,blocks:c,defaultValue:e.content,deleteBlock:function(e){l(e),M(!1)},executionState:j,fetchFileTree:a,fetchPipeline:s,interruptKernel:d,mainContainerRef:p,mainContainerWidth:h,messages:m[u],noDivider:o===X-1,onChange:function(e){return v(u,e)},pipeline:g,ref:r.current[O],runBlock:y,runningBlocks:k,selected:b,setActiveSidekickView:_,setAnyInputFocused:M,setEditingBlock:w,setOutputBlocks:S,setSelected:function(n){return E(!0===n?e:null)},setSelectedOutputBlock:I,setTextareaFocused:A,textareaFocused:b&&R,widgets:D},u)})),(0,Z.jsx)(Fn.Z,{mt:T.cd,children:(0,Z.jsx)(Dr,{addNewBlock:function(e){n(e,X,E),A(!0)}})})]})]})},Ho=t(70001),Uo=t(47256),zo=t(11754);var Wo=function(e){var n=e.afterWidth,t=e.features,r=e.insightsOverview,o=e.statistics,i=r.correlations,c=void 0===i?[]:i,u=n-(2*T.cd*T.iI+Tt.nn),a=function(e){var n=[];return{heatmapData:null===e||void 0===e?void 0:e.map((function(e,t){var r=e.correlations,o=e.feature.uuid;n.push({label:o});var i=r[0].y.map((function(e){var n=e.value;return(0,Ee.QV)(n)}));return i.splice(t,0,1),i})),xyLabels:n}}(c),s=a.heatmapData,d=a.xyLabels,f=function(e,n){return(0,Ae.YC)(null===e||void 0===e?void 0:e.map((function(e){return{feature:e,value:1-n["".concat(e.uuid,"/null_value_rate")]}})),"value")}(t,o),p=function(e,n){return(0,Ae.YC)(null===e||void 0===e?void 0:e.map((function(e){return{feature:e,value:n["".concat(e.uuid,"/count_distinct")]}})),"value")}(t,o),h=function(e,n){return(0,Ae.YC)(null===e||void 0===e?void 0:e.map((function(e){var t=Object.entries(n["".concat(e.uuid,"/value_counts")]||{})[0]||[],r=(0,l.Z)(t,2),o=r[0],i=r[1];return{feature:e,percentage:Number(i)/n.count,value:o}})),"percentage")}(t,o);return(0,Z.jsxs)(j.Z,{flexDirection:"column",children:[(null===f||void 0===f?void 0:f.length)>=1&&(0,Z.jsx)(zo.Z,{headerTitle:"Data completion",width:u,children:(0,Z.jsx)(Ho.Z,{data:f.map((function(e){var n=e.feature;return{x:e.value,y:n.uuid}})),height:Math.max(3*f.length*T.iI,50*T.iI),renderTooltipContent:function(e){var n=e.x;return"".concat((0,Ee.T3)(n)," of rows have a value")},xNumTicks:2,ySerialize:function(e){return e.y}})}),(null===p||void 0===p?void 0:p.length)>=1&&(0,Z.jsx)(zo.Z,{headerTitle:"Number of unique values",width:u,children:(0,Z.jsx)(Ho.Z,{data:p.map((function(e){var n=e.feature;return{x:e.value,y:n.uuid}})),height:Math.max(3*f.length*T.iI,50*T.iI),renderTooltipContent:function(e){var n=e.x;return"".concat(n," unique values")},xNumTicks:2,ySerialize:function(e){return e.y}})}),h.length>=1&&(0,Z.jsx)(zo.Z,{headerTitle:"Distribution of values",width:u,children:(0,Z.jsx)(Ho.Z,{data:h.map((function(e){var n=e.feature,t=e.percentage;return{feature:n,value:e.value,x:t,y:n.uuid}})),height:Math.max(3*h.length*T.iI,50*T.iI),renderTooltipContent:function(e){var n=e.value,t=e.x;return"".concat(n," is ").concat((0,Ee.T3)(t)," of all rows")},xNumTicks:2,ySerialize:function(e){return e.y}})}),c&&(null===s||void 0===s?void 0:s.length)>=1&&(0,Z.jsx)(zo.Z,{headerTitle:"Correlations",children:(0,Z.jsx)(Fn.Z,{p:1,children:(0,Z.jsx)(Uo.Z,{countMidpoint:0,data:s,height:8*T.iI*d.length,minCount:-1,xLabels:d,yLabels:d})})})]})},Go=t(92083),Qo=t.n(Go),Vo=t(26226),Ko=t(84969),Xo=t(90948),qo=t(65743),Yo=t(39048),Jo=t(79487),$o=t(29989),ei=t(59381),ni=t(9846),ti=t(65376),ri=t(52359),oi=t(48072),ii=t(24903),ci=t(98677),li=t(84181),ui=t(73899);function ai(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function si(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ai(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ai(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var di={bottom:T.iI*(3+T.cd),left:T.iI*T.cd,right:T.iI*T.cd,top:T.iI*T.cd};function fi(e,n){return Math.max.apply(Math,(0,dr.Z)(e.map(n)))}function pi(e){var n=e.data,t=e.height,r=e.keyForYData,o=e.large,i=e.margin,c=void 0===i?{}:i,l=e.orientationVertical,u=void 0!==l&&l,a=e.showTooltip,s=e.width,d=e.yLabelFormat,p=(0,f.useContext)(k.ThemeContext),h=(0,f.useCallback)((function(e){return e[r]}),[r]),m=d;m||(m=function(e){return e.length>20?"".concat(e.substring(0,20),"..."):e});var v=o?Je.iD:Je.J5,g=si(si({},di),c),b=n.slice(Math.max(0,n.length-50)),x=(0,f.useMemo)((function(){return Object.keys((null===b||void 0===b?void 0:b[0])||{}).filter((function(e){return e!==r}))}),[b,r]),y=(0,ii.Z)({domain:x,range:[ui.a$,ui.Ej,ui.hM,ui.ZA,ui.$R,ui.X_,ui.er,ui.hl,ui.nQ]}),j=(0,f.useMemo)((function(){return b.map(h)}),[b,h]),O=(0,ci.Z)({domain:j,padding:.1}),w=(0,ci.Z)({domain:x,padding:.1}),Z=(0,li.Z)({domain:[0,fi(b,(function(e){return fi(x,(function(n){return Number(e[n])}))}))]}),_={active:(null===p||void 0===p?void 0:p.content.default)||C.Z.content.default,backgroundPrimary:(null===p||void 0===p?void 0:p.chart.backgroundPrimary)||C.Z.chart.backgroundPrimary,backgroundSecondary:(null===p||void 0===p?void 0:p.chart.backgroundSecondary)||C.Z.chart.backgroundSecondary,muted:(null===p||void 0===p?void 0:p.content.muted)||C.Z.content.muted,primary:(null===p||void 0===p?void 0:p.chart.primary)||C.Z.chart.primary,tooltipBackground:(null===p||void 0===p?void 0:p.background.navigation)||C.Z.background.navigation},S=j;u&&(S=b.reduce((function(e,n){return e.concat(x.map((function(e){var t=n[e];return(0,Ee.kE)(t)?parseInt(String(t)):t})))}),[]));var P=Math.min(Math.max.apply(Math,(0,dr.Z)(S.map((function(e){return String(e).length})))),20);6*P>2*g.right?g.right+=5.5*P:6*P>=g.right&&(g.right+=3.75*P),g.left+=7*P;var E=s-(g.left+g.right),T=t-(g.top+g.bottom);u?(O.rangeRound([0,E]),Z.rangeRound([T,0])):(O.rangeRound([T,0]),Z.rangeRound([0,E])),w.rangeRound([0,O.bandwidth()]);var I=b.map(h).length,A=0;u||(A=O(S[I-1]));var R=(0,f.useCallback)((function(e){var n=(0,oi.Z)(e)||{x:0,y:0},t=n.x,r=n.y,o=t-g.left,i=r-g.top,c=0;c=u?(o-A/2)/(E-A):1-(i-A/2)/(T-A);var l=Math.floor(c*I),s=b[l];"undefined"===typeof s&&(s=b[l-1]),u?o>A&&o<E+g.left-A&&a({tooltipData:s,tooltipLeft:t,tooltipTop:r}):i>A&&i<T-A&&a({tooltipData:s,tooltipLeft:t,tooltipTop:r})}),[b,I,g.left,g.top,u,a,A,E,T]);return{colorScale:y,colors:_,data:b,fontSize:v,handleTooltip:R,margin:g,tempScale:Z,tickValues:S,xKeys:x,xMax:E,y1Scale:w,yLabelFormat:m,yMax:T,yScale:O,ySerialize:h}}var hi=["height","width","xAxisLabel","yAxisLabel"];function mi(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function vi(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?mi(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):mi(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}T.iI,T.iI,T.iI;var gi=(0,ei.Z)((function(e){var n=e.data,t=e.height,r=e.hideTooltip,o=e.keyForYData,i=void 0===o?"__y":o,c=e.large,u=e.margin,a=void 0===u?{}:u,s=e.renderNoDataText,d=e.renderTooltipContent,f=e.showTooltip,p=e.tooltipData,h=e.tooltipLeft,m=e.tooltipOpen,v=e.tooltipTop,g=e.width,b=e.xAxisLabel,x=e.xNumTicks,y=e.yLabelFormat,j=pi({data:n,height:t,keyForYData:i,large:c,margin:a,showTooltip:f,width:g,yLabelFormat:y}),k=j.colorScale,C=j.colors,w=j.data,_=j.fontSize,S=j.handleTooltip,P=j.margin,E=j.tempScale,T=j.tickValues,I=j.xKeys,A=j.xMax,R=j.y1Scale,D=j.yLabelFormat,B=j.yMax,N=j.yScale,M=j.ySerialize;return g<10?null:(0,Z.jsxs)("div",{children:[(0,Z.jsxs)("svg",{height:t,width:g,children:[s&&!(null!==w&&void 0!==w&&w.length)&&(0,Z.jsx)("text",{fill:C.active,dominantBaseline:"middle",textAnchor:"middle",fontFamily:Ye.ry,fontSize:_,x:"50%",y:"50%",children:s()}),(0,Z.jsx)(qo.Z,{fill:"transparent",height:t-(P.top+P.bottom),onMouseLeave:function(){return r()},onMouseMove:S,onTouchMove:S,onTouchStart:S,rx:14,width:g-(P.left+P.right),x:P.left,y:P.top}),(null===w||void 0===w?void 0:w.length)&&(0,Z.jsxs)($o.Z,{left:P.left,top:P.top,children:[(0,Z.jsx)(Yo.Z,{color:k,data:w,keys:I,width:A,xScale:E,y0:M,y0Scale:N,y1Scale:R,children:function(e){return e.map((function(e){return(0,Z.jsx)($o.Z,{top:e.y0,children:e.bars.map((function(n){return(0,Z.jsx)("g",{children:(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)("rect",{fill:n.color,height:n.height,pointerEvents:"none",rx:4,width:n.width,x:n.x,y:n.y})})},"".concat(e.index,"-").concat(n.index,"-").concat(n.key))}))},"bar-group-horizontal-".concat(e.index,"-").concat(e.y0))}))}}),(0,Z.jsx)(Ko.Z,{hideTicks:!0,scale:N,stroke:C.muted,tickFormat:function(e){return D(e)},tickLabelProps:function(){return{fill:C.active,fontFamily:Ye.ry,fontSize:_,style:{width:"10px"},textAnchor:"end"}},tickStroke:C.muted,tickValues:T,top:2}),(0,Z.jsx)(Xo.Z,{label:b,labelProps:{fill:C.muted,fontFamily:Ye.ry,fontSize:_,textAnchor:"middle"},numTicks:x,scale:E,stroke:C.muted,tickLabelProps:function(){return{fill:C.active,fontFamily:Ye.ry,fontSize:_,textAnchor:"middle"}},tickStroke:C.muted,top:B})]}),p&&(0,Z.jsx)("g",{children:(0,Z.jsx)(Jo.Z,{from:{x:P.left,y:v},pointerEvents:"none",stroke:C.active,strokeDasharray:"5,2",strokeWidth:1,to:{x:A+P.left,y:v}})})]}),m&&p&&(0,Z.jsxs)(ni.Z,{left:h,style:vi(vi({},ti.j),{},{backgroundColor:C.tooltipBackground}),top:v,children:[d&&d(p),!d&&Object.entries(p).map((function(e){var n=(0,l.Z)(e,2),t=n[0],r=n[1];if(i!==t){var o=r;return(0,Ee.kE)(o)&&String(o).split(".").length>=2&&(o=o.toFixed(4)),(0,Z.jsxs)(O.ZP,{inverted:!0,small:!0,children:[t,": ",o]},t)}}))]})]})}));var bi=function(e){var n,t=e.height,r=e.width,o=e.xAxisLabel,i=e.yAxisLabel,c=(0,Q.Z)(e,hi);return n="undefined"===typeof r?"100%":i?0===r?r:r-28:r,(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("div",{style:{display:"flex",height:t,marginBottom:o?T.iI:null,width:"100%"},children:[i&&(0,Z.jsx)(j.Z,{alignItems:"center",fullHeight:!0,justifyContent:"center",width:28,children:(0,Z.jsx)(ri.Z,{children:(0,Z.jsx)(O.ZP,{center:!0,muted:!0,small:!0,children:i})})}),(0,Z.jsx)("div",{style:{height:t,width:n},children:(0,Z.jsx)(Vo.Z,{children:function(e){var n=e.width,t=e.height;return(0,Z.jsx)(gi,vi(vi({},c),{},{height:t,width:n}))}})})]}),o&&(0,Z.jsx)("div",{style:{paddingLeft:i?36:0,paddingTop:4},children:(0,Z.jsx)(O.ZP,{center:!0,muted:!0,small:!0,children:o})})]})},xi=t(95422),yi=["keyForYData"],ji=["height","width","xAxisLabel","yAxisLabel"];function ki(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Oi(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ki(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ki(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Ci=(0,ei.Z)((function(e){var n=e.keyForYData,t=void 0===n?"__y":n,r=(0,Q.Z)(e,yi),o=r.height,i=r.hideTooltip,c=r.renderNoDataText,u=r.renderTooltipContent,a=r.tooltipData,s=r.tooltipLeft,d=r.tooltipOpen,f=r.tooltipTop,p=r.width,h=r.xLabelFormat,m=r.xNumTicks,v=r.yNumTicks,g=pi(Oi(Oi({},r),{},{keyForYData:t,orientationVertical:!0})),b=g.colorScale,x=g.colors,y=g.data,j=g.fontSize,k=g.handleTooltip,C=g.margin,w=g.tempScale,_=(g.tickValues,g.xKeys),S=(g.xMax,g.y1Scale),P=g.yLabelFormat,E=g.yMax,T=g.yScale,I=g.ySerialize;return p<10?null:(0,Z.jsxs)("div",{children:[(0,Z.jsxs)("svg",{height:o,width:p,children:[c&&!(null!==y&&void 0!==y&&y.length)&&(0,Z.jsx)("text",{fill:x.active,dominantBaseline:"middle",textAnchor:"middle",fontFamily:Ye.ry,fontSize:j,x:"50%",y:"50%",children:c()}),(null===y||void 0===y?void 0:y.length)&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(qo.Z,{fill:"transparent",height:o-(C.top+C.bottom),onMouseLeave:function(){return i()},onMouseMove:k,onTouchMove:k,onTouchStart:k,rx:14,width:p-(C.left+C.right),x:1.5*C.left,y:2*C.top}),(0,Z.jsxs)($o.Z,{left:C.left/2,top:C.top,children:[(0,Z.jsx)(xi.Z,{color:b,data:y,height:E,keys:_,x0:I,x0Scale:T,x1Scale:S,yScale:w,children:function(e){return e.map((function(e){return(0,Z.jsx)($o.Z,{left:e.x0+C.left,top:C.top,children:e.bars.map((function(n){return(0,Z.jsx)("g",{children:(0,Z.jsx)("rect",{fill:n.color,height:n.height,pointerEvents:"none",rx:4,width:n.width,x:n.x,y:n.y})},"".concat(e.index,"-").concat(n.index,"-").concat(n.key))}))},"bar-group-horizontal-".concat(e.index,"-").concat(e.x0))}))}}),(0,Z.jsx)(Ko.Z,{left:C.left,numTicks:v,scale:w,stroke:x.muted,tickFormat:function(e){return P(e)},tickLabelProps:function(){return{fill:x.active,fontFamily:Ye.ry,fontSize:j,textAnchor:"end",transform:"translate(-2,2.5)"}},tickStroke:x.muted,top:C.top}),(0,Z.jsx)(Xo.Z,{hideTicks:!0,left:C.left,numTicks:m,scale:T,stroke:x.muted,tickFormat:h,tickLabelProps:function(){return{fill:x.active,fontFamily:Ye.ry,fontSize:j,textAnchor:"middle"}},tickStroke:x.muted,top:E+C.top})]})]}),a&&(0,Z.jsx)("g",{children:(0,Z.jsx)(Jo.Z,{from:{x:s,y:2*C.top},pointerEvents:"none",stroke:x.active,strokeDasharray:"5,2",strokeWidth:1,to:{x:s,y:E+2*C.top}})})]}),d&&a&&(0,Z.jsxs)(ni.Z,{left:s,style:Oi(Oi({},ti.j),{},{backgroundColor:x.tooltipBackground}),top:f,children:[u&&u(a),!u&&Object.entries(a).map((function(e){var n=(0,l.Z)(e,2),r=n[0],o=n[1];return t!==r&&(0,Z.jsxs)(O.ZP,{inverted:!0,small:!0,children:[r,": ",String(o).match(/[\d.]+/)?o.toFixed(4):o]},r)})),(0,Z.jsx)("br",{}),(0,Z.jsxs)(O.ZP,{inverted:!0,small:!0,children:[h&&h(I(a)),!h&&I(a)]})]})]})}));var wi=function(e){var n=e.height,t=e.width,r=e.xAxisLabel,o=e.yAxisLabel,i=(0,Q.Z)(e,ji);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("div",{style:{display:"flex",height:n,marginBottom:r?T.iI:null,width:"100%"},children:[o&&(0,Z.jsx)(j.Z,{alignItems:"center",fullHeight:!0,justifyContent:"center",width:28,children:(0,Z.jsx)(ri.Z,{children:(0,Z.jsx)(O.ZP,{center:!0,muted:!0,small:!0,children:o})})}),(0,Z.jsx)("div",{style:{height:n,width:o?0===t?t:t-28:t},children:(0,Z.jsx)(Vo.Z,{children:function(e){var n=e.height,t=e.width;return(0,Z.jsx)(Ci,Oi(Oi({},i),{},{height:n,width:t}))}})})]}),r&&(0,Z.jsx)("div",{style:{paddingLeft:o?36:0,paddingTop:4},children:(0,Z.jsx)(O.ZP,{center:!0,muted:!0,small:!0,children:r})})]})},Zi=t(66872),_i=t(68735),Si=t(320),Pi=40*T.iI,Ei=k.default.div.withConfig({displayName:"indexstyle__ChartBlockStyle",componentId:"sc-1c3ufnj-0"})(["border-radius:","px;margin-left:","px;margin-right:","px;margin-top:","px;overflow:hidden;",""],w.n_,.5*T.iI,.5*T.iI,1*T.iI,(function(e){return"\n    background-color: ".concat((e.theme.background||C.Z.background).chartBlock,";\n  ")})),Ti=k.default.div.withConfig({displayName:"indexstyle__ConfigurationOptionsStyle",componentId:"sc-1c3ufnj-1"})(["flex:4;padding-left:","px;padding-right:","px;"],1*T.iI,1*T.iI),Ii=k.default.div.withConfig({displayName:"indexstyle__CodeStyle",componentId:"sc-1c3ufnj-2"})(["padding-top:","px;",""],T.iI/2,(function(e){return"\n    background-color: ".concat((e.theme.background||C.Z.background).codeTextarea,";\n  ")})),Ai=k.default.div.withConfig({displayName:"indexstyle__CodeHelperStyle",componentId:"sc-1c3ufnj-3"})(["margin-bottom:","px;padding-bottom:","px;padding-left:","px;",""],T.cd*T.iI,T.iI,T.iI,(function(e){return"\n    border-bottom: 1px solid ".concat((e.theme.borders||C.Z.borders).medium,";\n  ")}));function Ri(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Di(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ri(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ri(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Bi=function(e){var n,t=e.block,r=e.data,o=e.width,i=t.configuration,c=void 0===i?{}:i,a=c||{},s=a.chart_style,d=a.chart_type,f=a.y_sort_order,p=c.height||Pi,h=(null===c||void 0===c||null===(n=c.metrics)||void 0===n?void 0:n.map((function(e){return"".concat((n=e).aggregation,"(").concat(n.column,")");var n})))||[],m=Ee.n1,v=c.time_interval;if([vo.HOUR,vo.MINUTE,vo.SECOND].includes(v)&&(m=Ee.OC),Xr.BAR_CHART===d||Xr.TIME_SERIES_BAR_CHART===d){var g=r.x,b=r.y,x=Xr.TIME_SERIES_BAR_CHART===d;if(g&&b&&Array.isArray(g)&&Array.isArray(b)){var y,j=null===(y=c.group_by)||void 0===y?void 0:y.join(", "),k=null===h||void 0===h?void 0:h.join(", ");h.length||h.push(uo);var C=h[0],w=g.map((function(e,n){return Di({__y:e},h.reduce((function(e,t,r){var o,i=null===b||void 0===b||null===(o=b[r])||void 0===o?void 0:o[n];return"undefined"===typeof i?e:Di(Di({},e),{},(0,u.Z)({},t,i))}),{}))}));mo.ASCENDING===f?w=(0,Ae.YC)(w,(function(e){return e[C]}),{ascending:!1}):mo.DESCENDING===f&&(w=(0,Ae.YC)(w,(function(e){return e[C]}),{ascending:!0}));var _={data:w,height:p,renderNoDataText:function(){return"No data matching query"},width:o,xNumTicks:3};return fo.HORIZONTAL===s?(0,Z.jsx)(bi,Di(Di({},_),{},{xAxisLabel:k||c.y,yAxisLabel:j||c.x})):(0,Z.jsx)(wi,Di(Di({},_),{},{xAxisLabel:j,xLabelFormat:function(e){return x?Qo()(1e3*e).format(Ee.n1):e},yAxisLabel:k,yNumTicks:3}))}}else if(Xr.HISTOGRAM===d){var S,P=r.x,E=r.y,I=null===(S=c.group_by)||void 0===S?void 0:S.join(", ");if(P&&E&&Array.isArray(P))return(0,Z.jsx)(Zi.Z,{data:P.map((function(e,n){var t,r=e.max,o=e.min;return[r,null===E||void 0===E||null===(t=E[n])||void 0===t?void 0:t.value,o]})),height:p,width:o,large:!0,margin:{left:5*T.iI,right:1*T.iI,top:3*T.iI},noPadding:!0,renderTooltipContent:function(e){var n=(0,l.Z)(e,3),t=n[0],r=n[1],o=n[2];return(0,Z.jsxs)(O.ZP,{inverted:!0,monospace:!0,small:!0,children:["Count : ",r,(0,Z.jsx)("br",{}),"Bucket: ",o,"-",t]})},showAxisLabels:!0,showYAxisLabels:!0,showZeroes:!0,sortData:function(e){return(0,Ae.YC)(e,"[0]")},xAxisLabel:I||c.x,yAxisLabel:I?"count(".concat(I,")"):c.y})}else if(Xr.LINE_CHART===d||Xr.TIME_SERIES_LINE_CHART===d){var A=r.x,R=r.y,D=Xr.TIME_SERIES_LINE_CHART===d;if(A&&R&&Array.isArray(A)&&Array.isArray(R)&&Array.isArray(null===R||void 0===R?void 0:R[0])){var B,N=h;c.legend_labels&&(N=c.legend_labels.split(",").map((function(e){return e.trim()})));var M=A.map((function(e,n){return{x:e,y:(0,Ae.w6)(R.length).map((function(e,t){var r=R[t][n];return"undefined"===typeof r||null===r?0:r}))}})),L=null===(B=c.group_by)||void 0===B?void 0:B.join(", "),F=h.join(", ");return(0,Z.jsx)(_i.Z,{data:M,height:p,lineLegendNames:N,margin:{bottom:8*T.iI,left:5*T.iI},noCurve:!0,renderXTooltipContent:function(e){e.index;var n=e.x,t=c.x,r=n;return c.group_by&&(t=c.group_by.map(String).join(", ")),D&&(r=Qo()(1e3*n).format(m)),(0,Z.jsxs)(O.ZP,{inverted:!0,small:!0,children:[t,": ",r]})},renderYTooltipContent:function(e,n){var t=e.y;return(0,Z.jsxs)(O.ZP,{inverted:!0,small:!0,children:[N&&N[n]&&"".concat(N[n],": "),t&&(0,Ee.x6)((0,Ee.QV)(t[n],4))]})},width:o?o-3*T.iI:o,xAxisLabel:L||String(c.x),xLabelFormat:function(e){return D?Qo()(1e3*e).format(Ee.n1):e},yAxisLabel:F||String(c.y),yLabelFormat:function(e){return e}})}}else if(Xr.PIE_CHART===d){var H,U=r[String(c.x)],z=null===(H=c.group_by)||void 0===H?void 0:H.join(", ");if(U)return(0,Z.jsx)(Si.Z,{data:Object.entries(U),getX:function(e){var n=(0,l.Z)(e,2),t=n[0],r=n[1];return"".concat(t," (").concat((0,Ee.x6)(r),")")},getY:function(e){return(0,l.Z)(e,2)[1]},height:p,width:o,xAxisLabel:z||String(c.x)})}else if(Xr.TABLE===d){var W=r.index,G=r.x,Q=r.y;return Array.isArray(G)&&Array.isArray(Q)&&Array.isArray(Q[0])&&(0,Z.jsx)(Mr.Z,{columns:G,index:W,height:c.height?null:p,maxHeight:c.height?p:null,noBorderBottom:!0,noBorderLeft:!0,noBorderRight:!0,noBorderTop:!0,rows:Q,width:o})}return(0,Z.jsx)("div",{})},Ni=k.default.div.withConfig({displayName:"Chip__ChipStyle",componentId:"sc-1ok73g-0"})(["display:inline-block;"," "," ",""],(function(e){return"\n    background-color: ".concat((e.theme.background||C.Z.background).popup,";\n  ")}),(function(e){return!e.small&&"\n    border-radius: ".concat((T.iI+Je.Al)/2,"px;\n    height: ").concat(1.5*T.iI+Je.Al,"px;\n    padding: ").concat(T.iI/1.5,"px ").concat(1.25*T.iI,"px;\n  ")}),(function(e){return e.small&&"\n    border-radius: ".concat((T.iI/2+Je.Al)/2,"px;\n    height: ").concat(Je.Al+T.iI/2,"px;\n    padding: ").concat(T.iI/4,"px ").concat(T.iI,"px;\n  ")})),Mi=function(e){var n=e.children,t=e.label,r=e.onClick,o=e.small;return(0,Z.jsx)(Ni,{small:o,children:(0,Z.jsx)(y.Z,{basic:!0,noPadding:!0,noBackground:!0,onClick:r,transparent:!0,children:(0,Z.jsxs)(j.Z,{alignItems:"center",children:[n,t&&(0,Z.jsx)(O.ZP,{small:o,children:t}),(0,Z.jsx)(Fn.Z,{mr:1}),(0,Z.jsx)(R.x8,{muted:!0,size:o?T.iI:1.25*T.iI})]})})})},Li=t(33591),Fi=["children","fullHeight","gutter","style"];function Hi(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ui(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Hi(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Hi(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var zi=function(e){var n=e.children,t=e.fullHeight,r=e.gutter,o=e.style,i=void 0===o?{}:o,c=(0,Q.Z)(e,Fi),l=Ui({},i);return r&&(l.paddingLeft=r,l.paddingRight=l.paddingLeft),t&&(l.height="100%"),(0,Z.jsx)(Li.Col,Ui(Ui({},c),{},{style:l,children:n}))};var Wi=function(e){var n=e.children,t=e.onChange,r=(0,f.useState)(f.Children.map(n,(function(){return null}))),o=r[0],i=r[1],c=(0,f.useState)(0),l=c[0],u=c[1];return(0,Z.jsx)(j.Z,{children:f.Children.map(n,(function(e,n){return(0,Z.jsx)(Fn.Z,{ml:n>=1?1:0,style:{display:"flex",flex:1},children:f.cloneElement(e,{onChange:function(e){i((function(r){return r[n]=e.target.value,t(r,{resetValues:function(){return u((function(e){return e+1}))},setValues:i}),r}))},value:o[n]})},"multi-select-child-".concat(n,"-").concat(l))}))})},Gi=t(55378),Qi=t(7715);function Vi(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ki(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Vi(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Vi(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Xi(e,n){var t,r,o,c=e.block,a=e.blockRefs,s=e.blocks,d=e.deleteWidget,p=e.executionState,h=e.messages,v=void 0===h?[]:h,g=e.onChangeContent,b=e.runBlock,x=e.runningBlocks,y=e.savePipelineContent,w=e.selected,_=e.setSelectedBlock,S=e.setTextareaFocused,P=e.textareaFocused,E=e.updateWidget,I=e.width,A=(0,f.useRef)(null),D=(0,f.useContext)(k.ThemeContext),B=c.outputs,N=void 0===B?[]:B,M=(0,f.useState)(null===(t=c.configuration)||void 0===t?void 0:t.chart_type),L=M[0],F=M[1],H=(0,f.useState)(c.configuration),U=H[0],z=H[1],W=(0,f.useState)(c.content),G=W[0],Q=W[1],K=(0,f.useState)(!L||0===N.length),X=K[0],q=K[1],Y=(0,f.useState)(null),J=Y[0],$=Y[1],ee=(0,f.useState)(null===c||void 0===c?void 0:c.upstream_blocks),ne=ee[0],te=ee[1],re=(0,f.useState)((null===N||void 0===N?void 0:N.length)||0),oe=re[0],ie=re[1],ce=_o[L],le=So[L],ue=(0,f.useMemo)((function(){return null===s||void 0===s?void 0:s.filter((function(e){var n=e.type;return[i.DATA_LOADER,i.TRANSFORMER].includes(n)}))}),[s]),ae=(0,f.useMemo)((function(){return(0,Ae.HK)(ue,(function(e){return e.uuid}))}),[ue]),se=!!x.find((function(e){return e.uuid===c.uuid}))||(null===v||void 0===v?void 0:v.length)>=1&&p!==ir.IDLE,de=(0,f.useMemo)((function(){return null===v||void 0===v?void 0:v.filter((function(e){return null===e||void 0===e?void 0:e.type}))}),[v]),fe=!!de.find((function(e){return e.error})),pe=de.length>=1,he=(Oe(c.type,{theme:D}).accent,(0,f.useMemo)((function(){return{blockType:c.type,hasError:fe,selected:w}}),[c.type,fe,w]));if(null!==de&&void 0!==de&&de.length){var me,ve,ge=de.length-1;o=null===de||void 0===de||null===(me=de[ge])||void 0===me||null===(ve=me.data)||void 0===ve?void 0:ve[0]}o?(o=(o=o.slice(1,o.length-1)).replaceAll('\\"','"').replaceAll("\\'","'"),(0,Ee.Pb)(o)&&(r=JSON.parse(o))):(null===N||void 0===N?void 0:N.length)>=1&&(r={},N.forEach((function(e){var n=e||{},t=n.text_data,o=n.type,i=n.variable_uuid;cr.TEXT===o&&(0,Ee.Pb)(t)&&(r[i]=JSON.parse(t))})));var be=(0,f.useCallback)((function(e){var n=Ki(Ki(Ki({},c),e),{},{configuration:Ki(Ki({},c.configuration),e.configuration)});y().then((function(){b({block:n,code:G,ignoreAlreadyRunning:!0,runUpstream:!!ne.find((function(e){var n;return![m.EXECUTED,m.UPDATED].includes(null===(n=ae[e])||void 0===n?void 0:n.status)}))})})),ie((function(e){return e+1}))}),[c,ae,G,ie,ne]),xe=(0,f.useCallback)((function(e){Q(e),g(e)}),[g,Q]),ye=(0,f.useCallback)((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.autoRun;z((function(n){return Ki(Ki({},n),e)}));var r=Ki(Ki({},c),{},{configuration:Ki(Ki(Ki({},U),e),{},{chart_type:L})});E(r);Object.keys(e);oe&&t&&be(r)}),[c,L,U,oe,be,z,E]),je=(0,f.useMemo)((function(){return(0,Z.jsx)(tn,{autoHeight:!0,onChange:xe,selected:w,setSelected:function(e){return _(!0===e?c:null)},setTextareaFocused:S,showLineNumbers:!1,textareaFocused:P,value:G,width:"100%"})}),[G,w,_,S,P,xe]),ke=(0,f.useMemo)((function(){return fe&&pe&&(0,Z.jsx)(qr,Ki(Ki({},he),{},{block:c,contained:!1,hideExtraInfo:!0,isInProgress:se,messages:de,selected:w}))}),[c,he,fe,pe,se,de,w]),Ce=(0,Xe.Z)(X),we=(0,Xe.Z)(I);(0,f.useEffect)((function(){var e,n=null===A||void 0===A||null===(e=A.current)||void 0===e?void 0:e.getBoundingClientRect();Ce!==X||we!==I?$(0):n&&$(n.width)}),[X,Ce,A.current,$,I,we]);var Ze=(0,f.useMemo)((function(){var e=[];return ne.forEach((function(n,t){var r=ae[n],o=Oe(null===r||void 0===r?void 0:r.type,{theme:D}).accent;e.push((0,Z.jsxs)(Fn.Z,{ml:2,children:[(0,Z.jsxs)(O.ZP,{bold:!0,inline:!0,monospace:!0,small:!0,children:["df_",t+1]})," ",(0,Z.jsx)(O.ZP,{inline:!0,monospace:!0,muted:!0,small:!0,children:"->"})," ",(0,Z.jsx)(Un.Z,{color:o,inline:!0,onClick:function(){var e,n,t=null===a||void 0===a||null===(e=a.current)||void 0===e?void 0:e["".concat(null===r||void 0===r?void 0:r.type,"s/").concat(null===r||void 0===r?void 0:r.uuid,".py")];null===t||void 0===t||null===(n=t.current)||void 0===n||n.scrollIntoView()},preventDefault:!0,small:!0,children:(0,Z.jsx)(O.ZP,{color:o,monospace:!0,small:!0,children:n})})]},n))})),e}),[ae,ne]),_e=(0,f.useMemo)((function(){var e,n=[],t=null===ce||void 0===ce||null===(e=ce.code)||void 0===e?void 0:e.reduce((function(e,n){var t=n.uuid;return so.includes(t)?e.concat(t):e}),[]);null===t||void 0===t||t.length;return null===t||void 0===t||t.forEach((function(e,t){var r=U[e];if(r){var o,i,c=null===(o=Po[L])||void 0===o||null===(i=o[e])||void 0===i?void 0:i.call(o);n.push((0,Z.jsxs)(Fn.Z,{ml:2,children:[(0,Z.jsx)(O.ZP,{bold:!0,inline:!0,monospace:!0,small:!0,children:r})," ",c&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(O.ZP,{inline:!0,monospace:!0,muted:!0,small:!0,children:"->"})," ",(0,Z.jsx)(O.ZP,{default:!0,inline:!0,small:!0,children:c})]})]},r))}})),n}),[U,ce]),Se=(0,Xe.Z)(L),Pe=(0,Xe.Z)(ne);(0,f.useEffect)((function(){if((!Se&&L&&null!==ne&&void 0!==ne&&ne.length||(null===Pe||void 0===Pe||!Pe.length)&&(null===ne||void 0===ne?void 0:ne.length)>=1&&L)&&!G&&(0,Qi.Qr)(U)&&le){var e=Ki(Ki({},c),{},{upstream_blocks:ne});le.configuration&&ye(le.configuration(e)),le.content&&xe(le.content(e))}}),[c,L,Se,U,G,ye,xe,ne,Pe]);var Te=(0,f.useMemo)((function(){return U.width_percentage||1}),[U]),Ie=(0,f.useMemo)((function(){return Object.entries(ce||{}).reduce((function(e,n){var t=(0,l.Z)(n,2),r=t[0],o=t[1];return Ki(Ki({},e),{},(0,u.Z)({},r,o.map((function(e){var n,t=e.autoRun,r=e.label,o=e.monospace,i=e.options,l=e.settings,a=void 0===l?{}:l,s=e.type,d=e.uuid,f={fullWidth:!0,key:d,label:(0,Ee.kC)(r()),monospace:o,onBlur:function(){return _(c)},onChange:function(e){return ye((0,u.Z)({},d,e.target.value),{autoRun:t})},onFocus:function(){return _(c)},value:(null===U||void 0===U?void 0:U[d])||""},p=ne.reduce((function(e,n){var t=ae[n];return t?e.concat(t):e}),[]),h=p.reduce((function(e,n){var t,r,o=n.outputs;return e.concat(null===o||void 0===o||null===(t=o[0])||void 0===t||null===(r=t.sample_data)||void 0===r?void 0:r.columns)}),[]);if(Co.COLUMNS===s){var m=U[d]||[];n=(0,Z.jsxs)(Z.Fragment,{children:[(!a.maxValues||m.length<a.maxValues)&&(0,Z.jsxs)(Gi.Z,Ki(Ki({},f),{},{onChange:function(e){var n=U[d]||[],r=e.target.value;n.includes(r)?n=(0,Ae.Od)(n,(function(e){return e===r})):n.push(r),ye((0,u.Z)({},d,n),{autoRun:t})},value:null,children:[(0,Z.jsx)("option",{value:""}),(0,Ae.YC)(h.filter((function(e){return!m.includes(e)})),(function(e){return e})).map((function(e){return(0,Z.jsx)("option",{value:e,children:e},e)}))]})),m.map((function(e){return(0,Z.jsx)("div",{style:{display:"inline-block",marginRight:2,marginTop:2},children:(0,Z.jsx)(Mi,{label:e,onClick:function(){ye((0,u.Z)({},d,(0,Ae.Od)(m,(function(n){return n===e}))),{autoRun:t})}})},e)}))]})}else if(Co.METRICS===s){var v=U[d]||[];n=(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(O.ZP,{bold:!0,children:"Metrics"}),(0,Z.jsx)(O.ZP,{muted:!0,small:!0,children:"Select a column and an aggregation function."}),(0,Z.jsxs)(Wi,{onChange:function(e,n){var r=n.resetValues,o=n.setValues;2===e.filter((function(e){return!!e})).length&&(v.find((function(n){var t=n.aggregation;return n.column===e[1]&&t===e[0]}))||(ye((0,u.Z)({},d,v.concat({aggregation:e[0],column:e[1]})),{autoRun:t}),o([null,null]),r()))},children:[(0,Z.jsxs)(Gi.Z,Ki(Ki({},f),{},{label:"aggregation",children:[(0,Z.jsx)("option",{value:""}),(0,Ae.YC)(go,(function(e){return e})).map((function(e){return(0,Z.jsx)("option",{value:e,children:e},e)}))]})),(0,Z.jsxs)(Gi.Z,Ki(Ki({},f),{},{label:"column",children:[(0,Z.jsx)("option",{value:""}),(0,Ae.YC)(h,(function(e){return e})).map((function(e){return(0,Z.jsx)("option",{value:e,children:e},e)}))]}))]}),v.map((function(e){var n=e.aggregation,r=e.column;return(0,Z.jsx)("div",{style:{display:"inline-block",marginRight:2,marginTop:2},children:(0,Z.jsx)(Mi,{label:(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(O.ZP,{inline:!0,monospace:!0,children:[n,"("]}),r,(0,Z.jsx)(O.ZP,{inline:!0,monospace:!0,children:")"})]}),onClick:function(){ye((0,u.Z)({},d,(0,Ae.Od)(v,(function(e){var t=e.aggregation,o=e.column;return n===t&&r===o}))),{autoRun:t})}})},"".concat(n,"(").concat(r,")"))}))]})}else n=i?(0,Z.jsx)(Gi.Z,Ki(Ki({},f),{},{children:i.map((function(e){return(0,Z.jsx)("option",{value:e,children:e},e)}))})):(0,Z.jsx)(at.Z,Ki(Ki({},f),{},{type:s}));return(0,Z.jsx)(Fn.Z,{mb:1,children:n},d)}))))}),{noCode:[]})}),[ae,U,ce,_,ye,ne]),Re=Ie.code,De=Ie.noCode;return(0,Z.jsx)(zi,{sm:12,md:12*Te,children:(0,Z.jsxs)(Ei,{ref:n,children:[(0,Z.jsx)(Fn.Z,{mt:1,px:1,children:(0,Z.jsxs)(j.Z,{alignItems:"center",fullWidth:!0,justifyContent:"space-between",children:[(0,Z.jsx)(Gi.Z,{compact:!0,onChange:function(e){var n=[e.target.value],t=Ki(Ki({},c),{},{upstream_blocks:n});E(t),be(t),te(n)},placeholder:"Source block",small:!0,value:(null===ne||void 0===ne?void 0:ne[0])||"",children:null===ue||void 0===ue?void 0:ue.map((function(e){var n=e.uuid;return(0,Z.jsx)("option",{value:n,children:n},n)}))}),(0,Z.jsxs)(j.Z,{alignItems:"center",children:[!se&&(0,Z.jsx)(Ct,{appearBefore:!0,default:!0,label:"Run chart block",size:null,widthFitContent:!0,children:(0,Z.jsx)(qn,{blackBorder:!0,compact:!0,inline:!0,onClick:function(){return be(c)},uuid:"ChartBlock/run/".concat(c.uuid),children:(0,Z.jsx)(R.Py,{size:2*T.iI})})}),ir.QUEUED===p&&(0,Z.jsx)(Hn.Z,{color:(D||C.Z).content.active,small:!0,type:"cylon"}),ir.BUSY===p&&(0,Z.jsx)(Hn.Z,{color:(D||C.Z).content.active,small:!0}),(0,Z.jsx)(Fn.Z,{mr:1}),(0,Z.jsx)(Ct,{appearBefore:!0,default:!0,label:"Edit chart",size:null,widthFitContent:!0,children:(0,Z.jsx)(qn,{blackBorder:!0,compact:!0,inline:!0,onClick:function(){return q((function(e){return!e}))},selected:X,uuid:"ChartBlock/edit/".concat(c.uuid),children:(0,Z.jsx)(R.I8,{size:2*T.iI})})}),(0,Z.jsx)(Fn.Z,{mr:1}),(0,Z.jsx)(Ct,{appearBefore:!0,default:!0,label:"Delete chart",size:null,widthFitContent:!0,children:(0,Z.jsx)(qn,{blackBorder:!0,compact:!0,inline:!0,onClick:function(){return d(c)},uuid:"ChartBlock/delete/".concat(c.uuid),children:(0,Z.jsx)(R.rF,{size:2*T.iI})})})]})]})}),(0,Z.jsx)(Fn.Z,{mt:1}),(0,Z.jsxs)(j.Z,{justifyContent:"space-between",fullWidth:!0,children:[(0,Z.jsx)(V.Z,{flex:6,ref:A,children:r&&!(0,Qi.Qr)(r)&&(0,Z.jsx)(Fn.Z,{pb:3,children:(0,Z.jsx)(Bi,{block:Ki(Ki({},c),{},{configuration:Ki(Ki({},c.configuration),U)}),data:r,width:J})})}),X&&(0,Z.jsx)(Ti,{children:(0,Z.jsxs)(j.Z,{flexDirection:"column",fullWidth:!0,children:[(0,Z.jsx)(Fn.Z,{mb:1,children:(0,Z.jsx)(Gi.Z,{onChange:function(e){var n=e.target.value,t=Ki(Ki({},c),{},{configuration:Ki(Ki({},U),{},{chart_type:n})});E(t),be(t),F(n)},placeholder:"Select chart type",value:L,children:ho.map((function(e){return(0,Z.jsx)("option",{value:e,children:(0,Ee.kC)(e)},e)}))})}),(0,Z.jsx)(Fn.Z,{mb:1,children:(0,Z.jsx)(Gi.Z,{onChange:function(e){return ye((0,u.Z)({},co,e.target.value))},placeholder:"Chart width",value:(null===U||void 0===U?void 0:U.width_percentage)||1,children:[["1/2 width",.5],["full width",1]].map((function(e){var n=(0,l.Z)(e,2),t=n[0],r=n[1];return(0,Z.jsx)("option",{value:r,children:t},t)}))})}),De]})})]}),X&&!(null===Re||void 0===Re||!Re.length)&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(Fn.Z,{my:1,px:1,children:[(0,Z.jsx)(O.ZP,{bold:!0,children:"Custom chart code"}),(0,Z.jsxs)(O.ZP,{muted:!0,children:["Write custom logic mapping data to input values for your chart.",(0,Z.jsx)("br",{}),"This code is only executed if you don\u2019t have any columns or metrics selected."]})]}),(0,Z.jsxs)(Ii,{children:[ne.length>=1&&(0,Z.jsxs)(Ai,{children:[(0,Z.jsxs)(O.ZP,{muted:!0,small:!0,children:["Variables you can use in your code: ",Ze]}),(0,Z.jsxs)(O.ZP,{muted:!0,small:!0,children:["Variables that you must define: ",_e]})]}),je]})]}),ke&&(0,Z.jsx)(Fn.Z,{px:1,children:ke})]})})}var qi=f.forwardRef(Xi),Yi=["children","fullHeight","gutter","style"];function Ji(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function $i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ji(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ji(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var ec=function(e){var n=e.children,t=e.fullHeight,r=e.gutter,o=e.style,i=void 0===o?{}:o,c=(0,Q.Z)(e,Yi),l=$i({},i);return r&&(l.marginLeft=-1*r,l.marginRight=l.marginLeft),t&&(l.height="100%"),(0,Z.jsx)(Li.Row,$i($i({},c),{},{style:l,children:f.Children.map(n,(function(e,n){return e&&f.cloneElement(e,{gutter:r,key:n})}))}))};function nc(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function tc(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?nc(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nc(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var rc=function(e){var n=e.blockRefs,t=e.blocks,r=e.chartRefs,o=e.deleteWidget,i=(e.fetchWidgets,e.messages),c=e.onChangeChartBlock,l=e.runBlock,a=e.runningBlocks,s=e.savePipelineContent,d=e.selectedBlock,p=e.setSelectedBlock,h=e.setTextareaFocused,m=e.textareaFocused,v=e.updateWidget,g=e.widgets,b=e.width,x=(0,f.useMemo)((function(){return a.reduce((function(e,n,t){return tc(tc({},e),{},(0,u.Z)({},n.uuid,tc(tc({},n),{},{priority:t})))}),{})}),[a]);return(0,Z.jsxs)(j.Z,{flexDirection:"column",fullWidth:!0,children:[(0,Z.jsx)(ec,{fullHeight:!0,style:{marginLeft:.5*T.iI,marginRight:.5*T.iI},children:null===g||void 0===g?void 0:g.map((function(e){var u=e.uuid,g=x[u],y=g?0===g.priority?ir.BUSY:ir.QUEUED:ir.IDLE;return r.current[u]=(0,f.createRef)(),(0,Z.jsx)(qi,{block:e,blockRefs:n,blocks:t,chartRefs:r,deleteWidget:o,executionState:y,messages:i[u],onChangeContent:function(e){return c(u,e)},ref:r.current[u],runBlock:l,runningBlocks:a,savePipelineContent:s,selected:(null===d||void 0===d?void 0:d.uuid)===u,setSelectedBlock:p,setTextareaFocused:h,textareaFocused:m,updateWidget:v,width:b},u)}))}),(0,Z.jsx)("div",{style:{height:"80vh"}})]})},oc=t(51774),ic=t.n(oc),cc=(T.iI,[i.DATA_EXPORTER]),lc=k.default.div.withConfig({displayName:"indexstyle__GraphContainerStyle",componentId:"sc-bc2ei5-0"})(["div:only-child{","}",""],Tt.w5,(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")})),uc=k.default.div.withConfig({displayName:"indexstyle__NodeStyle",componentId:"sc-bc2ei5-1"})(["border:2px solid transparent;border-radius:","px;min-width:fit-content;"," "," ",""],w.BG,(function(e){return e.selected&&"\n    border-color: ".concat((e.theme.content||C.Z.content).active,";\n  ")}),(function(e){return e.backgroundColor&&"\n    background-color: ".concat(e.backgroundColor,";\n  ")}),(function(e){return e.disabled&&"\n    opacity: 0.5;\n\n    &:hover {\n      cursor: not-allowed;\n    }\n  "}));var ac=function(e){var n=e.block,t=e.children,r=e.disabled,o=e.hasFailed,i=e.isInProgress,c=e.isQueued,l=e.isSuccessful,u=(e.onClick,e.selected),a=(0,f.useContext)(k.ThemeContext),s=n.type,d=n.uuid,p=!(i||c||o||l),h=l&&!(i||c),m=o&&!(i||c),v="";return p?v="No status":h?v="Successful execution":m?v="Failed execution":i&&(v="Currently executiing"),(0,Z.jsx)(uc,{backgroundColor:Oe(s,{theme:a}).accent,disabled:r,selected:u,children:(0,Z.jsx)(Fn.Z,{p:1,children:(0,Z.jsxs)(j.Z,{alignItems:"center",children:[(0,Z.jsxs)(j.Z,{alignItems:"center",justifyContent:"center",style:{height:2*T.iI,width:2*T.iI},title:v,children:[i&&(0,Z.jsx)(Hn.Z,{color:(a||C.Z).content.active,small:!0}),h&&(0,Z.jsx)(R.Jr,{size:2*T.iI,success:!0}),m&&(0,Z.jsx)(R.x8,{danger:!0,size:1.5*T.iI}),p&&(0,Z.jsx)(ee,{borderSize:1,size:1*T.iI})]}),(0,Z.jsx)(Fn.Z,{ml:1}),(0,Z.jsx)(j.Z,{alignItems:"center",fullWidth:!0,justifyContent:"center",children:(0,Z.jsx)(O.ZP,{inverted:cc.includes(s),monospace:!0,small:!0,children:t})})]})})},d)};function sc(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function dc(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?sc(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):sc(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var fc=ic()((0,c.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(4434),t.e(5987),t.e(278)]).then(t.t.bind(t,74529,23));case 2:return n=e.sent,e.abrupt("return",n.Canvas);case 4:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[74529]}}}),pc=ic()((0,c.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(4434),t.e(5987),t.e(278)]).then(t.t.bind(t,74529,23));case 2:return n=e.sent,e.abrupt("return",n.Node);case 4:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[74529]}}}),hc=ic()((0,c.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(4434),t.e(5987),t.e(278)]).then(t.t.bind(t,74529,23));case 2:return n=e.sent,e.abrupt("return",n.Edge);case 4:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[74529]}}});ic()((0,c.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(4434),t.e(5987),t.e(278)]).then(t.t.bind(t,74529,23));case 2:return n=e.sent,e.abrupt("return",n.MarkerArrow);case 4:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[74529]}}}),ic()((0,c.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(4434),t.e(5987),t.e(278)]).then(t.t.bind(t,74529,23));case 2:return n=e.sent,e.abrupt("return",n.Port);case 4:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[74529]}}});var mc=function(e){var n=e.blockRefs,t=e.editingBlock,r=e.fetchPipeline,o=e.height,c=e.pipeline,u=e.runningBlocks,a=e.selectedBlock,s=e.setEditingBlock,d=e.setSelectedBlock,h=(0,f.useContext)(k.ThemeContext),v=(null===t||void 0===t?void 0:t.upstreamBlocks)||{},g=v.block,b=v.values,x=void 0===b?[]:b,y=(0,f.useMemo)((function(){return x.length}),[x]),C=(0,f.useMemo)((function(){var e;return(null===c||void 0===c||null===(e=c.blocks)||void 0===e?void 0:e.filter((function(e){var n=e.type;return i.SCRATCHPAD!==n})))||[]}),[null===c||void 0===c?void 0:c.blocks]),w=(0,f.useMemo)((function(){return(0,Ae.HK)(C,(function(e){return e.uuid}))}),[C]),_=((0,f.useMemo)((function(){return(0,Ae.HK)(x,(function(e){return e.uuid}))}),[x]),(0,f.useMemo)((function(){return(0,Ae.HK)(u,(function(e){return e.uuid}))}),[u])),S=(0,p.Db)(Yn.ZP.blocks.pipelines.useUpdate(null===c||void 0===c?void 0:c.uuid,null===g||void 0===g?void 0:g.uuid),{onSuccess:function(e){return(0,Jn.wD)(e,{callback:function(){s({upstreamBlocks:null}),r()},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),P=(0,l.Z)(S,2),E=P[0],I=P[1].isLoading,A=(0,f.useCallback)((function(e){var t=e.type,r=e.uuid;if(d(e),null!==n&&void 0!==n&&n.current){var o,i=n.current["".concat(t,"s/").concat(r,".py")];null===i||void 0===i||null===(o=i.current)||void 0===o||o.scrollIntoView()}}),[n,d]),R=(0,f.useCallback)((function(e){s((function(n){var t=n.upstreamBlocks.values||[],r=t.findIndex((function(n){var t=n.uuid;return e.uuid===t}));return dc(dc({},n),{},{upstreamBlocks:dc(dc({},n.upstreamBlocks),{},{values:r>=0?(0,Ae.oM)(t,r):t.concat(e)})})}))}),[s]),D=(0,f.useMemo)((function(){var e={};return C.forEach((function(n){n.upstream_blocks.forEach((function(t){e[t]||(e[t]=[]),e[t].push(n)}))})),e}),[C]),B=(0,f.useMemo)((function(){var e=[],n=[];return C.forEach((function(t){var r=t.upstream_blocks,o=void 0===r?[]:r,i=t.uuid,c=D[i],l=[];c&&l.push.apply(l,(0,dr.Z)(c.map((function(e){return{height:10,id:"".concat(i,"-").concat(e.uuid,"-from"),side:"SOUTH",width:10}})))),null===o||void 0===o||o.forEach((function(e){l.push({height:10,id:"".concat(e,"-").concat(i,"-to"),side:"NORTH",width:10}),n.push({from:e,fromPort:"".concat(e,"-").concat(i,"-from"),id:"".concat(e,"-").concat(i),to:i,toPort:"".concat(e,"-").concat(i,"-to")})})),e.push({data:{block:t},height:37,id:i,ports:l,width:t.uuid.length*T.KF+5*T.iI+((null===g||void 0===g?void 0:g.uuid)===t.uuid?19*T.KF:0)})})),{edges:n,nodes:e}}),[g,C]),N=B.edges,M=B.nodes;return(0,Z.jsxs)(Z.Fragment,{children:[g&&(0,Z.jsxs)(Fn.Z,{my:3,px:T.cd,children:[(0,Z.jsxs)(Fn.Z,{mb:T.cd,children:[(0,Z.jsxs)(O.ZP,{children:["Select parent block(s) for ",(0,Z.jsx)(O.ZP,{color:Oe(g.type,{theme:h}).accent,inline:!0,monospace:!0,children:g.uuid}),":"]}),(0,Z.jsx)(Fn.Z,{mt:1,children:x.map((function(e,n){var t,r=e.uuid;return(0,Z.jsxs)(O.ZP,{color:Oe(null===(t=w[r])||void 0===t?void 0:t.type,{theme:h}).accent,inline:!0,monospace:!0,children:[r,y>=2&&n<=y-2?(0,Z.jsx)(O.ZP,{inline:!0,children:",\xa0"}):null]},r)}))})]}),(0,Z.jsxs)(j.Z,{alignItems:"center",children:[(0,Z.jsx)(qn,{compact:!0,inline:!0,loading:I,onClick:function(){return E({block:dc(dc({},g),{},{upstream_blocks:x.map((function(e){return e.uuid}))})})},uuid:"DependencyGraph/save_parents",children:"Save dependencies"}),(0,Z.jsx)(Fn.Z,{ml:1}),(0,Z.jsx)(qn,{compact:!0,inline:!0,noBackground:!0,onClick:function(){return s({upstreamBlocks:null})},uuid:"DependencyGraph/cancel_save_parents",children:"Cancel"})]})]}),(0,Z.jsx)(lc,{height:o-10*T.iI,children:(0,Z.jsx)(fc,{arrow:null,disabled:!1,edge:function(e){var n,t=w[e.source];return(0,Z.jsx)(hc,dc(dc({},e),{},{style:{stroke:null===(n=Oe(null===t||void 0===t?void 0:t.type,{theme:h}))||void 0===n?void 0:n.accent}}))},edges:N,fit:!0,node:function(e){return(0,Z.jsx)(pc,dc(dc({},e),{},{linkable:!1,onClick:function(e,n){var t=n.data.block;(null===g||void 0===g?void 0:g.uuid)===t.uuid||(g?R(t):A(t))},port:null,style:{fill:"transparent",stroke:"transparent",strokeWidth:0},children:function(e){var n,t,r=e.node.data.block;return(0,Z.jsx)("foreignObject",{height:e.height,style:{pointerEvents:"none"},width:e.width,x:0,y:0,children:(0,Z.jsxs)(ac,{block:r,disabled:(null===g||void 0===g?void 0:g.uuid)===r.uuid,hasFailed:m.FAILED===r.status,isInProgress:_[r.uuid]&&(null===(n=u[0])||void 0===n?void 0:n.uuid)===r.uuid,isQueued:_[r.uuid]&&(null===(t=u[0])||void 0===t?void 0:t.uuid)!==r.uuid,isSuccessful:m.EXECUTED===r.status,selected:g?(0,Ae.sE)(x,(function(e){return e.uuid===r.uuid})):(null===a||void 0===a?void 0:a.uuid)===r.uuid,children:[r.uuid,(null===g||void 0===g?void 0:g.uuid)===r.uuid&&" (currently editing)"]},r.uuid)})}}))},nodes:M,zoomable:!0})})]})},vc=t(19537),gc=t(73199),bc=t.n(gc),xc=t(71735),yc=t(65292);var jc,kc=function(e){var n=e.language,t=e.maxWidth,r=e.showLineNumbers,o=e.small,i=e.source,c=e.wrapLines,l=(0,f.useContext)(k.ThemeContext);return(0,Z.jsx)(bc(),{source:i,renderers:{code:function(e){var i=e.value;return(0,Z.jsx)(xc.Z,{customStyle:{backgroundColor:(l.background||C.Z.background).popup,border:"none",borderRadius:"none",boxShadow:"none",fontFamily:Ye.Vp,fontSize:o?12:14,marginBottom:0,marginTop:0,paddingBottom:2*T.iI,paddingTop:2*T.iI,maxWidth:t},lineNumberStyle:{color:(l.content||C.Z.content).muted},language:n,showLineNumbers:r,style:yc._4,useInlineStyles:!0,wrapLines:c,children:i})}}})},Oc=t(64866),Cc=t(21764);function wc(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Zc(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?wc(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):wc(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}!function(e){e.LEFT="left",e.RIGHT="right"}(jc||(jc={}));var _c=function(e){var n,t=e.children,r=e.copiedText,o=e.iconPosition,i=void 0===o?jc.LEFT:o,c=e.inverted,l=e.linkProps,u=e.linkText,a=e.muted,s=e.small,d=e.toastMessage,f=e.withCopyIcon;return t?n=(0,Z.jsx)("span",{children:t}):f&&(n=(0,Z.jsx)(Un.Z,Zc(Zc({href:"#",inline:!0,muted:a,preventDefault:!0,sameColorAsText:!0,small:s},l),{},{children:(0,Z.jsxs)(j.Z,{alignItems:"center",children:[i===jc.LEFT&&(0,Z.jsx)(Fn.Z,{mr:1,children:(0,Z.jsx)(j.Z,{alignItems:"center",children:(0,Z.jsx)(R.CK,{inverted:c,muted:a})})}),u&&(0,Z.jsx)(O.ZP,{inverted:c,muted:a,small:s,children:u}),i===jc.RIGHT&&(0,Z.jsx)(Fn.Z,{ml:1,children:(0,Z.jsx)(j.Z,{alignItems:"center",children:(0,Z.jsx)(R.CK,{inverted:c,muted:a})})})]})}))),(0,Z.jsx)(Oc.CopyToClipboard,{onCopy:function(){return Cc.Am.success(d||"Successfully copied to clipboard.",{position:Cc.Am.POSITION.BOTTOM_RIGHT,toastId:r})},text:r,children:n})},Sc=function(e,n,t){return"\n    ".concat(t," = get_variable('").concat(e,"', '").concat(n,"', '").concat(t,"')\n")};var Pc=function(e){var n=e.blockRefs,t=e.blocks,r=e.globalVariables,o=e.setSelectedBlock,c=(0,f.useContext)(k.ThemeContext),l=(0,f.useMemo)((function(){return(0,Ae.HK)(t,(function(e){return e.uuid}))}),[t]);return(0,Z.jsxs)(Fn.Z,{p:T.cd,children:[(0,Z.jsx)(Fn.Z,{mb:T.cd,children:(0,Z.jsxs)(O.ZP,{children:["The variables listed below can be used in any ",(0,Z.jsx)(O.ZP,{bold:!0,inline:!0,monospace:!0,children:i.SCRATCHPAD})," block."]})}),(0,Z.jsx)(Fn.Z,{mb:T.cd,children:(0,Z.jsx)(O.ZP,{children:"To load the variable, use the following syntax:"})}),(0,Z.jsx)(kc,{language:"python",small:!0,source:"\n    from mage_ai.data_preparation.variable_manager import (\n        get_variable,\n    )\n\n\n    df = get_variable(\n        'pipeline_uuid',\n        'block_uuid',\n        'variable_name',\n    )\n"}),null===r||void 0===r?void 0:r.map((function(e){var t,r=e.block.uuid,u=e.pipeline,a=e.variables,s=l[r];if(s&&i.SCRATCHPAD!==s.type){var d=Oe(s.type,{theme:c}).accent,f=null===n||void 0===n||null===(t=n.current)||void 0===t?void 0:t["".concat(s.type,"s/").concat(r,".py")];return(0,Z.jsxs)(Fn.Z,{mt:8,children:[(0,Z.jsx)(j.Z,{alignItems:"center",children:(0,Z.jsxs)(O.ZP,{children:["The following variables were defined in the block ",(0,Z.jsx)(Un.Z,{noHoverUnderline:!0,preventDefault:!0,onClick:function(){var e,n;o(s),null===f||void 0===f||null===(e=f.current)||void 0===e||null===(n=e.scrollIntoView)||void 0===n||n.call(e)},children:(0,Z.jsx)(O.ZP,{color:d,inline:!0,monospace:!0,children:r})}),":"]})}),null===a||void 0===a?void 0:a.map((function(e){return(0,Z.jsxs)(Fn.Z,{mt:2,children:[(0,Z.jsx)(kc,{language:"python",small:!0,source:Sc(u.uuid,r,e)}),(0,Z.jsx)(_c,{copiedText:(n=u.uuid,t=r,o=e,"from mage_ai.data_preparation.variable_manager import get_variable\n\n\n".concat(Sc(n,t,o).trim(),"\n")),linkText:"Copy code",muted:!0,small:!0,withCopyIcon:!0})]},"".concat(r,"-").concat(e));var n,t,o}))]},r)}}))]})},Ec=k.default.div.withConfig({displayName:"indexstyle__OutputContainerStyle",componentId:"sc-wkjnrg-0"})([""," overflow-y:scroll;"," ",""],Tt.w5,(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),(function(e){return!e.height&&"\n    height: ".concat(300,"px;\n  ")})),Tc=t(28799),Ic="ws://".concat((0,Tc.XF)(),"/websocket/");function Ac(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Rc(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ac(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ac(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Dc=function(e){var n=e.pipeline,t=(0,f.useState)(!1),r=t[0],o=t[1],i=(0,f.useState)([]),c=i[0],l=i[1],u=(0,f.useMemo)((function(){return(null===c||void 0===c?void 0:c.length)||0}),[c]),a=(n||{}).uuid,s=(0,d.ZP)(Ic,{onOpen:function(){return console.log("socketUrlPublish opened")},shouldReconnect:function(e){return console.log("Attempting to reconnect..."),!0}}),p=s.lastMessage,h=(s.readyState,s.sendMessage),m=(0,f.useCallback)((function(){l([]),h(JSON.stringify({pipeline_uuid:a,execute_pipeline:!0})),o(!0)}),[a,h]);return(0,f.useEffect)((function(){if(p){var e=JSON.parse(p.data),n=e.execution_state,t=e.pipeline_uuid,r=e.msg_type;t===a&&r===ur.STREAM_PIPELINE&&l((function(n){return[].concat((0,dr.Z)(n),[e])})),ir.IDLE===n&&o(!1)}}),[p,l]),(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(y.Z,{beforeIcon:(0,Z.jsx)(R.JM,{inverted:!0,size:2*T.iI}),loading:r,onClick:function(){return m()},success:!0,children:(0,Z.jsx)(O.ZP,{bold:!0,inverted:!0,primary:!1,children:"Execute pipeline"})}),(0,Z.jsx)(Ec,{noScrollbarTrackBackground:!0,children:(0,Z.jsx)(Lr,{executedAndIdle:!0,hasError:!1,selected:!0,children:c.map((function(e,n){var t=e.data,r=e.type,o=[],i=(o=(o=Array.isArray(t)?t:[t]).filter((function(e){return e}))).length;return o.map((function(e,t){var o,c={first:0===n&&0===t,last:n===u-1&&t===i-1};return ar.includes(r)?o=(0,Z.jsx)(Fr,Rc(Rc({},c),{},{children:(0,Z.jsx)(O.ZP,{monospace:!0,preWrap:!0,children:(0,Z.jsx)(Nr(),{children:e})})})):r===cr.IMAGE_PNG&&(o=(0,Z.jsx)("div",{style:{backgroundColor:"white"},children:(0,Z.jsx)("img",{alt:"Image ".concat(n," from code output"),src:"data:image/png;base64, ".concat(e)})})),(0,Z.jsx)("div",{children:o},"code-output-".concat(n,"-").concat(t))}))}))})})]})},Bc=t(92506),Nc=t(32151),Mc=(T.iI,Nc.O$+3*T.iI+Je.dN),Lc=k.default.div.withConfig({displayName:"indexstyle__SidekickContainerStyle",componentId:"sc-15ofupc-0"})(["height:calc(100vh - ","px - ","px);width:fit-content;",""],Mt,Tt.nn,(function(e){return e.fullWidth&&"\n    width: 100%;\n  "})),Fc=k.default.div.withConfig({displayName:"indexstyle__PaddingContainerStyle",componentId:"sc-15ofupc-1"})(["padding:","px;",""],2*T.iI,(function(e){return e.noPadding&&"\n    padding: 0;\n  "})),Hc=t(43313),Uc=t(84779);var zc=t(24141);var Wc=function(e){var n=e.activeView,t=e.afterWidth,r=e.blockRefs,o=e.blocks,i=e.chartRefs,c=e.deleteWidget,l=e.editingBlock,u=e.fetchPipeline,a=e.fetchWidgets,s=e.globalVariables,p=e.insights,h=e.messages,m=e.metadata,v=e.onChangeChartBlock,g=e.pipeline,b=e.runBlock,x=e.runningBlocks,k=e.sampleData,C=e.savePipelineContent,w=e.selectedBlock,_=e.setEditingBlock,S=e.setSelectedBlock,P=e.setTextareaFocused,E=e.statistics,I=e.textareaFocused,A=e.updateWidget,D=e.widgets,B=(0,zc.i)().height,N=Mt,M=null===g||void 0===g?void 0:g.uuid,L=(0,f.useState)(!1),F=(L[0],L[1],(0,f.useState)(null)),H=F[0],U=F[1],z=((null===l||void 0===l?void 0:l.upstreamBlocks)||{}).block,W=(null===k||void 0===k?void 0:k.columns)||[],G=(null===k||void 0===k?void 0:k.rows)||[],Q=(null===m||void 0===m?void 0:m.column_types)||{},V=null===W||void 0===W?void 0:W.map((function(e){return{columnType:Q[e],uuid:e}})),K=(null===p||void 0===p?void 0:p[1])||{},X=(0,f.useMemo)((function(){return(0,Ae.HK)((null===p||void 0===p?void 0:p[0])||[],(function(e){return e.feature.uuid}))}),[p]),q=function(e){var n=e.statistics,t=Object.keys(n),r=Array(Hc.Dy.length).fill(0);return 0===t.length?null:(t.forEach((function(e){if(Hc.Dy.includes(e)){var t=Hc.CC[e],o=n[e],i=o,c=!1,l=[2,3],u=Hc.Ub[e],a=Hc.oH[e],s=Hc.OD[e];if(Hc.y_.includes(e))c=!0,l=[2,1,2];else if(e in Hc.Sq){o=(0,Uc.Jw)(o,0);var d=Hc.Sq[e];i=n[d]}var f={columnFlexNumbers:l,name:t,progress:c,rate:i,successDirection:a,warning:s};Hc.y_.includes(e)||(f.value=o),r[u]=f}})),r)}({statistics:E}),Y=function(e){var n=e.columnTypes,t=void 0===n?{}:n,r=e.statistics,o=Object.keys(r);if(0===o.length)return null;var i=Object.values(t),c=i.length,l=[];l.push({name:"Column count",successDirection:Hc.oH.column_count,value:(0,Ee.x6)(c)}),o.forEach((function(e){if(Hc.Zu.includes(e)){var n=Hc.CC[e],t=r[e],o=Hc.OD[e];l.push({name:n,successDirection:Hc.oH[e],value:(0,Ee.x6)(t),warning:o})}}));var u=(0,Nc.QO)(i),a=u.countCategory,s=u.countDatetime,d=u.countNumerical;return l.push({name:"Categorical Features",rate:a/c,value:(0,Ee.x6)(a)},{name:"Numerical Features",rate:d/c,value:(0,Ee.x6)(d)},{name:"Datetime Features",rate:s/c,value:(0,Ee.x6)(s)}),l}({columnTypes:Q,statistics:E}),J=k&&p&&Object.keys(E).length>0,$=(0,f.useCallback)((0,Nc.Fk)({columnTypes:Q,columns:W,insightsByFeatureUUID:X,insightsOverview:K,noColumnLinks:!0,statistics:E}),[Q,W,X,K,E]),ee=(0,f.useMemo)((function(){return(0,Z.jsx)(Pc,{blockRefs:r,blocks:o,globalVariables:s,setSelectedBlock:S})}),[null===r||void 0===r?void 0:r.current,o,s,S]),ne=(0,d.ZP)(Ic,{onOpen:function(){return console.log("socketUrlPublish opened")},shouldReconnect:function(e){return console.log("Attempting to reconnect..."),!0}}),te=(ne.lastMessage,ne.readyState,ne.sendMessage);return(0,f.useCallback)((function(){te(JSON.stringify({execute_pipeline:!0,pipeline_uuid:M}))}),[M,te]),(0,Z.jsxs)(Z.Fragment,{children:[n===me.TREE&&(null===H||void 0===H?void 0:H.length)>=1&&(0,Z.jsxs)(Fn.Z,{mb:3,mt:2,mx:2,children:[(0,Z.jsxs)(j.Z,{justifyContent:"space-between",children:[(0,Z.jsx)(O.ZP,{bold:!0,danger:!0,children:"Errors"}),(0,Z.jsx)(y.Z,{basic:!0,iconOnly:!0,noPadding:!0,onClick:function(){return U(null)},transparent:!0,children:(0,Z.jsx)(R.x8,{muted:!0})})]}),null===H||void 0===H?void 0:H.map((function(e){return(0,Z.jsx)(Fn.Z,{pb:1,children:(0,Z.jsx)(O.ZP,{monospace:!0,xsmall:!0,children:e})},e)}))]}),(0,Z.jsxs)(Lc,{fullWidth:ge.includes(n),children:[n===me.TREE&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(mc,{blockRefs:r,editingBlock:l,fetchPipeline:u,height:B-N-300,pipeline:g,runningBlocks:x,selectedBlock:w,setEditingBlock:_,setSelectedBlock:S}),!z&&(0,Z.jsx)(Fn.Z,{p:2,children:(0,Z.jsx)(Dc,{pipeline:g})})]}),n===me.DATA&&W.length>0&&(0,Z.jsx)(Mr.Z,{columnHeaderHeight:Mc,columns:W,height:B-N-Lt,noBorderBottom:!0,noBorderLeft:!0,noBorderRight:!0,noBorderTop:!0,renderColumnHeader:$,rows:G,width:t}),n===me.REPORTS&&(0,Z.jsx)(Fc,{noPadding:!w||!J,children:(0,Z.jsxs)(j.Z,{flexDirection:"column",fullWidth:!0,children:[q&&(0,Z.jsx)(Bc.Z,{stats:q,title:"Quality metrics"}),Y&&(0,Z.jsx)(Fn.Z,{mt:T.cd,children:(0,Z.jsx)(Bc.Z,{stats:Y,title:"Statistics"})}),V.length>0&&(0,Z.jsx)(Fn.Z,{mt:T.cd,children:(0,Z.jsx)(vc.Z,{features:V,statistics:E})})]})}),n===me.GRAPHS&&(0,Z.jsx)(Fc,{noPadding:!w||!J,children:(0,Z.jsx)(Wo,{afterWidth:t,features:V,insightsOverview:K,statistics:E})}),me.VARIABLES===n&&s&&ee,w&&J?null:be.includes(n)&&(0,Z.jsx)(j.Z,{alignItems:"center",justifyContent:"center",verticalHeight:90,verticalHeightOffset:N,width:t,children:(0,Z.jsx)(O.ZP,{center:!0,default:!0,disableWordBreak:!0,large:!0,monospace:!0,children:w?!J&&"No data or insights available":"Select a block for insights"})}),me.CHARTS===n&&(0,Z.jsx)(rc,{blockRefs:r,blocks:o,chartRefs:i,deleteWidget:c,fetchWidgets:a,messages:h,onChangeChartBlock:v,runBlock:b,runningBlocks:x,savePipelineContent:C,selectedBlock:w,setSelectedBlock:S,setTextareaFocused:P,textareaFocused:I,updateWidget:A,widgets:D,width:t})]})]})},Gc=t(1887),Qc=t.n(Gc),Vc=t(57639);var Kc=function(e){var n=e.after,t=e.afterHeader,r=e.afterHidden,o=e.afterMousedownActive,i=e.afterSubheader,c=e.afterWidth,l=e.before,u=e.beforeHeader,a=e.beforeHidden,s=e.beforeMousedownActive,d=e.beforeWidth,p=e.children,h=e.mainContainerHeader,m=e.mainContainerRef,v=e.setAfterHidden,g=e.setAfterMousedownActive,b=e.setAfterWidth,x=e.setBeforeHidden,k=e.setBeforeMousedownActive,O=e.setBeforeWidth,C=(0,zc.i)().width,w=(0,f.useRef)(null),_=(0,f.useRef)(null),S=(0,f.useRef)(null),P=(0,f.useRef)(null),E=(0,f.useCallback)((function(){var e=!r;v(e),(0,je.t8)(je.zg,e)}),[r,v]),I=(0,f.useCallback)((function(){var e=!a;x(e),(0,je.t8)(je.Uu,e)}),[a,x]);(0,f.useEffect)((function(){var e,n,t,r,o=function(e){var n,t;((null===S||void 0===S||null===(n=S.current)||void 0===n||null===(t=n.getBoundingClientRect)||void 0===t?void 0:t.call(n))||{}).x;if(C){var r=e.x;r+Nt>C-c&&(r=C-c-Nt),O(Math.max(r,Rt))}},i=function(e){var n,t;e.offsetX>=e.target.offsetWidth-Bt&&e.offsetX<=e.target.offsetWidth+Bt&&(k(!0),e.preventDefault(),null===(n=document)||void 0===n||null===(t=n.addEventListener)||void 0===t||t.call(n,"mousemove",o,!1))},l=function(){var e,n;k(!1),null===(e=document)||void 0===e||null===(n=e.removeEventListener)||void 0===n||n.call(e,"mousemove",o,!1)};return null===P||void 0===P||null===(e=P.current)||void 0===e||null===(n=e.addEventListener)||void 0===n||n.call(e,"mousedown",i,!1),null===(t=document)||void 0===t||null===(r=t.addEventListener)||void 0===r||r.call(t,"mouseup",l,!1),function(){var e,n,t,r;null===P||void 0===P||null===(e=P.current)||void 0===e||null===(n=e.removeEventListener)||void 0===n||n.call(e,"mousedown",i,!1),null===(t=document)||void 0===t||null===(r=t.removeEventListener)||void 0===r||r.call(t,"mouseup",l,!1),l()}}),[c,S,P,k,O,C]),(0,f.useEffect)((function(){var e,n,t,r,o=function(e){var n,t;((null===w||void 0===w||null===(n=w.current)||void 0===n||null===(t=n.getBoundingClientRect)||void 0===t?void 0:t.call(n))||{}).x;if(C){var r=C-e.x;r+Nt>C-d&&(r=C-d-Nt),b(Math.max(r,At))}},i=function(e){var n,t;e.offsetX>=-1*Bt&&e.offsetX<=Bt&&(g(!0),e.preventDefault(),null===(n=document)||void 0===n||null===(t=n.addEventListener)||void 0===t||t.call(n,"mousemove",o,!1))},c=function(){var e,n;g(!1),null===(e=document)||void 0===e||null===(n=e.removeEventListener)||void 0===n||n.call(e,"mousemove",o,!1)};return null===_||void 0===_||null===(e=_.current)||void 0===e||null===(n=e.addEventListener)||void 0===n||n.call(e,"mousedown",i,!1),null===(t=document)||void 0===t||null===(r=t.addEventListener)||void 0===r||r.call(t,"mouseup",c,!1),function(){var e,n,t,r;null===_||void 0===_||null===(e=_.current)||void 0===e||null===(n=e.removeEventListener)||void 0===n||n.call(e,"mousedown",i,!1),null===(t=document)||void 0===t||null===(r=t.removeEventListener)||void 0===r||r.call(t,"mouseup",c,!1),c()}}),[d,w,_,g,b,C]);var A=r?4*T.iI:c,D=a?4*T.iI:d;return(0,Z.jsxs)(Vc.Z,{children:[(o&&!r||s&&!a)&&(0,Z.jsx)(Qc(),{children:(0,Z.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n                body {\n                  cursor: col-resize;\n                }\n              "}})}),l&&(0,Z.jsxs)(Gt,{style:{width:D},children:[(0,Z.jsx)(Xt,{active:s,disabled:a,ref:P,right:0}),(0,Z.jsx)(zt,{style:{width:D},visible:a,children:(0,Z.jsxs)(j.Z,{alignItems:"center",fullHeight:!0,fullWidth:!0,justifyContent:"space-between",children:[(0,Z.jsxs)(V.Z,{children:[(0,Z.jsx)(Fn.Z,{pl:a?1:0}),!a&&u]}),(0,Z.jsxs)(V.Z,{children:[(0,Z.jsx)(Ct,{block:!0,label:a?"Show sidebar":"Hide sidebar",size:null,widthFitContent:!0,children:(0,Z.jsxs)(y.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){return I()},children:[a&&(0,Z.jsx)(R._Q,{neutral:!0,size:2*T.iI}),!a&&(0,Z.jsx)(R.s$,{neutral:!0,size:2*T.iI})]})},a?"before-is-hidden":"before-is-visible"),(0,Z.jsx)(Fn.Z,{pr:a?1:2})]})]})}),(0,Z.jsx)(Qt,{noScrollbarTrackBackground:!0,ref:S,children:!a&&l})]}),(0,Z.jsxs)(qt,{style:{left:D,width:"calc(100% - ".concat(D+A,"px)")},children:[h,(0,Z.jsx)(Yt,{headerOffset:h?Mt:null,style:{width:"calc(100% - ".concat(D+A,"px)")},children:(0,Z.jsx)(Jt,{noScrollbarTrackBackground:!0,ref:m,children:p})})]}),n&&(0,Z.jsxs)(Vt,{style:{width:A},children:[(0,Z.jsx)(Xt,{active:o,disabled:r,left:0,ref:_}),(0,Z.jsx)(zt,{style:{width:A},visible:r,children:(0,Z.jsxs)(j.Z,{alignItems:"center",fullHeight:!0,fullWidth:!0,children:[(0,Z.jsxs)(V.Z,{children:[(0,Z.jsx)(Fn.Z,{pl:r?1:2}),(0,Z.jsxs)(y.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){return E()},children:[r&&(0,Z.jsx)(R.s$,{neutral:!0,size:2*T.iI}),!r&&(0,Z.jsx)(R._Q,{neutral:!0,size:2*T.iI})]})]}),!r&&t]})}),!r&&i&&(0,Z.jsx)(Wt,{style:{width:A},visible:r,children:i}),(0,Z.jsx)(Kt,{noScrollbarTrackBackground:!0,ref:w,children:!r&&n})]})]})},Xc=t(59e3);function qc(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Yc(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?qc(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):qc(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Jc(e){var n,t,r,o=e.pipeline,c=(0,h.useRouter)(),a=(0,zc.i)(),s=a.height,m=a.width,v=(0,f.useState)((0,je.U2)(je.L8,It)),g=v[0],b=v[1],x=(0,f.useState)(null),k=x[0],O=x[1],C=(0,f.useState)((0,je.U2)(je.J3,Dt)),w=C[0],_=C[1],S=(0,f.useState)(!!(0,je.U2)(je.zg)),P=S[0],E=S[1],I=(0,f.useState)(!!(0,je.U2)(je.Uu)),A=I[0],D=I[1],B=(0,f.useState)(!1),N=B[0],M=B[1],L=(0,f.useState)(!1),F=L[0],H=L[1],U=(0,f.useState)(null),z=U[0],W=U[1],G=(0,f.useState)([]),Q=G[0],K=G[1],X=(0,f.useState)({}),q=X[0],Y=X[1],J=(0,f.useState)(!1),$=J[0],ee=J[1],ne=(0,f.useState)(null),te=ne[0],re=ne[1],oe=(0,f.useState)(!1),ie=oe[0],ce=oe[1],le=(0,Xc.iV)(),ue=le.sideview,ae=le.file_path,se=(0,f.useMemo)((function(){var e=le["file_paths[]"]||[];return Array.isArray(e)||(e=[e]),e}),[le]),de=(0,f.useCallback)((function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,Xc.iV)().sideview!==e&&(0,or.u)((0,u.Z)({},ve,e),{pushHistory:n})}),[]);(0,f.useEffect)((function(){ue||de(me.TREE,!1)}),[ue]);var fe=(0,f.useCallback)((function(e,n){de(e,n),E(!1)}),[de]),pe=(0,f.useRef)({}),he=(0,f.useRef)({}),ge=(0,f.useRef)({}),be=(0,f.useRef)({}),ke=(0,f.useRef)(null),Oe=o.uuid,Ce=(0,Xe.Z)(Oe),we=(0,f.useCallback)((function(e){ge.current=Yc(Yc({},ge.current),e)}),[ge]),Ze=(0,f.useCallback)((function(e,n){we((0,u.Z)({},e,n)),ce(!0)}),[we,ce]),_e=(0,f.useCallback)((function(e){be.current=Yc(Yc({},be.current),e)}),[be]),Se=(0,f.useCallback)((function(e,n){_e((0,u.Z)({},e,n)),ce(!0)}),[_e,ce]),Pe=(0,f.useState)(null),Te=Pe[0],Ie=Pe[1];(0,f.useEffect)((function(){null===ke||void 0===ke||!ke.current||N||F||Ie(ke.current.getBoundingClientRect().width)}),[N,F,P,g,A,w,null===ke||void 0===ke?void 0:ke.current,Ie,m]),(0,f.useEffect)((function(){N||(O(g),(0,je.t8)(je.L8,g))}),[N,g,O]),(0,f.useEffect)((function(){F||(0,je.t8)(je.J3,w)}),[F,w]);var Re=Yn.ZP.variables.pipelines.list(!P&&Oe),De=Re.data,Be=Re.mutate,Ne=null===De||void 0===De?void 0:De.variables,Me=(0,f.useState)([]),Le=Me[0],Fe=Me[1],He=(0,f.useState)([]),We=He[0],Ge=He[1],Ve=(0,f.useRef)({}),Ke=(0,f.useCallback)((function(e){var n;ce(!0);var t=Ve.current[e.uuid]||{},r=t.upstream_blocks;(null===e||void 0===e||null===(n=e.upstream_blocks)||void 0===n?void 0:n.length)>=1&&(r=e.upstream_blocks),Ve.current[e.uuid]=Yc(Yc(Yc({},t),e),{},{configuration:Yc(Yc({},t.configuration),e.configuration),upstream_blocks:r})}),[ce,Ve.current]),qe=(0,f.useState)({upstreamBlocks:null}),Ye=qe[0],Je=qe[1],$e=(0,f.useState)([]),en=$e[0],nn=$e[1],tn=(0,f.useState)(null),rn=tn[0],on=tn[1],cn=function(e,n){var t=(0,Ae.HK)(n,(function(e){return e.uuid}));return e.map((function(e){return t[e]})).filter((function(e){return!!e}))}(Qr(Oe),Le),ln=(0,f.useState)(cn),un=ln[0],an=ln[1],sn=(0,f.useState)(null),dn=sn[0],fn=sn[1],pn=(0,Xe.Z)(un),hn=(0,f.useCallback)((function(){Je({upstreamBlocks:{block:null,values:[]}}),Pn({}),ce(!1),re(null),nn([]),on(null)}),[]);(0,f.useEffect)((function(){Oe!==Ce&&(ge.current={})}),[Oe,Ce]);var mn=Yn.ZP.blocks.pipelines.outputs.detail(!P&&Oe,(null===dn||void 0===dn?void 0:dn.type)!==i.SCRATCHPAD&&(null===dn||void 0===dn?void 0:dn.type)!==i.CHART&&(null===dn||void 0===dn?void 0:dn.uuid)),vn=mn.data,gn=mn.mutate,bn=null===vn||void 0===vn||null===(n=vn.outputs)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.sample_data,xn=Yn.ZP.blocks.pipelines.analyses.detail(!P&&Oe,(null===dn||void 0===dn?void 0:dn.type)!==i.SCRATCHPAD&&(null===dn||void 0===dn?void 0:dn.type)!==i.CHART&&(null===dn||void 0===dn?void 0:dn.uuid)),yn=xn.data,jn=xn.mutate,kn=(null===yn||void 0===yn||null===(r=yn.analyses)||void 0===r?void 0:r[0])||{},On=kn.insights,Cn=kn.metadata,wn=kn.statistics,Zn=void 0===wn?{}:wn;(0,f.useEffect)((function(){0===en.length&&(jn(),gn(),Be())}),[jn,gn,Be,en]),(0,f.useEffect)((function(){if(0===un.length)fn(null);else if((null===pn||void 0===pn?void 0:pn.length)!==(null===un||void 0===un?void 0:un.length)&&(null===un||void 0===un?void 0:un.length)<(null===pn||void 0===pn?void 0:pn.length)){var e=pn.findIndex((function(e){return e.uuid===(null===dn||void 0===dn?void 0:dn.uuid)})),n=pn.length-1===e?e-1:e+1;fn(pn[Math.max(0,n)])}}),[un,pn,null===dn||void 0===dn?void 0:dn.uuid]),(0,f.useEffect)((function(){var e;null!==(e=Ye.upstreamBlocks)&&void 0!==e&&e.block&&(E(!1),de(me.TREE))}),[Ye.upstreamBlocks]);var _n=(0,f.useState)({}),Sn=_n[0],Pn=_n[1],En=Yn.ZP.pipelines.detail(Oe),Tn=En.data,In=(En.isLoading,En.mutate),An=Yn.ZP.files.list(),Rn=An.data,Dn=An.mutate,Bn=null===Tn||void 0===Tn?void 0:Tn.pipeline,Nn=Yn.ZP.kernels.list({},{refreshInterval:5e3,revalidateOnFocus:!0}),Mn=Nn.data,Ln=Nn.mutate,Hn=null===Mn||void 0===Mn?void 0:Mn.kernels,Un=null===Hn||void 0===Hn?void 0:Hn[0],zn=(0,f.useCallback)((function(e){var n=encodeURIComponent(e),t=(0,Xc.iV)()["file_paths[]"]||[];Array.isArray(t)||(t=[t]),t.includes(n)||t.push(n),(0,or.u)({"file_paths[]":t,file_path:n})}),[]);(0,f.useEffect)((function(){W(ae)}),[ae]),(0,f.useEffect)((function(){(0,Ae.fS)(se,Q)||K(se)}),[se]);var Wn=(0,p.Db)(Yn.ZP.pipelines.useUpdate(Oe,{update_content:!0}),{onSuccess:function(e){return(0,Jn.wD)(e,{callback:function(){return ce(!1)},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),Gn=(0,l.Z)(Wn,2),Qn=Gn[0],Vn=Gn[1].isLoading,Kn=(0,p.Db)((function(e){return Yn.ZP.pipelines.useUpdate(Oe)({pipeline:{name:e}})}),{onSuccess:function(e){return(0,Jn.wD)(e,{callback:function(e){var n=e.pipeline.uuid;Dn(),function(e,n,t){e.forEach((function(e){(0,je.t8)("".concat(t,"/").concat(e.uuid,"/codeCollapsed"),(0,je.Od)("".concat(n,"/").concat(e.uuid,"/codeCollapsed"))),(0,je.t8)("".concat(t,"/").concat(e.uuid,"/outputCollapsed"),(0,je.Od)("".concat(n,"/").concat(e.uuid,"/outputCollapsed")))}))}(Le,Oe,n),c.push("/pipelines/".concat(n))},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),Xn=(0,l.Z)(Kn,1)[0],$n=(0,f.useCallback)((function(){return re(new Date),Qn({pipeline:Yc(Yc({},Bn),{},{blocks:Le.map((function(e){var n=ge.current[e.uuid];return"undefined"===typeof n&&(n=e.content),Yc(Yc({},e),{},{content:n,outputs:i.SCRATCHPAD===e.type&&Sn[e.uuid]?Sn[e.uuid].map((function(n,t){return{text_data:JSON.stringify(n),variable_uuid:"".concat(e.uuid,"_").concat(t)}})):e.outputs})})),widgets:We.map((function(e){var n=be.current[e.uuid],t=Ve.current[e.uuid]||{};return"undefined"===typeof n&&(n=e.content),Yc(Yc(Yc({},e),t),{},{content:n,configuration:Yc(Yc({},e.configuration),t.configuration)})}))})})}),[Le,ge.current,be.current,Sn,Bn,re,Qn,Ve.current,We]),et=(0,p.Db)((function(e){var n=e.uuid;return Yn.ZP.blocks.pipelines.useDelete(Oe,n)()}),{onSuccess:function(e){return(0,Jn.wD)(e,{callback:function(e){var n=e.block,t=n.type,r=n.uuid;Fe((function(e){return(0,Ae.oM)(e,e.findIndex((function(e){var n=e.uuid;return r===n})))})),In(),t===i.SCRATCHPAD&&Dn()},onErrorCallback:function(e,n){var t=e.url_parameters,r=n.messages;Pn((function(e){return Yc(Yc({},e),{},(0,u.Z)({},t.block_uuid,r.map((function(e){return{data:e,type:cr.TEXT_PLAIN}}))))}))}})}}),nt=(0,l.Z)(et,1)[0],rt=(0,p.Db)((function(e){var n=e.uuid;return Yn.ZP.widgets.pipelines.useDelete(Oe,n)()}),{onSuccess:function(e){return(0,Jn.wD)(e,{callback:function(e){var n=e.widget.uuid;Ge((function(e){return(0,Ae.oM)(e,e.findIndex((function(e){var t=e.uuid;return n===t})))})),In(),Dn()},onErrorCallback:function(e,n){var t=e.url_parameters,r=n.messages;Pn((function(e){return Yc(Yc({},e),{},(0,u.Z)({},t.block_uuid,r.map((function(e){return{data:e,type:cr.TEXT_PLAIN}}))))}))}})}}),ot=(0,l.Z)(rt,1)[0],it=(0,p.Db)((function(e){var n=e.type,t=e.uuid;return Yn.ZP.blocks.useDelete(encodeURIComponent("".concat(n,"/").concat(t)))()}),{onSuccess:function(e){return(0,Jn.wD)(e,{callback:function(){In(),Dn()},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r),alert("Error deleting block file. Check that there are no downstream blocks, then try again.")}})}}),ct=(0,l.Z)(it,1)[0],at=(0,p.Db)(Yn.ZP.restart.kernels.useCreate(null===Un||void 0===Un?void 0:Un.id),{onSuccess:function(e){return(0,Jn.wD)(e,{callback:function(){return Ln()},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),st=(0,l.Z)(at,1)[0],dt=(0,p.Db)(Yn.ZP.interrupt.kernels.useCreate(null===Un||void 0===Un?void 0:Un.id),{onSuccess:function(e){return(0,Jn.wD)(e,{callback:function(e){},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),ft=(0,l.Z)(dt,1)[0],pt=((0,f.useCallback)((function(){window.confirm("Do you want to restart the kernel? All variables will be cleared.")&&st()}),[st]),(0,p.Db)(Yn.ZP.blocks.pipelines.useCreate(Oe))),ht=(0,l.Z)(pt,1)[0],mt=(0,f.useCallback)((function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,Ee.Y6)();return ht({block:Yc({name:r,priority:n},e)}).then((function(e){(0,Jn.wD)(e,{callback:function(){var r=e.data.block;Fe((function(e){return(0,Ae.Hk)(r,n,e)})),null===t||void 0===t||t(r),Dn(),In()},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}))}),[ht,Fe]),vt=Yn.ZP.widgets.pipelines.list(!P&&Oe),gt=(vt.data,vt.mutate),bt=(0,p.Db)(Yn.ZP.widgets.pipelines.useCreate(Oe)),xt=(0,l.Z)(bt,1)[0],yt=(0,f.useCallback)((function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,Ee.Y6)();return xt({widget:Yc({name:r,priority:n,type:i.CHART},e)}).then((function(e){return(0,Jn.wD)(e,{callback:function(){var n=e.data.widget;null===t||void 0===t||t(n),Dn(),In(),de(me.CHARTS)},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}))}),[ue,xt,de]);(0,f.useEffect)((function(){Ce!==Oe&&(Fe([]),Ge([]),an([]))}),[Oe,Ce]),(0,f.useEffect)((function(){"undefined"!==typeof(null===Bn||void 0===Bn?void 0:Bn.blocks)&&Fe(Bn.blocks)}),[null===Bn||void 0===Bn?void 0:Bn.blocks]),(0,f.useEffect)((function(){"undefined"!==typeof(null===Bn||void 0===Bn?void 0:Bn.widgets)&&Ge(Bn.widgets)}),[null===Bn||void 0===Bn?void 0:Bn.widgets]),(0,f.useEffect)((function(){(null===cn||void 0===cn?void 0:cn.length)>0&&0===(null===un||void 0===un?void 0:un.length)&&(an(cn),fn(cn[0]))}),[null===un||void 0===un?void 0:un.length,null===cn||void 0===cn?void 0:cn.length]);var jt=(0,Xe.Z)(Le);(0,f.useEffect)((function(){if("undefined"!==typeof(null===Bn||void 0===Bn?void 0:Bn.blocks)&&(!Le.length||(null===jt||void 0===jt?void 0:jt.map((function(e){return e.uuid})).sort())!==(null===Le||void 0===Le?void 0:Le.map((function(e){return e.uuid})).sort()))){var e=Wr(Bn.blocks),n=e.content,t=e.messages;ge.current=n,Pn((function(e){return Yc(Yc({},t),e)}))}}),[Le,jt,null===Bn||void 0===Bn?void 0:Bn.blocks,Fe,Pn]),(0,f.useEffect)((function(){if(!We.length&&"undefined"!==typeof(null===Bn||void 0===Bn?void 0:Bn.widgets)){var e=Wr(Bn.widgets),n=e.content,t=e.messages;be.current=n,Pn((function(e){return Yc(Yc({},t),e)}))}}),[null===Bn||void 0===Bn?void 0:Bn.widgets,Fe,Pn,We]);var kt=(0,f.useCallback)((function(e,n,t){var r=Le.find((function(t){var r=t.type,o=t.uuid;return r===n&&o===e}));if(r){if(on(r),null!==pe&&void 0!==pe&&pe.current){var o,c=pe.current["".concat(r.type,"s/").concat(r.uuid,".py")];null===c||void 0===c||null===(o=c.current)||void 0===o||o.scrollIntoView()}}else if(n===i.CHART){var l=We.find((function(n){return n.uuid===e}));if(l&&(on(l),null!==he&&void 0!==he&&he.current)){var u,a=he.current[l.uuid];null===a||void 0===a||null===(u=a.current)||void 0===u||u.scrollIntoView()}}else zn(t)}),[Le]),Ot=(0,d.ZP)(Ic,{onOpen:function(){return console.log("socketUrlPublish opened: ".concat(Ic))},shouldReconnect:function(e){return console.log("Attempting to reconnect..."),!0}}),Ct=Ot.lastMessage,wt=(Ot.readyState,Ot.sendMessage);(0,f.useEffect)((function(){if(Ct){var e=JSON.parse(Ct.data),n=e.execution_state,t=e.uuid;Pn((function(n){var r=n[t]||[];return Yc(Yc({},n),{},(0,u.Z)({},t,r.concat(e)))})),ir.IDLE===n&&nn((function(e){return e.filter((function(e){var n=e.uuid;return t!==n}))})),ce(!0)}}),[Ct,Pn,ce,nn]);var Zt=(0,f.useCallback)((function(e){var n=e.block,t=e.code,r=e.ignoreAlreadyRunning,o=e.runDownstream,i=void 0!==o&&o,c=e.runUpstream,l=void 0!==c&&c,u=n.uuid;en.find((function(e){var n=e.uuid;return u===n}))&&!r||(wt(JSON.stringify({code:t,pipeline_uuid:null===Bn||void 0===Bn?void 0:Bn.uuid,type:n.type,uuid:u,run_downstream:i,run_upstream:l})),Pn((function(e){return delete e[u],e})),ee(!1),nn((function(e){return e.find((function(e){var n=e.uuid;return u===n}))?e:e.concat(n)}))),In()}),[In,Bn,en,wt,Pn,nn,ee]),_t=(0,f.useRef)(null),St=(0,f.useMemo)((function(){return(0,Z.jsx)(Qe,{areaRef:_t,deleteBlockFile:ct,enableContextItem:!0,type:Ue.FILE_BROWSER,children:(0,Z.jsx)(ze,{files:null===Rn||void 0===Rn?void 0:Rn.files,onSelectBlockFile:kt,openFile:zn,openPipeline:function(e){hn(),c.push("/pipelines/[...slug]","/pipelines/".concat(e))},openSidekickView:fe,ref:_t})})}),[null===Rn||void 0===Rn?void 0:Rn.files,kt]),Pt=(null===un||void 0===un?void 0:un.length)>0?xe:xe.filter((function(e){return e.key!==me.DATA})),Et=(0,f.useMemo)((function(){return(0,Z.jsx)(Wc,{activeView:ue,afterWidth:k,blockRefs:pe,blocks:Le,chartRefs:he,deleteWidget:ot,editingBlock:Ye,fetchPipeline:In,fetchWidgets:gt,globalVariables:Ne,insights:On,messages:Sn,metadata:Cn,onChangeChartBlock:Se,pipeline:Bn,runBlock:Zt,runningBlocks:en,sampleData:bn,savePipelineContent:$n,selectedBlock:rn,setEditingBlock:Je,setSelectedBlock:on,setTextareaFocused:ee,statistics:Zn,textareaFocused:$,updateWidget:Ke,widgets:We})}),[ue,k,pe,Le,ot,Ye,In,gt,Ne,On,Sn,Cn,Se,Bn,Zt,en,bn,$n,rn,Je,ee,Zn,$,Ke,We]),Tt=(0,f.useMemo)((function(){return(0,Z.jsx)(Fo,{addNewBlockAtIndex:mt,addWidget:function(e,n){var t=n.onCreateCallback;return yt(e,We.length,t)},blockRefs:pe,blocks:Le,deleteBlock:nt,fetchFileTree:Dn,fetchPipeline:In,interruptKernel:ft,isPipelineUpdating:Vn,kernel:Un,mainContainerRef:ke,mainContainerWidth:Te,messages:Sn,onChangeCodeBlock:Ze,pipeline:Bn,pipelineContentTouched:ie,pipelineLastSaved:te,restartKernel:st,runBlock:Zt,runningBlocks:en,savePipelineContent:$n,selectedBlock:rn,setActiveSidekickView:de,setEditingBlock:Je,setMessages:Pn,setOutputBlocks:an,setPipelineContentTouched:ce,setRunningBlocks:nn,setSelectedBlock:on,setSelectedOutputBlock:fn,setTextareaFocused:ee,textareaFocused:$,widgets:We})}),[mt,yt,pe,Le,nt,Dn,In,ft,Vn,Un,ke,Te,Sn,Ze,Bn,ie,te,st,Zt,en,$n,rn,Je,Pn,ce,nn,on,ee,$,We]),At=(0,f.useMemo)((function(){return(0,Z.jsx)(lr,{filePaths:Q,filesTouched:q,isBusy:en.length>=1,isPipelineUpdating:Vn,kernel:Un,pipeline:Bn,pipelineContentTouched:ie,pipelineLastSaved:te,restartKernel:st,selectedFilePath:z,updatePipelineName:Xn})}),[q,Vn,Un,Bn,ie,te,st,en,z,Q,Xn]);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(ut.Z,{title:null===Bn||void 0===Bn?void 0:Bn.name}),(0,Z.jsxs)(Kc,{after:Et,afterHeader:(0,Z.jsxs)(j.Z,{alignItems:"center",fullWidth:!0,justifyContent:"space-between",children:[(0,Z.jsx)(V.Z,{children:Pt.map((function(e){var n=e.key,t=e.label,r=n===ue,o=ye[n];return(0,Z.jsx)(Fn.Z,{pl:1,children:(0,Z.jsx)(qn,{beforeElement:(0,Z.jsx)(o,{}),blackBorder:!0,compact:!0,onClick:function(){return de(n)},selected:r,uuid:n,children:t})},n)}))}),(0,Z.jsx)(Fn.Z,{px:1,children:(0,Z.jsx)(qn,{beforeElement:(0,Z.jsx)(R.mm,{}),blackBorder:!0,compact:!0,onClick:function(){return yt({},We.length)},uuid:"Pipeline/afterHeader/add_chart",children:"Add chart"})})]}),afterHidden:P,afterMousedownActive:N,afterSubheader:(null===un||void 0===un?void 0:un.length)>0&&ue===me.DATA&&(0,Z.jsx)(j.Z,{alignItems:"center",fullHeight:!0,fullWidth:!0,children:un.map((function(e){var n=e.uuid,t=(null===dn||void 0===dn?void 0:dn.uuid)===n;return(0,Z.jsx)(Fn.Z,{pl:1,children:(0,Z.jsx)(qn,{afterElement:t?(0,Z.jsx)(y.Z,{basic:!0,highlightOnHover:!0,onClick:function(){!function(e,n){var t=Qr(e).filter((function(e){return e!==n}));(0,je.t8)(Gr(e),t)}(Oe,e.uuid),an((function(e){return e.filter((function(e){return e.uuid!==n}))}))},padding:"2px",transparent:!0,children:(0,Z.jsx)(R.x8,{muted:!0,size:1.25*T.iI})}):null,blackBorder:!0,compact:!0,muted:!0,onClick:function(){return fn(e)},selected:t,uuid:n,children:n})},n)}))}),afterWidth:g,before:St,beforeHeader:(0,Z.jsx)(lt,{fetchFileTree:Dn,interruptKernel:ft,restartKernel:st,savePipelineContent:$n,setMessages:Pn}),beforeHidden:A,beforeMousedownActive:F,beforeWidth:w,mainContainerHeader:At,mainContainerRef:ke,setAfterHidden:E,setAfterMousedownActive:M,setAfterWidth:b,setBeforeHidden:D,setBeforeMousedownActive:H,setBeforeWidth:_,children:[!z&&Tt,null===se||void 0===se?void 0:se.map((function(e){return(0,Z.jsx)("div",{style:{display:z===e?null:"none"},children:(0,Z.jsx)(tt,{addNewBlock:function(e){mt(e,Le.length,on,e.uuid),c.push("/pipelines/".concat(Oe))},filePath:e,pipeline:Bn,setFilesTouched:Y})},e)})),(0,Z.jsx)(Fn.Z,{pb:Math.max(Math.floor(s/2/T.iI),0)})]})]})}Jc.getInitialProps=function(){var e=(0,c.Z)(s().mark((function e(n){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.query.slug,Array.isArray(t)&&(r=t[0]),e.abrupt("return",{pipeline:{uuid:r}});case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();var $c=Jc},26039:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines/[...slug]",function(){return t(32141)}])}},function(e){e.O(0,[3662,4259,240,1125,5506,9668,8952,1374,9774,2888,179],(function(){return n=26039,e(e.s=n);var n}));var n=e.O();_N_E=n}]);