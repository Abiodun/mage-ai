(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8170],{1210:function(e,n,t){"use strict";t.d(n,{Z:function(){return Z}});var r=t(82394),i=t(21831),o=t(82684),u=t(47999),c=t(49894),l=t(93461),a=t(57384),s=t(40881),d=t(72454),f=t(28598);function p(e,n){var t=e.children;return(0,f.jsx)(d.HS,{ref:n,children:t})}var h=o.forwardRef(p),b=t(32063),g=t(15270),v=t(82531),m=t(66166),O=t(3055),y=t(49125),j=t(91427),w=t(24141);function k(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function P(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?k(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):k(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Z=function(e){var n,t=e.after,r=e.afterHidden,p=e.afterWidth,k=e.afterWidthOverride,Z=e.before,x=e.beforeWidth,_=e.breadcrumbs,S=e.children,C=e.errors,D=e.headerMenuItems,E=e.navigationItems,M=e.setErrors,I=e.subheaderChildren,N=e.title,W=e.uuid,H=(0,w.i)().width,A="dashboard_after_width_".concat(W),T="dashboard_before_width_".concat(W),B=(0,o.useRef)(null),z=(0,o.useState)(k?p:(0,j.U2)(A,p)),U=z[0],q=z[1],R=(0,o.useState)(!1),F=R[0],J=R[1],L=(0,o.useState)(Z?Math.max((0,j.U2)(T,x),13*y.iI):null),X=L[0],G=L[1],Y=(0,o.useState)(!1),Q=Y[0],V=Y[1],K=(0,o.useState)(null)[1],$=v.ZP.projects.list({},{revalidateOnFocus:!1}).data,ee=null===$||void 0===$?void 0:$.projects,ne=[];_?ne.push.apply(ne,(0,i.Z)(_)):(null===ee||void 0===ee?void 0:ee.length)>=1&&ne.push.apply(ne,[{label:function(){var e;return null===(e=ee[0])||void 0===e?void 0:e.name},linkProps:{href:"/"}},{bold:!0,label:function(){return N}}]),(0,o.useEffect)((function(){null===B||void 0===B||!B.current||F||Q||null===K||void 0===K||K(B.current.getBoundingClientRect().width)}),[F,U,Q,X,B,K,H]),(0,o.useEffect)((function(){F||(0,j.t8)(A,U)}),[r,F,U,A]),(0,o.useEffect)((function(){Q||(0,j.t8)(T,X)}),[Q,X,T]);var te=(0,m.Z)(p);return(0,o.useEffect)((function(){k&&te!==p&&q(p)}),[k,p,te]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(a.Z,{title:N}),(0,f.jsx)(s.Z,{breadcrumbs:ne,menuItems:D,project:null===ee||void 0===ee?void 0:ee[0],version:null===ee||void 0===ee||null===(n=ee[0])||void 0===n?void 0:n.version}),(0,f.jsxs)(d.Nk,{children:[0!==(null===E||void 0===E?void 0:E.length)&&(0,f.jsx)(d.lm,{children:(0,f.jsx)(g.Z,{navigationItems:E})}),(0,f.jsx)(l.Z,{flex:1,flexDirection:"column",children:(0,f.jsxs)(b.Z,{after:t,afterHeightOffset:O.Mz,afterHidden:r,afterMousedownActive:F,afterWidth:U,before:Z,beforeHeightOffset:O.Mz,beforeMousedownActive:Q,beforeWidth:d.k1+(Z?X:0),hideAfterCompletely:!0,leftOffset:Z?d.k1:null,mainContainerRef:B,setAfterMousedownActive:J,setAfterWidth:q,setBeforeMousedownActive:V,setBeforeWidth:G,children:[I&&(0,f.jsx)(h,{children:I}),S]})})]}),C&&(0,f.jsx)(u.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===M||void 0===M?void 0:M(null)},children:(0,f.jsx)(c.Z,P(P({},C),{},{onClose:function(){return null===M||void 0===M?void 0:M(null)}}))})]})}},60547:function(e,n,t){"use strict";t.d(n,{Z:function(){return Z}});var r=t(82394),i=t(21831),o=t(82684),u=t(47999),c=t(1210),l=t(34744),a=t(49894),s=t(67971),d=t(87372),f=t(86673),p=t(82531),h=t(9518),b=t(23831),g=t(73942),v=t(49125),m=h.default.div.withConfig({displayName:"indexstyle__BannerStyle",componentId:"sc-1te3pmf-0"})(["border-radius:","px;padding:","px;"," "," ",""],g.n_,3*v.iI,(function(e){return"\n    box-shadow: ".concat((e.theme.shadow||b.Z.shadow).small,";\n  ")}),(function(e){return e.background&&"\n    background: ".concat(e.background,";\n  ")}),(function(e){return e.backgroundImage&&'\n    background-image: url("'.concat(e.backgroundImage,'");\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n  ')})),O=t(3055),y=t(95354),j=t(24141),w=t(28598);function k(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function P(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?k(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):k(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Z=function(e){var n=e.after,t=e.afterHidden,r=e.afterWidth,h=e.before,b=e.beforeWidth,g=e.breadcrumbs,k=e.buildSidekick,Z=e.children,x=e.errors,_=e.headline,S=e.pageName,C=e.pipeline,D=e.setErrors,E=e.subheader,M=e.subheaderBackground,I=e.subheaderBackgroundImage,N=e.subheaderButton,W=e.subheaderText,H=e.title,A=e.uuid,T=(0,j.i)().height,B=C.uuid,z=p.ZP.pipelines.detail(B,{includes_outputs:!1},{revalidateOnFocus:!1}).data,U=null===z||void 0===z?void 0:z.pipeline,q=(0,o.useMemo)((function(){return n||(k?k({height:T,heightOffset:O.Mz,pipeline:U}):null)}),[n,k,T,U]),R=r||(q?50*v.iI:null),F=(0,o.useMemo)((function(){var e=[];return U&&(e.push.apply(e,[{label:function(){return"Pipelines"},linkProps:{href:"/pipelines"}}]),g?(e.push({label:function(){return U.uuid},linkProps:{as:"/pipelines/".concat(B,"/triggers"),href:"/pipelines/[pipeline]/triggers"}}),e.push.apply(e,(0,i.Z)(g)),e[e.length-1].bold=!0):e.push({bold:!0,label:function(){return U.name}})),e}),[g,U,B]);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(c.Z,{after:q,afterHidden:t,afterWidth:R,before:h,beforeWidth:b,breadcrumbs:F,navigationItems:(0,y.H)(S,U),subheaderChildren:"undefined"!==typeof E&&E,title:U?H?H(U):U.name:null,uuid:A,children:[(N||W)&&(0,w.jsx)(f.Z,{mb:v.Mq,mt:v.cd,mx:v.cd,children:(0,w.jsx)(m,{background:M,backgroundImage:I,children:(0,w.jsxs)(s.Z,{alignItems:"center",children:[N,W&&(0,w.jsx)(f.Z,{ml:3}),W]})})}),_&&(0,w.jsx)(f.Z,{p:v.cd,children:(0,w.jsxs)(f.Z,{mt:v.cd,px:v.cd,children:[(0,w.jsx)(d.Z,{level:5,children:_}),(0,w.jsx)(l.Z,{light:!0,mt:v.cd,short:!0})]})}),Z]}),x&&(0,w.jsx)(u.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===D||void 0===D?void 0:D(null)},children:(0,w.jsx)(a.Z,P(P({},x),{},{onClose:function(){return null===D||void 0===D?void 0:D(null)}}))})]})}},34744:function(e,n,t){"use strict";var r=t(82394),i=t(26304),o=(t(82684),t(9518)),u=t(86673),c=t(23831),l=t(49125),a=t(28598),s=["short"];function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var p=o.default.div.withConfig({displayName:"Divider__DividerContainerStyle",componentId:"sc-1m7lqco-0"})([""," ",""],(function(e){return e.short&&"\n    width: ".concat(21*l.iI,"px;\n  ")}),(function(e){return!e.short&&"\n    width: 100%;\n  "})),h=o.default.div.withConfig({displayName:"Divider__DividerStyle",componentId:"sc-1m7lqco-1"})(["height:1px;"," "," "," "," "," ",""],(function(e){return!(e.light||e.medium)&&"\n    background-color: ".concat((e.theme.monotone||c.Z.monotone).grey200,";\n  ")}),(function(e){return e.muted&&"\n    background-color: ".concat((e.theme.monotone||c.Z.monotone).grey500,";\n  ")}),(function(e){return e.light&&"\n    background-color: ".concat((e.theme.borders||c.Z.borders).light,";\n  ")}),(function(e){return e.medium&&"\n    background-color: ".concat((e.theme.borders||c.Z.borders).medium,";\n  ")}),(function(e){return e.prominent&&"\n    background-color: ".concat((e.theme.monotone||c.Z.monotone).grey300,";\n  ")}),(function(e){return e.black&&"\n    background-color: ".concat((e.theme.monotone||c.Z.monotone).black,";\n  ")})),b=function(e){var n=e.short,t=(0,i.Z)(e,s);return(0,a.jsx)(p,{short:n,children:(0,a.jsx)(u.Z,f(f({},t),{},{children:(0,a.jsx)(h,f({},t))}))})};b.defaultProps={short:!1},n.Z=b},70814:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return E}});var r=t(77837),i=t(75582),o=t(82394),u=t(38860),c=t.n(u),l=t(60547),a=t(41788),s=t(82684),d=t(60328),f=t(38341),p=t(67971),h=t(86673),b=t(82944),g=t(11366),v=t(49125),m=t(91427),O=t(90211),y=t(28598);function j(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function w(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?j(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var k=function(e){var n=e.isPipelineUpdating,t=e.pipeline,r=e.updatePipeline,i=null===t||void 0===t?void 0:t.uuid,u=(0,s.useMemo)((function(){return(null===t||void 0===t?void 0:t.blocks)||[]}),[t]),c=(0,s.useState)((null===t||void 0===t?void 0:t.name)||""),l=c[0],a=c[1],j="".concat(g.g6,"_").concat(i),k=(0,s.useState)({}),P=k[0],Z=k[1],x=(0,s.useCallback)((function(e){Z((function(n){var t=e(n);return(0,m.t8)(j,JSON.stringify(t)),t}))}),[j,Z]);(0,s.useEffect)((function(){var e=(0,m.U2)(j);e&&(0,O.Pb)(e)&&Z(JSON.parse(e))}),[j,Z]);var _=(0,s.useMemo)((function(){return(null===u||void 0===u?void 0:u.filter((function(e){var n=e.uuid;return!(null===P||void 0===P||!P[n])}))).length===u.length}),[u,P]),S=(0,s.useMemo)((function(){return!(null!==u&&void 0!==u&&u.length)}),[u]);return(0,y.jsxs)(h.Z,{p:v.cd,children:[(0,y.jsx)(b.Z,{label:"Pipeline name",onChange:function(e){return a(e.target.value)},primary:!0,required:!0,setContentOnMount:!0,value:l}),(0,y.jsx)(h.Z,{mt:5,children:(0,y.jsx)(p.Z,{children:(0,y.jsx)(d.Z,{disabled:l===(null===t||void 0===t?void 0:t.name),loading:n,onClick:function(){return r({name:l})},primary:!0,children:"Save pipeline settings"})})}),(0,y.jsx)(h.Z,{mt:5,children:(0,y.jsx)(f.Z,{checked:_&&!S,disabled:S,label:"Hide all blocks in notebook",onClick:function(){return x((function(){return _?{}:null===u||void 0===u?void 0:u.reduce((function(e,n){var t=n.uuid;return w(w({},e),{},(0,o.Z)({},t,!0))}),{})}))}})})]})},P=t(82531),Z=t(59920),x=t(83455),_=t(96510);function S(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function C(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?S(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function D(e){var n=e.pipeline,t=null===n||void 0===n?void 0:n.uuid,r=P.ZP.pipelines.detail(t).data,o=C(C({},null===r||void 0===r?void 0:r.pipeline),n),u=(0,x.Db)(P.ZP.pipelines.useUpdate(t,{update_content:!0}),{onSuccess:function(e){return(0,_.wD)(e,{callback:function(e){if(null!==e&&void 0!==e&&e.pipeline){var n=e.pipeline.uuid;t!==n&&(window.location.href="/pipelines/".concat(n,"/settings"))}},onErrorCallback:function(e,n){return console.log({errors:n,response:e})}})}}),c=(0,i.Z)(u,2),a=c[0],s=c[1].isLoading;return(0,y.jsx)(l.Z,{breadcrumbs:[{label:function(){return"Settings"}}],pageName:Z.M.SETTINGS,pipeline:o,title:function(e){var n=e.name;return"".concat(n," settings")},uuid:"".concat(Z.M.SETTINGS,"_").concat(t),children:r&&(0,y.jsx)(k,{isPipelineUpdating:s,pipeline:o,updatePipeline:function(e){return a({pipeline:e})}})})}D.getInitialProps=function(){var e=(0,r.Z)(c().mark((function e(n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.query.pipeline,e.abrupt("return",{pipeline:{uuid:t}});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();var E=(0,a.Z)(D)},11366:function(e,n,t){"use strict";t.d(n,{H8:function(){return i},g6:function(){return o},kY:function(){return r}});var r="automatically_name_blocks",i="pipeline_edit_before_tab_selected",o="pipeline_edit_hidden_blocks"},90211:function(e,n,t){"use strict";t.d(n,{RA:function(){return s},kC:function(){return d},vg:function(){return m},kE:function(){return P},T3:function(){return j},Mp:function(){return f},Pb:function(){return l},HW:function(){return y},wX:function(){return p},x6:function(){return h},_6:function(){return b},zf:function(){return O},Y6:function(){return k},wE:function(){return Z},J3:function(){return g},We:function(){return a},QV:function(){return w},C5:function(){return v}});var r=t(75582),i=t(17717),o=["aged","ancient","autumn","billowing","bitter","black","blue","bold","broken","cold","cool","crimson","damp","dark","dawn","delicate","divine","dry","empty","falling","floral","fragrant","frosty","green","hidden","holy","icy","late","lingering","little","lively","long","misty","morning","muddy","nameless","old","patient","polished","proud","purple","quiet","red","restless","rough","shy","silent","small","snowy","solitary","sparkling","spring","still","summer","throbbing","twilight","wandering","weathered","white","wild","winter","wispy","withered","young"],u=(t(92083),["bird","breeze","brook","bush","butterfly","cherry","cloud","darkness","dawn","dew","dream","dust","feather","field","fire","firefly","flower","fog","forest","frog","frost","glade","glitter","grass","haze","hill","lake","leaf","meadow","moon","morning","mountain","night","paper","pine","pond","rain","resonance","river","sea","shadow","shape","silence","sky","smoke","snow","snowflake","sound","star","sun","sun","sunset","surf","thunder","tree","violet","voice","water","water","waterfall","wave","wildflower","wind","wood"]),c=t(24224);function l(e){if(!e)return!1;try{JSON.parse(e)}catch(n){return!1}return!0}function a(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_";return e.split(" ").join(n)}function s(e){return e.split(" ").join("_")}function d(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return String((new Date).getTime()*e)}function p(e){return e.charAt(0).toLowerCase()+e.slice(1)}function h(e){if(null===e||"undefined"===typeof e)return"";var n=e.toString().split("."),t=(0,r.Z)(n,2),i=t[0],o=t[1],u=i.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return o?"".concat(u,".").concat(o):u}function b(e,n){var t,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=n,o=void 0!==i&&null!==i;if(o||(i=2),1===i)t=e;else{var u=e.length,c=e[u-1];t="y"===c&&"day"!==e?"".concat(e.slice(0,u-1),"ies"):"".concat(e,"s"===c?"es":"s")}if(o){var l=r?h(i):i;return"".concat(l," ").concat(t)}return t}function g(e){return null===e||void 0===e?void 0:e.replace(/_/g," ")}function v(e){var n=e.length;return"ies"===e.slice(n-3,n)?"".concat(e.slice(0,n-3),"y"):"es"===e.slice(n-2,n)&&"ces"!==e.slice(n-3,n)?e.slice(0,n-2):e.slice(0,n-1)}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return d(g(e.toLowerCase()))}function O(e){var n,t=[["second",60],["minute",60],["hour",24],["day",7],["week",4],["month",12],["year",null]];return t.forEach((function(i,o){if(!n){var u=(0,r.Z)(i,2),c=u[0],l=u[1],a=t.slice(0,o).reduce((function(e,n){return e*Number(n[1])}),1);e<Number(l)*a&&(n=b(c,Math.round(e/a)))}})),n}function y(e){return!isNaN(e)}function j(e){return"".concat(h(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Math.round((e||0)*Math.pow(100,n))/100}(e)),"%")}function w(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,t=Math.pow(10,n);return Math.round((e||0)*t)/t}function k(){return"".concat((0,c.mp)(o)," ").concat((0,c.mp)(u))}function P(e){return null===e||void 0===e?void 0:e.toLowerCase().replace(/\W+/g,"_")}function Z(e){var n,t=e.split(i.sep),r=t[t.length-1].split(".");return n=1===r.length?r[0]:r.slice(0,-1).join("."),t.slice(0,t.length-1).concat(n).join(i.sep)}},59606:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines/[pipeline]/settings",function(){return t(70814)}])}},function(e){e.O(0,[3879,5716,881,4506,6214,9774,2888,179],(function(){return n=59606,e(e.s=n);var n}));var n=e.O();_N_E=n}]);